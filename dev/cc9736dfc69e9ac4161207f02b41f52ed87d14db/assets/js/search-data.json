{"0": {
    "doc": "Automate Resources Lifecycle",
    "title": "Automate Resources Lifecycle",
    "content": "V1.0 – September 2024 . | Version | Author | Description | . | V1.0 – 2024-09-10 | Diogo Hatz d50037923 | Initial Version | . | V1.0 – 2024-09-10 | Wisley da Silva Paulo 00830850 | Document Review | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/coc/automate-resources-lifecycle#automate-resources-lifecycle",
    
    "relUrl": "/docs/management-and-governance/coc/automate-resources-lifecycle#automate-resources-lifecycle"
  },"1": {
    "doc": "Automate Resources Lifecycle",
    "title": "Objective",
    "content": "This document aims to present the procedures required to create an automated task to periodically turn on and off resources in Huawei Cloud through the Cloud Operations Center (COC) service. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/coc/automate-resources-lifecycle#objective",
    
    "relUrl": "/docs/management-and-governance/coc/automate-resources-lifecycle#objective"
  },"2": {
    "doc": "Automate Resources Lifecycle",
    "title": "COC",
    "content": "To create an automated task to turn on and off resources for an account in Huawei Cloud, first access the COC service through the HWC console and allow the delegation of permissions to the agency related to the COC service. Note: The agencies created for the COC service will only be used to delegate permissions to the COC service. Navigate to the “Resource O&amp;M” section and access the “Automated O&amp;M” subsection. Select the “Scheduled O\\&amp;M” routine to define an automated resource power-on and power-off policy and click “Create Task”. Enter information relevant to the task, such as its name and the enterprise project to which the task belongs. Additionally, enter a time zone for the periodic definition of the task. Select the “Periodic execution” option to set a date and time for the periodic execution of the function, as well as the expiration date of the function. Select the task type as “Jobs” and “Common Jobs” and select the desired job. In this example, a task will be created to automatically initialize ECSs. Select the agency “ServiceLinkedAgencyForCOC” in “IAM Agency” and the region used. Click “+Add” to add ECS instances that will be part of the periodic task and select the respective instances. After that, simply disable the Batch Policy and Manual Review options and click “Submit” to save the created task. Note: The batch policy option is used to delimit distinct groups of resources for the task, while the manual review option is used to force authorization for the execution of the task by a delimited approver. You can see the task status as “Enabled” in the COC console. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/coc/automate-resources-lifecycle#coc",
    
    "relUrl": "/docs/management-and-governance/coc/automate-resources-lifecycle#coc"
  },"3": {
    "doc": "Automate Resources Lifecycle",
    "title": "Example",
    "content": "After defining the task created in item 2.0 of this document, you can see that when the day and time specified in the task were reached, the ECS defined in the task was initialized. You can also view the task execution status through the COC console . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/coc/automate-resources-lifecycle#example",
    
    "relUrl": "/docs/management-and-governance/coc/automate-resources-lifecycle#example"
  },"4": {
    "doc": "Automate Resources Lifecycle",
    "title": "References",
    "content": ". | COC Documentation: https://support.huaweicloud.com/intl/en-us/usermanual-coc/coc_um_05_03_01.html. | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/coc/automate-resources-lifecycle#references",
    
    "relUrl": "/docs/management-and-governance/coc/automate-resources-lifecycle#references"
  },"5": {
    "doc": "Automate Resources Lifecycle",
    "title": "Automate Resources Lifecycle",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/coc/automate-resources-lifecycle",
    
    "relUrl": "/docs/management-and-governance/coc/automate-resources-lifecycle"
  },"6": {
    "doc": "Bricked ECS After Migration Troubleshooting",
    "title": "Bricked ECS After Migration Troubleshooting",
    "content": "V1.0 – July 2024 . | Version | Author | Description | . | V1.0 – 2024-07-30 | Diogo Hatz 50037923 | Initial Version | . | V1.0 – 2024-07-30 | Wisley da Silva 00830850 | Document Review | . ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#bricked-ecs-after-migration-troubleshooting",
    
    "relUrl": "/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#bricked-ecs-after-migration-troubleshooting"
  },"7": {
    "doc": "Bricked ECS After Migration Troubleshooting",
    "title": "Introduction",
    "content": "SMS is a virtual machine migration service provided by Huawei Cloud. With this service, you can migrate VMs from other cloud providers or from on-premises environments to the cloud. SMS migrates virtual machines to ECSs, which correspond to the virtual machine service in Huawei Cloud. This document aims to present a solution for VMs migrated using the SMS migration service in which it is not possible to access the machine through “remote login”, via the console, or via remote access via protocols such as SSH. ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#introduction",
    
    "relUrl": "/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#introduction"
  },"8": {
    "doc": "Bricked ECS After Migration Troubleshooting",
    "title": "Considerations",
    "content": "Important: It is possible for several different factors to cause ECSs to freeze after they are migrated via SMS. This document will address the issue of compatibility of certain versions of cloud-init with the ECS service, which is one of the factors that can cause ECS to freeze. ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#considerations",
    
    "relUrl": "/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#considerations"
  },"9": {
    "doc": "Bricked ECS After Migration Troubleshooting",
    "title": "Symptoms",
    "content": "When trying to access the ECS via remote login or SSH, the following errors occur: . ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#symptoms",
    
    "relUrl": "/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#symptoms"
  },"10": {
    "doc": "Bricked ECS After Migration Troubleshooting",
    "title": "Temporary ECS",
    "content": "Since the ECS cannot be accessed, you will need to remove your system disk and attach it to a temporary ECS in order to access its boot menu. To do this, first create a temporary ECS with the same operating system and same AZ as the frozen machine. After that, remove the system disk from the frozen ECS and place it in the temporary ECS as a data disk. Removing the system disk from the frozen ECS: . Attaching the system disk from the frozen ECS to the temporary ECS as a data disk data: . After that, remotely access the temporary ECS and use the “fdisk -l” command to list the disks attached to the machine. When you identify the disk that was attached to the temporary ECS, mount the disk with the mount command. For example: “mount /dev/vdb1 /mnt”. Once the mount is complete, perform the following steps: . | Delete the grub configuration file with the command: . | . rm /mnt/boot/grub/grub.cfg . | Copy the generic kernel from the temporary ECS to the /boot directory of the frozen ECS: . | . cp /boot/vmlinuz-5.4.0-170-generic /mnt/boot/vmlinuz-5.4.0-170-generic . Important: The kernel name used was just an example; it is necessary to copy the kernel used by the temporary ECS. If in doubt, use the “uname -r” command to list the running kernel version. | Copy the initrd from the temporary ESC to the /boot directory of the frozen ECS: . | . cp /boot/initrd.img-5.4.0-170-generic /mnt/boot/initrd.img-5.4.0-170-generic . Important: Copy the initrd for the kernel copied in step 2.0. If there is no initrd, generate one with the “update-initramfs -u” command. Remove the data disk with the command “umount /dev/vdb1”. Once done, put the frozen ECS system disk back into the original ECS, following the step-by-step instructions in item 4.0 of this document. Once done, start the machine and “remotely log in” to it via the console. ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#temporary-ecs",
    
    "relUrl": "/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#temporary-ecs"
  },"11": {
    "doc": "Bricked ECS After Migration Troubleshooting",
    "title": "Grub shell",
    "content": ". Run the “ls” command to list the disk partitions seen by Grub. To identify which is the correct partition to use, run the “ls (hd0,gpt1)/” command until you find the partition with the contents of the system disk, replacing “hd0,gpt1” with the partitions seen by the “ls”. Once you find the correct partition, perform the following steps to boot the temporary ECS kernel in single-user mode: . | Replacing (hd0,gpt1) with the partition found above; set root=(hd0,gpt1) . | Replacing “vmlinuz-5.4.0-170-generic” with the kernel copied from the temporary ECS in item 4.0 of this document and replacing “vda1” according to the partition found. Example: (hd0,gp1) = vda1, (hd1,gpt1) = vdb1, (hd3,gpt2) = /dev/vdd2, and so on; linux /boot/vmlinuz-5.4.0-170-generic root=/dev/vda1 ro single . | Replacing “initrd.img-5.4.0-170-generic” with the initrd copied from the temporary ECS in item 4.0 of this document; initrd /boot/initrd.img-5.4.0-170-generic . | Finish booting. boot . | . After entering the boot command, the ECS will boot in single-user mode. Enter the ECS root password when prompted. ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#grub-shell",
    
    "relUrl": "/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#grub-shell"
  },"12": {
    "doc": "Bricked ECS After Migration Troubleshooting",
    "title": "Single-user",
    "content": "Use the “apt-get remove cloud-init -y” command to uninstall cloud-init. Use the “update-grub” command to generate the previously deleted grub configuration file. Use the command “grep ‘menuentry ‘ /boot/grub/grub.cfg” to list the kernel versions on the system and copy the desired version so that Grub will boot by default. Use the command “vim /etc/default/grub” to modify the grub configuration file. Change the parameters grub_default={kernel name copied above}, “grub_timeout_style=menu” and “grub_timeout=10”. Use the “update-grub” command to update the grub configuration file again. Use the “reboot” command to restart the ECS. Note that the machine will now boot normally. ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#single-user",
    
    "relUrl": "/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#single-user"
  },"13": {
    "doc": "Bricked ECS After Migration Troubleshooting",
    "title": "Configurations",
    "content": "Check the ECS connectivity with the “ip a” command. If the ECS does not have the eth0 interface configured correctly, there may be a conflict in the netplan program configuration. If the ECS has normal connectivity, skip section 7.1 of this document. ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#configurations",
    
    "relUrl": "/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#configurations"
  },"14": {
    "doc": "Bricked ECS After Migration Troubleshooting",
    "title": "Netplan",
    "content": "Type the command “vim /etc/netplan/50-cloud-init.yaml” to open the ECS network configuration file and add the eth0 interface as follows: . Once done, apply the settings made with the “netplan apply” command . If connectivity has not yet returned to normal, check the installation of the drivers KVM from the following documentation: https://support.huaweicloud.com/intl/en-us/usermanual-ims/ims_01_0326.html#ims_01_0326__section1865536911274. ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#netplan",
    
    "relUrl": "/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#netplan"
  },"15": {
    "doc": "Bricked ECS After Migration Troubleshooting",
    "title": "Config",
    "content": "If the VM was migrated from Azure, you will need to change the machine’s Yum repositories to point to the Huawei repository: . sed -i 's/azure.archive.ubuntu.com/repo.huaweicloud.com/g' /etc/apt/sources.list apt autoclean &amp;&amp; apt update . Once you have changed the repositories, reinstall cloud-init with the command: . apt-get install cloud-init . Important: Do not install version 23.3.3 of cloud-init. Install a new version of the Linux kernel with the command: . apt-get install linux-image-generic . Use the command “grep ‘menuentry ‘ /boot/grub/grub.cfg” to list the kernel versions on the system and copy the latest installed version. Use the command “vim /etc/default/grub” to modify the grub configuration file. Change the parameters grub_default={kernel name copied above}. Use the “update-grub” command to update the grub configuration file again. Use the “reboot” command to restart ECS on the updated kernel. ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#config",
    
    "relUrl": "/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#config"
  },"16": {
    "doc": "Bricked ECS After Migration Troubleshooting",
    "title": "Settings (Optional)",
    "content": "In addition to the above settings, it is also recommended that the Azure agent, which is installed by default on Azure VMs, be uninstalled, since the agent constantly reports logs to the VNC console, which may affect VNC performance: . Enter the following command to uninstall the Azure agent: . sudo apt -y remove walinuxagent apt-get remove -y linux-azure-* apt-get remove -y *azure . ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#settings-optional",
    
    "relUrl": "/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#settings-optional"
  },"17": {
    "doc": "Bricked ECS After Migration Troubleshooting",
    "title": "References",
    "content": ". | Installing KVM drivers: https://support.huaweicloud.com/intl/en-us/usermanual-ims/ims_01_0326.html#ims_01_0326__section1865536911274. | . ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#references",
    
    "relUrl": "/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#references"
  },"18": {
    "doc": "Bricked ECS After Migration Troubleshooting",
    "title": "Bricked ECS After Migration Troubleshooting",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/bricked-ecs-after-migration-troubleshooting",
    
    "relUrl": "/docs/migration/sms/bricked-ecs-after-migration-troubleshooting"
  },"19": {
    "doc": "Creating and Managing Alarms",
    "title": "Creating and Managing Alarms",
    "content": "V1.1 – December 2023 . | Version | Author | Description | . | V1.0 – 2023-12-20 | Diogo Hatz 50037923 | Initial Version | . | V1.0 – 2023-12-21 | Wisley da Silva 00830850 | Document Review | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/creating-and-managing-alarms#creating-and-managing-alarms",
    
    "relUrl": "/docs/management-and-governance/ces/creating-and-managing-alarms#creating-and-managing-alarms"
  },"20": {
    "doc": "Creating and Managing Alarms",
    "title": "Introduction",
    "content": "Cloud Eye (CES) is a free tool for monitoring Huawei Cloud resources. In addition to resource monitoring, Cloud Eye can also be used to create event- or metric-based alarms, identify resource malfunctions, and quickly react to resource changes. It is worth noting that, although Cloud Eye is a free service, charges for sending notifications when alarms are triggered are charged. This document aims to describe the main functionalities of the Cloud Eye service and guide the reader to use CES for monitoring cloud resources, such as ECSs, VPNs, and CBRs, etc. In addition, it also describes how to create event- or metric-based alarms and customize dashboards for resource monitoring. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/creating-and-managing-alarms#introduction",
    
    "relUrl": "/docs/management-and-governance/ces/creating-and-managing-alarms#introduction"
  },"21": {
    "doc": "Creating and Managing Alarms",
    "title": "Cloud Eye on the console",
    "content": " ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/creating-and-managing-alarms#cloud-eye-on-the-console",
    
    "relUrl": "/docs/management-and-governance/ces/creating-and-managing-alarms#cloud-eye-on-the-console"
  },"22": {
    "doc": "Creating and Managing Alarms",
    "title": "Overview",
    "content": "When you open Cloud Eye on the console, the home page that will load is the Overview, where you can see an overview of all resources used in Huawei Cloud, the overall network, CPU, memory, and disk utilization, and which resources have recently triggered alarms and need further attention. | Resource Overview: Allows you to view the total number of monitored resources and the alarms generated for these resources. | Alarm Statistics: Shows the alarms triggered in the last seven days by alarm severity. | Server Monitoring: Allows you to view the overall CPU and memory utilization of monitored servers and a list of the top 5 ECSs ranked by CPU or memory utilization. | Network Monitoring: Shows the overall bandwidth utilization of EIPs and a list of the top 5 EIPs ranked by bandwidth utilization. | Storage Monitoring: Allows you to view the overall disk utilization (EVS) by read and write IOPS and a list of the top 5 disks ranked by IOPS. | . You can see what the Cloud Eye home page looks like in the images below: . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/creating-and-managing-alarms#overview",
    
    "relUrl": "/docs/management-and-governance/ces/creating-and-managing-alarms#overview"
  },"23": {
    "doc": "Creating and Managing Alarms",
    "title": "Resource groups",
    "content": "Resource groups allow you to group multiple Huawei Cloud resources for joint monitoring, and also facilitate the management of alarms for multiple resources in batches. A resource group can be created in the Resource Groups section by clicking Create Resource Group. On the page that loads, choose a name for the resource group in Name and select the resources to add to the group by service. After adding all the desired resources, click Create. You can create alarms for a specific resource group, making it easy to create batch alarms for multiple resources that share the same context. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/creating-and-managing-alarms#resource-groups",
    
    "relUrl": "/docs/management-and-governance/ces/creating-and-managing-alarms#resource-groups"
  },"24": {
    "doc": "Creating and Managing Alarms",
    "title": "Alarm management",
    "content": "The alarm management section has the following subsections: . | Alarm rules: Subsection used to view and create alarms based on metrics or events. | Alarm history: Subsection used to view triggered alarms. | Alarm template: Subsection related to viewing alarm templates. | One-click monitoring: Subsection that allows you to enable monitoring for common service events . | Alarm mask: Subsection that allows you to create alarm masks so that triggered alarms are not notified. | . Creating an alarm . To create an alarm for a specific resource based on an event or metric, navigate to the Alarm Rules section in Alarm Management and click Create Alarm Rule. Configure the basic alarm settings, such as the alarm name in Name and the type of resource to be monitored in Resource Type, as well as its scope in Dimension. To configure an alarm for an ECS, for example, the Resource Type is Elastic Cloud Server and the Dimension is ECSs. If the alarm triggering condition is a metric, such as the ECS CPU or memory utilization rate, select Metric in Alarm Type. If the alarm triggering condition is an event, for example, the event of an uninstalled GPU, select Event in the Alarm Type field. In this example, the metric to trigger the alarm will be the ECS CPU utilization above 80%. In Monitoring Scope, the specific resource that will trigger the alarm must be configured. The resource can be selected in three different ways: . | All resources: Select this option if the alarm can be triggered by all instances of the selected resource. | Resource groups: Select this option if the alarm can be triggered by all resources present in a resource group. See section 3.3. | Specific resources: Select this option to choose a specific instance of the selected service to trigger the alarm. | . In this example, the ECS “ecs-4194” will be selected as the instance that can trigger the alarm in the Specific resources field under Monitoring Scope. There are three different ways to configure the metric that will trigger the alarm in Method: . | Associate template: In this option, the metric to trigger the alarm will be configured based on an existing template. | Use existing template: In this option, the metric to trigger the alarm will be configured based on an existing template. | Configure manually: In this option, the metric to trigger the alarm will be configured manually, which allows for greater flexibility. | . In this example, the metric that will be configured to trigger the alarm will be if the ECS CPU usage is greater than or equal to 80%. In Metric Name, it is possible to select the metric that can trigger the alarm, as in this case it is (Agent) CPU Usage (Recommended). For this option to be selected, the Cloud Eye agent must be installed, as done in section 3.5. It is important that the agent is installed on monitored servers to obtain better accuracy in data monitoring and a wider range of monitoring metrics. In Alarm Policy, you can select the type of data that will be analyzed, such as raw data, average, maximum, minimum, variance or sum of the ingested data; as well as the percentage that will trigger the alarm and the form of comparison, such as greater than or equal, greater than, less than, less than or equal, increase in relation to or decrease in relation to. In the Alarm Notification section, you can configure a notification for alarms triggered by email, SMS, HTTP and HTTPS requests or through a trigger in FunctionGraph. If the notification only needs to be sent to the email of the account owner in the Huawei Cloud console, you can select the Account contact option in Notification Object directly. In this example, a second email address will be configured to receive notifications of Cloud Eye alarms. To do this, you must first enable the Short Message Notification (SMN) service. Click Topics to view the notification topics that you have created. Click Create Topic to create a notification topic. Enter the name of the notification topic in Topic Name and click OK. Next, click Add Subscription to add a communication channel through which the notification will be sent. Next, choose the protocol for sending the notification, in this case Email, and enter the chosen email in Endpoints. Click OK. An email will be sent to the selected endpoint. For the SMN service to work correctly, the user must confirm their email through a confirmation that will be sent as soon as the Subscription is configured. Returning to the alarm creation, select the topic created in the previous steps in Notification Object and configure the time window in which the notification can be sent in Notification Window. In addition, also select the occasions in which the notification will be sent in the Trigger Condition: when the alarm is generated or when the alarm is cleared. After configuring, select Create to create the alarm. In Alarm Rules you can see the created alarms and their statuses, as well as the resource that is monitored and the alarm activation policy. After an alarm is triggered, you can view it in the Alarm Records section in Alarm Management. You can also view the notification generated by the alarm on the endpoint selected for sending the notification in the SMN service. In another context, the following email was generated for monitoring a bucket in the OBS service for object storage in Huawei Cloud: . The tables for the metrics and events monitored for Huawei Cloud ECS, VPN, NAT, and CBR services have been included in the appendices section 4.0 of this document. To create event-based alarms or metrics for these services, the procedure is the same as that described above. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/creating-and-managing-alarms#alarm-management",
    
    "relUrl": "/docs/management-and-governance/ces/creating-and-managing-alarms#alarm-management"
  },"25": {
    "doc": "Creating and Managing Alarms",
    "title": "Attachments",
    "content": " ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/creating-and-managing-alarms#attachments",
    
    "relUrl": "/docs/management-and-governance/ces/creating-and-managing-alarms#attachments"
  },"26": {
    "doc": "Creating and Managing Alarms",
    "title": "Server Monitoring Metrics",
    "content": "| Metrics | No Agent | Agent Installed | . | CPU Usage | Yes | Yes / Dedicated | . | Disk Usage | Yes | Yes | . | Memory Usage | Yes | Yes / Dedicated | . | Disk Write Bandwidth | Yes | Yes | . | Disk Read Bandwidth | Yes | Yes | . | Disk Write IOPS | Yes | Yes | . | Disk Read IOPS | Yes | Yes | . | In-Band Rate | Yes | Yes | . | In-Band Rate | Yes | Yes | . | In-Band Rate | Yes | Yes | . | Out-Band Rate | Yes | Yes | . | Out-Band Rate | Yes | Yes | . | CPU Credit Usage | Yes | Yes | . | CPU Credit Balancing | Yes | Yes | . | CPU Credit Balancing Overage | Yes | Yes | . | CPU Loaded Credit Overage | Yes | Yes | . | Network Connections | Yes | Yes | . | Inbound Bandwidth Per Server | Yes | Yes | . | Outbound Bandwidth Per Server | Yes | Yes | . | Inbound PPS | Yes | Yes | . | Outbound PPS | Yes | Yes | . | New Connections | Yes | Yes | . | Aggregate ECC Uncorrectable Errors | Yes | Yes | . | Pages Retired with Single Bit Errors | Yes | Yes | . | Pages Retired with Double Bit Errors | Yes | Yes | . | GPU Health Status | Yes | Yes | . | GPU Encoder Usage | Yes | Yes | . | GPU Decoder Usage | Yes | Yes | . | ECC Volatile Correctable Errors | Yes | Yes | . | ECC Volatile Uncorrectable Errors | Yes | Yes | . | CPU Idle | No | Yes / Dedicated | . | User space CPU usage | No | Yes / Dedicated | . | Kernel space CPU usage | No | Yes / Dedicated | . | Other processes CPU usage | No | Yes / Dedicated | . | Optimal processes CPU usage | No | Yes / Dedicated | . | Time the CPU is waiting for I/O operations | No | Yes / Dedicated | . | CPU interrupt time | No | Yes / Dedicated | . | Software CPU interrupt time | No | Yes / Dedicated | . | Available memory | No | Yes / Dedicated | . | Idle memory | No | Yes / Dedicated | . | Buffer | No | Yes / Dedicated | . | Cache | No | Yes / Dedicated | . | Input bandwidth per NIC | No | Yes / Dedicated | . | Output bandwidth per NIC | No | Yes / Dedicated | . | Packet rate sent per NIC | No | Yes / Dedicated | . | Packet rate received per NIC | No | Yes / Dedicated | . | Error packet rate received per NIC | No | Yes / Dedicated | . | Error packet rate transmitted per NIC | No | Yes / Dedicated | . | Received packets dropped rate per NIC | No | Yes / Dedicated | . | Transmitted packets dropped rate per NIC | No | Yes / Dedicated | . | Running processes | No | Yes / Dedicated | . | Idle processes | No | Yes / Dedicated | . | Zombie processes | No | Yes / Dedicated | . | Blocked processes | No | Yes / Dedicated | . | Sleeping processes | No | Yes / Dedicated | . | Total processes | No | Yes / Dedicated | . | TCP retransmission rate | No | Yes / Dedicated | . | TCP SYS_SENT | No | Yes / Dedicated | . | TCP SYS_RECV | No | Yes / Dedicated | . | TCP FIN_WAIT1 | No | Yes / Dedicated | . | TCP FIN_WAIT2 | No | Yes / Dedicated | . | TCP CLOSE | No | Yes / Dedicated | . | TCP LAST_ACK | No | Yes / Dedicated | . | TCP LISTEN | No | Yes / Dedicated | . | TCP CLOSING | No | Yes / Dedicated | . | Average CPU load in the last minute | No | Yes / Dedicated | . | Average CPU load in the last 15 minutes | No | Yes / Dedicated | . | Average CPU load in the last 5 minutes | No | Yes / Dedicated | . | TCP ESTABLISHED | No | Yes / Dedicated | . | TCP TOTAL | No | Yes / Dedicated | . | UDP TOTAL | No | Yes / Dedicated | . | NTP Offset | No | Yes / Dedicated | . | Total files processed | No | Yes / Dedicated | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/creating-and-managing-alarms#server-monitoring-metrics",
    
    "relUrl": "/docs/management-and-governance/ces/creating-and-managing-alarms#server-monitoring-metrics"
  },"27": {
    "doc": "Creating and Managing Alarms",
    "title": "VPN Gateway Monitoring Metrics",
    "content": "| Metrics | Supported | . | Ingress Packet Rate | Yes | . | Egress Packet Rate | Yes | . | Ingress Bandwidth | Yes | . | Egress Bandwidth | Yes | . | Ingress Bandwidth Usage | Yes | . | Number of Connections | Yes | . | Egress Bandwidth Usage | Yes | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/creating-and-managing-alarms#vpn-gateway-monitoring-metrics",
    
    "relUrl": "/docs/management-and-governance/ces/creating-and-managing-alarms#vpn-gateway-monitoring-metrics"
  },"28": {
    "doc": "Creating and Managing Alarms",
    "title": "VPN Connection Monitoring Metrics",
    "content": "| Metrics | Supported | . | Tunnel Average RTT | Yes | . | Tunnel Max RTT | Yes | . | Tunnel Packet Loss Rate | Yes | . | Link Average RTT | Yes | . | Link Max RTT | Yes | . | Link Packet Loss Rate | Yes | . | VPN Connection Status | Yes | . | Packet Receive Rate | Yes | . | Packet Send Rate | Yes | . | Traffic Receive Rate | Yes | . | Traffic Send Rate | Yes | . | SA packet sending rate | Yes | . | SA packet receiving rate | Yes | . | SA traffic sending rate | Yes | . | SA traffic receiving rate | Yes | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/creating-and-managing-alarms#vpn-connection-monitoring-metrics",
    
    "relUrl": "/docs/management-and-governance/ces/creating-and-managing-alarms#vpn-connection-monitoring-metrics"
  },"29": {
    "doc": "Creating and Managing Alarms",
    "title": "NAT monitoring metrics",
    "content": "| Metrics | Supported | . | SNAT connections | Yes | . | Inbound bandwidth | Yes | . | Outbound bandwidth | Yes | . | Inbound PPS | Yes | . | Outbound PPS | Yes | . | Inbound traffic | Yes | . | Outbound traffic | Yes | . | SNAT connections usage rate | Yes | . | Inbound bandwidth usage rate | Yes | . | Outbound bandwidth usage rate | Yes | . | Total outbound bandwidth (UDP) | Yes | . | Total outbound bandwidth (TCP) | Yes | . | Total inbound bandwidth (UDP) | Yes | . | Total inbound bandwidth (TCP) | Yes | . | Packets lost due to excessive SNAT connections | Yes | . | Packets lost due to excessive PPS | Yes | . | Packets lost by all allocated EIP ports | Yes | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/creating-and-managing-alarms#nat-monitoring-metrics",
    
    "relUrl": "/docs/management-and-governance/ces/creating-and-managing-alarms#nat-monitoring-metrics"
  },"30": {
    "doc": "Creating and Managing Alarms",
    "title": "Events monitored for CBR alarm",
    "content": "| Events | Supported | . | Agent online | Yes | . | Agent offline | Yes | . | Failed to create backup | Yes | . | Failed to restore resource from backup | Yes | . | Failed to delete backup | Yes | . | Failed to delete vault | Yes | . | Backup was successful | Yes | . | Restore resource from backup was successful | Yes | . | Backup was deleted successfully | Yes | . | Vault was deleted successfully | Yes | . | Error during replication | Yes | . | Replication was successful | Yes | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/creating-and-managing-alarms#events-monitored-for-cbr-alarm",
    
    "relUrl": "/docs/management-and-governance/ces/creating-and-managing-alarms#events-monitored-for-cbr-alarm"
  },"31": {
    "doc": "Creating and Managing Alarms",
    "title": "Events monitored for server alarms",
    "content": "| Events | Supported | . | Redeployment scheduled to be authorized | Yes | . | Local disk swap canceled | Yes | . | Local disk swap to be executed | Yes | . | Xid event alarm triggered on GPU | Yes | . | Spec modification scheduled to be executed | Yes | . | Migration scheduled to be executed | Yes | . | Shutdown scheduled to be executed | Yes | . | Reboot scheduled to be executed | Yes | . | Redeployment scheduled to be executed | Yes | . | Unrecoverable ECC errors generated by GPU SRAM | Yes | . | Inforom alarm generated on GPU | Yes | . | ECC double bit alarm generated on GPU | Yes | . | Excessive retired pages | Yes | . | ECC alarm generated on GPU a100 | Yes | . | ECC failure on GPU memory page retirement | Yes | . | ECC failure on GPU page retirement | Yes | . | Too many single bit ECC errors on GPU | Yes | . | Video card not found | Yes | . | Faulty GPU link | Yes | . | Video card lost | Yes | . | Faulty GPU memory page | Yes | . | Faulty GPU engine image | Yes | . | GPU temperature too high | Yes | . | Faulty GPU NVLink | Yes | . | nvidia-smi hang | Yes | . | ECS cleared | Yes | . | ECS restarted | Yes | . | ECS shut down | Yes | . | NIC deleted | Yes | . | ECS resized | Yes | . | Hardware error reboot | Yes | . | Hardware error reboot successful | Yes | . | Auto-recovery timeout | Yes | . | Initialization error | Yes | . | GPU link error | Yes | . | FPGA link error | Yes | . | ECS error due to abnormal processes on host | Yes | . | GuestOS restarted | Yes | . | Migration started | Yes | . | Migration completed successfully | Yes | . | Error during migration | Yes | . | Risk of host crash | Yes | . | Unrecoverable ECC errors: NPU | Yes | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/creating-and-managing-alarms#events-monitored-for-server-alarms",
    
    "relUrl": "/docs/management-and-governance/ces/creating-and-managing-alarms#events-monitored-for-server-alarms"
  },"32": {
    "doc": "Creating and Managing Alarms",
    "title": "References",
    "content": ". | CES documentation: https://support.huaweicloud.com/intl/en-us/function-ces/index.html | CES limitations: https://support.huaweicloud.com/intl/en-us/productdesc-ces/ces_07_0007.html | FAQ: https://support.huaweicloud.com/intl/en-us/ces_faq/ces_faq_0059.html | CES agent batch installation: https://support.huaweicloud.com/intl/en-us/usermanual-ces/ces_01_0033.html | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/creating-and-managing-alarms#references",
    
    "relUrl": "/docs/management-and-governance/ces/creating-and-managing-alarms#references"
  },"33": {
    "doc": "Creating and Managing Alarms",
    "title": "Creating and Managing Alarms",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/creating-and-managing-alarms",
    
    "relUrl": "/docs/management-and-governance/ces/creating-and-managing-alarms"
  },"34": {
    "doc": "Custom Container Image Function",
    "title": "Custom Container Image Function",
    "content": "V1.0 – July 2024 . | Version | Author | Description | . | V1.0 – 2024-07-11 | Diogo Hatz d50037923 | Initial Version | . | V1.0 – 2024-07-11 | Wisley da Silva Paulo 00830850 | Document Review | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/custom-container-image-function#custom-container-image-function",
    
    "relUrl": "/docs/compute/functiongraph/custom-container-image-function#custom-container-image-function"
  },"35": {
    "doc": "Custom Container Image Function",
    "title": "Objective",
    "content": "This document aims to present the procedures required to create a function in Huawei Cloud’s FunctionGraph serverless service with a runtime based on a container image. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/custom-container-image-function#objective",
    
    "relUrl": "/docs/compute/functiongraph/custom-container-image-function#objective"
  },"36": {
    "doc": "Custom Container Image Function",
    "title": "Considerations",
    "content": "Important: To execute functions based on container images in FunctionGraph, the following criteria must be met: . | An HTTP server listening on port 8000 must be configured and be running in the created container; . | The USER user that will run the container cannot be root. It is necessary to create a new user to run the container with a UID other than 0, 1000, and 1002. The default UID of FunctionGraph is 1003, therefore, if a different UID is configured, it is necessary to change it in the function configuration in FunctionGraph; . | The following environment variables must exist within the container: . | HOME: Path where the function source code will be located; | GROUP_ID: GID of the user group that will run the container; | GROU_NAME: Name of the user group that will run the container; | USER_ID: UID of the user that will run the container; | USER_NAME: Name of the user that will run the container. | . | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/custom-container-image-function#considerations",
    
    "relUrl": "/docs/compute/functiongraph/custom-container-image-function#considerations"
  },"37": {
    "doc": "Custom Container Image Function",
    "title": "SWR",
    "content": "To create a function based on a container image, you must first upload the image to the Huawei Cloud SWR (Software Repository for Container) repository service. Notice: For items 2.0 and 3.0 of this document, you can also refer to the following HWC video for SWR configuration: https://developer.huaweicloud.com/intl/en-us/forum/topic/02117151603960362356. Access the SWR service panel in the HWC console and click “Create Organization”. Fill in the field for the organization name and confirm its creation by clicking “OK”. Once the Organization has been created, click on the button related to “Generate Login Command” and copy the generated command that will be used to perform Docker authentication with the SWR repository. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/custom-container-image-function#swr",
    
    "relUrl": "/docs/compute/functiongraph/custom-container-image-function#swr"
  },"38": {
    "doc": "Custom Container Image Function",
    "title": "Docker",
    "content": "Access the machine that has the container image locally that will run in FunctionGraph and paste the command copied in item 2.0 of this document, related to Docker authentication with the HWC SWR service. After logging into the SWR repository via Docker, copy the following command, changing the fields [image name 1:tag 1], [Image repository address], [Organization name] and [Image name 2:tag 2] according to the list below: . | [Image name 1:tag 1]: {name:tag} of the image to be uploaded; . | [Image repository address]: SWR domain. It can be obtained in the login command obtained in item 2.0 of this document; . | [Organization name]: Name of the organization created in item 2.0 of this document; . | [Image name 2:tag 2]: {name:tag} of the image that will appear in SWR. Similar to a rename, the same name and tag can be kept. | . docker tag {Image name 1:tag 1} {Image repository address} {Organization name} {Image name 2:tag 2} . Example: . docker tag novo:1.0 swr.sa-brazil-1.myhuaweicloud.com/functiongraph/helloworld:1.0 . Now upload the image with the following command: . docker push {Image repository address} {Organization name} {Image name 2:tag 2} . Example: . docker push swr.sa-brazil-1.myhuaweicloud.com/functiongraph/helloworld:1.0 . On the SWR service page in the HWC console, You can see that the image has been successfully published to the repository: . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/custom-container-image-function#docker",
    
    "relUrl": "/docs/compute/functiongraph/custom-container-image-function#docker"
  },"39": {
    "doc": "Custom Container Image Function",
    "title": "Agency",
    "content": "To delegate permissions from the SWR service to FunctionGraph, you need to create an agency with permissions over SWR. Navigate to the IAM service in the Huawei Cloud console and click the “Agencies” page. Click “Create Agency” to create an agency. Give the agency a name, select the agency type as “Cloud Service”, and select the FunctionGraph service. Click “Next” to proceed. Delegate “SWR FullAccess” and “SWR Admin” permissions to the agency and click “Next” and then click “OK” to finish. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/custom-container-image-function#agency",
    
    "relUrl": "/docs/compute/functiongraph/custom-container-image-function#agency"
  },"40": {
    "doc": "Custom Container Image Function",
    "title": "FunctionGraph",
    "content": "Access the FunctionGraph service in the Huawei Cloud console and navigate to the Functions &gt; Function List page. Click “Create Function”. Select the “Container Image”, “HTTP Function” option, give the function a name, select the agency created in item 4.0 of this document, and select the SWR image. You can also configure additional container options, such as the CMD startup command, execution arguments, User ID, and Group ID. Important: The default User ID used is 1003, and the User ID corresponding to the root user on UNIX systems cannot be used. To execute functions based on container images, it is recommended to create a new user with UID = 1003 and set this user as the USER when building the image. Once you have created the function, click “Test” to test the created function. Confirm the example of the HTTP request received and click “Create”. Click “Test” again to test the created function. Important: If the function execution shows the error “runtime process is exited”, check the memory allocated to the function in “Configuration” and “Memory(MB)”, allocating more memory. Finally, just configure a trigger for the function. In this example, the trigger that will call the FunctionGraph function will be an API Gateway from the HWC APIG service. To create a trigger, just click on “+ Create Trigger” and configure the APIG instance, filling in the API Group, Environment, Security Authentication, protocol and timeout. . It is worth noting that in the API configuration related to the function call, the function in question must be explicitly specified as the API backend. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/custom-container-image-function#functiongraph",
    
    "relUrl": "/docs/compute/functiongraph/custom-container-image-function#functiongraph"
  },"41": {
    "doc": "Custom Container Image Function",
    "title": "Example",
    "content": "In this example, a function written in .NET 8.0 was developed with a trigger by HWC’s API Gateway (APIG) so that, every time it is called, the function makes a GET request to a remote HTTP server. Calling the API via the API Gateway dashboard in the HWC console: . Remote HTTP Server Listener: . API Execution Result: . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/custom-container-image-function#example",
    
    "relUrl": "/docs/compute/functiongraph/custom-container-image-function#example"
  },"42": {
    "doc": "Custom Container Image Function",
    "title": "References",
    "content": ". | FunctionGraph Documentation: https://support.huaweicloud.com/intl/en-us/qs-functiongraph/functiongraph_04_0103.html. | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/custom-container-image-function#references",
    
    "relUrl": "/docs/compute/functiongraph/custom-container-image-function#references"
  },"43": {
    "doc": "Custom Container Image Function",
    "title": "Custom Container Image Function",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/custom-container-image-function",
    
    "relUrl": "/docs/compute/functiongraph/custom-container-image-function"
  },"44": {
    "doc": "Failed to start agent，error：Current quota is not enough, please use MgC",
    "title": "Failed to start agent, error: Current quota is not enough, please use MgC",
    "content": "V1.0 – May 2024 . | Version | Author | Description | . | V1.0 – 2024-05-21 | Diogo Hatz 50037923 | Document Translation | . | V1.0 – 2024-05-22 | Wisley Paulo 00830850 | Document Review | . Reason： . This message is displayed because the number of source servers reported to SMS has reached the upper limit (more than 10) and the migration task cannot be manually added. Solution： . | The operating system is Windows. | . You can go to the following directory:C:\\SMS-Agent-Py3\\config   or   C:\\SMS-Agent-Py2\\config. Then open the file as shown in the picture：g-property.cfg . Then change ‘start_type = MANUAL’ to ‘start_type = MGC’ in the file. before: . after: . Finally, restart the agent. | The operating system is Linux. | . You can open the file :SMS-Agent/agent/config/g-property.cfg . Then change ‘start_type = MANUAL’ to ‘start_type = MGC’ in the file.   . Finally, restart the agent. ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/failed-to-start-agent-error-quota-is-not-enough#failed-to-start-agent-error-current-quota-is-not-enough-please-use-mgc",
    
    "relUrl": "/docs/migration/sms/failed-to-start-agent-error-quota-is-not-enough#failed-to-start-agent-error-current-quota-is-not-enough-please-use-mgc"
  },"45": {
    "doc": "Failed to start agent，error：Current quota is not enough, please use MgC",
    "title": "Failed to start agent，error：Current quota is not enough, please use MgC",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/failed-to-start-agent-error-quota-is-not-enough",
    
    "relUrl": "/docs/migration/sms/failed-to-start-agent-error-quota-is-not-enough"
  },"46": {
    "doc": "Cloud Eye Service (CES)",
    "title": "Cloud Eye Service (CES)",
    "content": "Cloud Eye monitors cloud services and resources to keep you informed of any issues in real time. Product Page · Help Center Page . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces#cloud-eye-service-ces",
    
    "relUrl": "/docs/management-and-governance/ces#cloud-eye-service-ces"
  },"47": {
    "doc": "Cloud Eye Service (CES)",
    "title": "Cloud Eye Service (CES)",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces",
    
    "relUrl": "/docs/management-and-governance/ces"
  },"48": {
    "doc": "IAM Identity Center (IIC)",
    "title": "IAM Identity Center (IIC)",
    "content": "IAM Identity Center helps you centrally manage your workforce identities and their access to multiple Huawei Cloud accounts. You can create identities for your entire enterprise at one go and give them single sign-on (SSO) access with managed permissions. Help Center Page . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iic#iam-identity-center-iic",
    
    "relUrl": "/docs/management-and-governance/iic#iam-identity-center-iic"
  },"49": {
    "doc": "IAM Identity Center (IIC)",
    "title": "IAM Identity Center (IIC)",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iic",
    
    "relUrl": "/docs/management-and-governance/iic"
  },"50": {
    "doc": "Cloud Operations Center (COC)",
    "title": "Cloud Operations Center (COC)",
    "content": "Provides a secure, efficient, and AI-powered O&amp;M platform, enabling you to seamlessly manage all your cloud resources in one place. Product Page · Help Center Page . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/coc#cloud-operations-center-coc",
    
    "relUrl": "/docs/management-and-governance/coc#cloud-operations-center-coc"
  },"51": {
    "doc": "Cloud Operations Center (COC)",
    "title": "Cloud Operations Center (COC)",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/coc",
    
    "relUrl": "/docs/management-and-governance/coc"
  },"52": {
    "doc": "Identity and Access Management (IAM)",
    "title": "Identity and Access Management (IAM)",
    "content": "Huawei Cloud Identity and Access Management (IAM) provides permissions management to help you securely control access to your cloud services and resources. Product Page · Help Center Page . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iam#identity-and-access-management-iam",
    
    "relUrl": "/docs/management-and-governance/iam#identity-and-access-management-iam"
  },"53": {
    "doc": "Identity and Access Management (IAM)",
    "title": "Identity and Access Management (IAM)",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iam",
    
    "relUrl": "/docs/management-and-governance/iam"
  },"54": {
    "doc": "Management & Governance",
    "title": "Management &amp; Governance",
    "content": " ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance#management--governance",
    
    "relUrl": "/docs/management-and-governance#management--governance"
  },"55": {
    "doc": "Management & Governance",
    "title": "Management & Governance",
    "content": " ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance",
    
    "relUrl": "/docs/management-and-governance"
  },"56": {
    "doc": "Cloud Container Engine (CCE)",
    "title": "Cloud Container Engine (CCE)",
    "content": "A fully hosted Kubernetes service that lets you build, run, and scale containerized applications. Product Page · Help Center Page . ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce#cloud-container-engine-cce",
    
    "relUrl": "/docs/containers/cce#cloud-container-engine-cce"
  },"57": {
    "doc": "Cloud Container Engine (CCE)",
    "title": "Cloud Container Engine (CCE)",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce",
    
    "relUrl": "/docs/containers/cce"
  },"58": {
    "doc": "Containers",
    "title": "Containers",
    "content": " ",
    "url": "/huaweicloud-knowledge-base/docs/containers",
    
    "relUrl": "/docs/containers"
  },"59": {
    "doc": "Server Migration Service (SMS)",
    "title": "Server Migration Service (SMS)",
    "content": "Migrate your on-premises and cloud-based applications and data to Huawei Cloud with confidence. Product Page · Help Center Page . ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms#server-migration-service-sms",
    
    "relUrl": "/docs/migration/sms#server-migration-service-sms"
  },"60": {
    "doc": "Server Migration Service (SMS)",
    "title": "Server Migration Service (SMS)",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms",
    
    "relUrl": "/docs/migration/sms"
  },"61": {
    "doc": "Migration Center (MgC)",
    "title": "Migration Center (MgC)",
    "content": "Migrate and modernize applications and data with MgC to optimize costs and drive innovation. Product Page · Help Center Page . ",
    "url": "/huaweicloud-knowledge-base/docs/migration/mgc#migration-center-mgc",
    
    "relUrl": "/docs/migration/mgc#migration-center-mgc"
  },"62": {
    "doc": "Migration Center (MgC)",
    "title": "Migration Center (MgC)",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/migration/mgc",
    
    "relUrl": "/docs/migration/mgc"
  },"63": {
    "doc": "Migration",
    "title": "Migration",
    "content": " ",
    "url": "/huaweicloud-knowledge-base/docs/migration",
    
    "relUrl": "/docs/migration"
  },"64": {
    "doc": "Virtual Private Network (VPN)",
    "title": "Virtual Private Network (VPN)",
    "content": "Rest assured with secure, reliable, and cost-effective encrypted connections between your local network, data center, or terminals and a Huawei Cloud VPC. Product Page · Help Center Page . ",
    "url": "/huaweicloud-knowledge-base/docs/networking/vpn#virtual-private-network-vpn",
    
    "relUrl": "/docs/networking/vpn#virtual-private-network-vpn"
  },"65": {
    "doc": "Virtual Private Network (VPN)",
    "title": "Virtual Private Network (VPN)",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/networking/vpn",
    
    "relUrl": "/docs/networking/vpn"
  },"66": {
    "doc": "Networking",
    "title": "Networking",
    "content": " ",
    "url": "/huaweicloud-knowledge-base/docs/networking",
    
    "relUrl": "/docs/networking"
  },"67": {
    "doc": "Huawei Cloud Stack Online (HCSO)",
    "title": "Huawei Cloud Stack Online (HCSO)",
    "content": "HUAWEI CLOUD Stack Online (HCS Online) offers a series of resource isolation solutions for computing, storage, networks, and cloud services. Product Page . ",
    "url": "/huaweicloud-knowledge-base/docs/huawei-cloud-stack/hcso#huawei-cloud-stack-online-hcso",
    
    "relUrl": "/docs/huawei-cloud-stack/hcso#huawei-cloud-stack-online-hcso"
  },"68": {
    "doc": "Huawei Cloud Stack Online (HCSO)",
    "title": "Huawei Cloud Stack Online (HCSO)",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/huawei-cloud-stack/hcso",
    
    "relUrl": "/docs/huawei-cloud-stack/hcso"
  },"69": {
    "doc": "Huawei Cloud Stack",
    "title": "Huawei Cloud Stack",
    "content": " ",
    "url": "/huaweicloud-knowledge-base/docs/huawei-cloud-stack",
    
    "relUrl": "/docs/huawei-cloud-stack"
  },"70": {
    "doc": "FunctionGraph",
    "title": "FunctionGraph",
    "content": "Run your code and enjoy high availability and scalability without needing to provision or manage servers. Simply upload your code and set execution conditions. Product Page · Help Center Page . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph#functiongraph",
    
    "relUrl": "/docs/compute/functiongraph#functiongraph"
  },"71": {
    "doc": "FunctionGraph",
    "title": "FunctionGraph",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph",
    
    "relUrl": "/docs/compute/functiongraph"
  },"72": {
    "doc": "Image Management Service (IMS)",
    "title": "Image Management Service (IMS)",
    "content": "Create and manage cloud servers and disks with ease. Product Page · Help Center Page . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims#image-management-service-ims",
    
    "relUrl": "/docs/compute/ims#image-management-service-ims"
  },"73": {
    "doc": "Image Management Service (IMS)",
    "title": "Image Management Service (IMS)",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims",
    
    "relUrl": "/docs/compute/ims"
  },"74": {
    "doc": "Elastic Cloud Server (ECS)",
    "title": "Elastic Cloud Server (ECS)",
    "content": "Virtual cloud servers that provide reliable, scalable compute resources for your applications. Product Page · Help Center Page . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs#elastic-cloud-server-ecs",
    
    "relUrl": "/docs/compute/ecs#elastic-cloud-server-ecs"
  },"75": {
    "doc": "Elastic Cloud Server (ECS)",
    "title": "Elastic Cloud Server (ECS)",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs",
    
    "relUrl": "/docs/compute/ecs"
  },"76": {
    "doc": "Compute",
    "title": "Compute",
    "content": " ",
    "url": "/huaweicloud-knowledge-base/docs/compute/",
    
    "relUrl": "/docs/compute/"
  },"77": {
    "doc": "Database and Application Migration (UGO)",
    "title": "Database and Application Migration (UGO)",
    "content": "Database and Application Migration UGO (UGO) evaluates your database, migrates objects, and automatically converts syntax. UGO is a simple cost-effective way to migrate databases. Product Page · Help Center Page . ",
    "url": "/huaweicloud-knowledge-base/docs/databases/ugo#database-and-application-migration-ugo",
    
    "relUrl": "/docs/databases/ugo#database-and-application-migration-ugo"
  },"78": {
    "doc": "Database and Application Migration (UGO)",
    "title": "Database and Application Migration (UGO)",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/databases/ugo",
    
    "relUrl": "/docs/databases/ugo"
  },"79": {
    "doc": "Databases",
    "title": "Databases",
    "content": " ",
    "url": "/huaweicloud-knowledge-base/docs/databases",
    
    "relUrl": "/docs/databases"
  },"80": {
    "doc": "Home",
    "title": "Useful links",
    "content": ". | Cloud Console | Help Center - Huawei Cloud Official Documentation, tutorials, video content, best practices and more | Worldwide Infrastructure - check which services are available in each region | Price Calculator | Public Cloud Services Comparison - see how Huawei Cloud services are named on other cloud providers | . For developers: . | Huawei Cloud API Explorer | Terraform HuaweiCloud Provider | . ",
    "url": "/huaweicloud-knowledge-base/#useful-links",
    
    "relUrl": "/#useful-links"
  },"81": {
    "doc": "Home",
    "title": "Home",
    "content": ". This website is a collaborative, public knowledge base for Huawei Cloud services. In this website you can find technical guides for specific scenarios. Use the search bar above or the navigation menu on the left side to browse this knowledge base. ",
    "url": "/huaweicloud-knowledge-base/",
    
    "relUrl": "/"
  },"82": {
    "doc": "Installing GUI on Public Linux Images",
    "title": "Installing GUI on Public Linux Images",
    "content": "V1.0 – January 2024 . | Version | Author | Description | . | V1.0 – 2024-01-05 | Diogo Hatz 50037923 | Initial Version | . | V1.0 – 2024-01-07 | Wisley Paulo 00830850 | Document Review | . | Installing GUI on Public Linux Images . | Introduction | ECS | Configuring ECS | . | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/installing-gui-on-public-linux-images",
    
    "relUrl": "/docs/compute/ecs/installing-gui-on-public-linux-images"
  },"83": {
    "doc": "Installing GUI on Public Linux Images",
    "title": "Introduction",
    "content": "Image Management Service (IMS) is a service provided on Huawei Cloud that allows image management. Images are nothing more than cloud servers or disk templates that contain an operating system (OS), service data, or software. This document aims to provide a step-by-step guide on how to install a graphical user interface (GUI) on public Linux images provided on IMS. It is worth noting that to use the graphical interface, the instance must be accessed through tools outside the Huawei Cloud console, such as Windows Remote Desktop. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/installing-gui-on-public-linux-images#introduction",
    
    "relUrl": "/docs/compute/ecs/installing-gui-on-public-linux-images#introduction"
  },"84": {
    "doc": "Installing GUI on Public Linux Images",
    "title": "ECS",
    "content": "Access the Huawei Cloud console, navigate to the ECS section, and create a Linux instance with the desired public Linux image. It is worth noting that to access the instance from tools outside the console, an EIP must be linked to the ECS. . Ensure that access to ports 22 and 3389 of the security group to which the instance is attached are open. . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/installing-gui-on-public-linux-images#ecs",
    
    "relUrl": "/docs/compute/ecs/installing-gui-on-public-linux-images#ecs"
  },"85": {
    "doc": "Installing GUI on Public Linux Images",
    "title": "Configuring ECS",
    "content": "Access ECS through the Huawei Cloud console by clicking “Remote Login” and log in with the “root” user and password configured when creating the ECS. Update the ECS packages by typing the following command: . apt update &amp;&amp; apt upgrade -y . Install the XRDP package, which allows Linux instances to be accessed through Windows Remote Desktop. apt install xrdp -y . The GDM3 interface manager is used by default on Linux instances. If desired, other lighter managers can be installed, such as SLiM or LightDM. If prompted, change SLiM or LightDM to the default manager. apt install lightdm -y . Install the desired visual interface. In this step-by-step, the visual interface installed will be Ubuntu Desktop. apt install ubuntu-desktop . Restart the XRDP service to allow Remote Desktop access. service xrdp restart . Enable the XRDP service to enable the XRDP service to start at system boot. systemctl enable xrdp . Start the installed interface manager. systemctl start lightdm.service . Log in to the instance via Remote Desktop. Under “Session”, select “Xorg”. . Important: It is worth noting that the graphical interface installed on Linux does not work well with Huawei Cloud Console Remote Login. It is recommended that Remote Login on the console be used only with the Linux terminal. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/installing-gui-on-public-linux-images#configuring-ecs",
    
    "relUrl": "/docs/compute/ecs/installing-gui-on-public-linux-images#configuring-ecs"
  },"86": {
    "doc": "Installing SQL Server on Ubuntu",
    "title": "Installing SQL Server on Ubuntu",
    "content": "V1.0 – January 2024 . | Version | Author | Description | . | V1.0 – 2024-01-05 | Diogo Hatz 50037923 | Initial Version | . | V1.0 – 2024-01-05 | Wisley Paulo 00830850 | Document Review | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/installing-sql-server-ubuntu",
    
    "relUrl": "/docs/compute/ecs/installing-sql-server-ubuntu"
  },"87": {
    "doc": "Installing SQL Server on Ubuntu",
    "title": "Introduction",
    "content": "SQL Server is a relational database tool developed by Microsoft. This document provides a step-by-step guide on how to install SQL Server on a Linux instance on the Ubuntu distribution. For this tutorial, Ubuntu 20.04 and SQL Server 2019 were used, however, other versions will also be made available below. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/installing-sql-server-ubuntu#introduction",
    
    "relUrl": "/docs/compute/ecs/installing-sql-server-ubuntu#introduction"
  },"88": {
    "doc": "Installing SQL Server on Ubuntu",
    "title": "Creating ECS",
    "content": "Navigate to the ECS section in the Huawei Cloud console. Purchase a new instance with the desired OS for installing SQL Server. Navigate to the Security Groups section in the Huawei Cloud console. Click on the security group associated with the created ECS and add a rule for the default SQL Server port 1433. Return to the ECS section in the Huawei Cloud console and access the created instance by clicking “Remote Login”. Log in as the “root” user with the password configured when creating the instance. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/installing-sql-server-ubuntu#creating-ecs",
    
    "relUrl": "/docs/compute/ecs/installing-sql-server-ubuntu#creating-ecs"
  },"89": {
    "doc": "Installing SQL Server on Ubuntu",
    "title": "SQL Server Installation",
    "content": "Import the GPG keys from the Microsoft public repository using the following command: . curl https://packages.microsoft.com/keys/microsoft.asc | sudo tee /etc/apt/trusted.gpg.d/microsoft.asc . Register the SQL Server Ubuntu repository: . | SQL Server 2019 (Ubuntu 20.04) | . sudo add-apt-repository \"$(wget -qO- https://packages.microsoft.com/config/ubuntu/20.04/mssql-server-2019.list)\" . | SQL Server 2017 (Ubuntu 18.04) | . sudo add-apt-repository \"$(wget -qO- https://packages.microsoft.com/config/ubuntu/18.04/mssql-server-2017.list)\" . | SQL Server 2022 (Ubuntu 20.04) | . sudo add-apt-repository \"$(wget -qO- https://packages.microsoft.com/config/ubuntu/20.04/mssql-server-2022.list)\" . Run the following command to update the system package repositories: . sudo apt-get update . Run the following command to install SQL Server: . sudo apt-get install -y mssql-server . Once installed, run the following command to configure SQL Server: . sudo /opt/mssql/bin/mssql-conf setup . Select the SQL Server edition to be installed, accept the terms of service, and set a password for the SQL Server administrator account. To check if SQL Server is running, run the following command: . systemctl status mssql-server --no-pager . The SQL Server service is running and is denoted by the “active (running)” status. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/installing-sql-server-ubuntu#sql-server-installation",
    
    "relUrl": "/docs/compute/ecs/installing-sql-server-ubuntu#sql-server-installation"
  },"90": {
    "doc": "Installing SQL Server on Ubuntu",
    "title": "Connect to SQL Server",
    "content": "To connect to SQL Server, other tools need to be installed. For Windows instances, you can connect using SQL Management Studio. For Linux instances, you can connect using the SQLcmd Utility tool. Linux . Import the GPG keys from the Microsoft public repository: . curl https://packages.microsoft.com/keys/microsoft.asc | sudo tee /etc/apt/trusted.gpg.d/microsoft.asc . Register the Microsoft Ubuntu repository: . | Ubuntu 22.04 | . curl https://packages.microsoft.com/config/ubuntu/22.04/prod.list | sudo tee /etc/apt/sources.list.d/mssql-release.list . | Ubuntu 20.04 | . curl https://packages.microsoft.com/config/ubuntu/20.04/prod.list | sudo tee /etc/apt/sources.list.d/mssql-release.list . | Ubuntu 18.04 | . curl https://packages.microsoft.com/config/ubuntu/18.04/prod.list | sudo tee /etc/apt/sources.list.d/mssql-release.list . | Ubuntu 16.04 | . curl https://packages.microsoft.com/config/ubuntu/16.04/prod.list | sudo tee /etc/apt/sources.list.d/mssql-release.list . Update the system repositories: . sudo apt-get update . Install the sqlcmd utility: . sudo apt-get install mssql-tools18 unixodbc-dev . Add sqlcmd to the environment variables: . echo 'export PATH=\"$PATH:/opt/mssql-tools18/bin\"' &gt;&gt; ~/.bash_profile . Add sqlcmd to the environment variables: . echo 'export PATH=\"$PATH:/opt/mssql-tools18/bin\"' &gt;&gt; ~/.bashrc source ~/.bashrc . To connect locally to the SQL Server instance, type the following command: . sqlcmd -S localhost -U sa -P '&lt;YourPassword&gt;' -C . Windows . Download the SQL Management Studio tool and install it: . https://learn.microsoft.com/en-us/sql/ssms/download-sql-server-management-studio-ssms?view=sql-server-ver16 . To log in to the SQL Server instance running on the Linux instance, select the authentication option “SQL Server Authentication” and Server Type of “Database Engine”. The default user configured during the SQL Server installation is “sa”. Click “Connect” when the login data is entered. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/installing-sql-server-ubuntu#connect-to-sql-server",
    
    "relUrl": "/docs/compute/ecs/installing-sql-server-ubuntu#connect-to-sql-server"
  },"91": {
    "doc": "Migrating Azure AKS to Huawei CCE",
    "title": "Migrating Azure AKS to Huawei CCE",
    "content": "V1.0 – January 2024 . | Version | Author | Description | . | V1.0 – 2024-01-16 | Diogo Hatz 50037923 | Document Translation | . | V1.0 – 2024-01-16 | Wisley Paulo 00830850 | Document Review | . ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce/migrating-azure-aks-to-huawei-cce#migrating-azure-aks-to-huawei-cce",
    
    "relUrl": "/docs/containers/cce/migrating-azure-aks-to-huawei-cce#migrating-azure-aks-to-huawei-cce"
  },"92": {
    "doc": "Migrating Azure AKS to Huawei CCE",
    "title": "Kubernetes Cluster Migration from AKS to CCE",
    "content": " ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce/migrating-azure-aks-to-huawei-cce#kubernetes-cluster-migration-from-aks-to-cce",
    
    "relUrl": "/docs/containers/cce/migrating-azure-aks-to-huawei-cce#kubernetes-cluster-migration-from-aks-to-cce"
  },"93": {
    "doc": "Migrating Azure AKS to Huawei CCE",
    "title": "Introduction",
    "content": "Migrating the Kubernetes service AKS from Microsoft Azure to Huawei Cloud’s Cloud Container Engine (CCE) managed cluster service is a strategic decision that can empower organizations to refine their container orchestration strategy in response to the growing demands of the cloud landscape. The transition represents an opportunity to optimize operations, increase scalability, and analyze the Huawei Cloud ecosystem. Crucially, the migration journey is guided and facilitated by the powerful Velero container backup and migration tool, ensuring data integrity and minimizing service disruption. Whether the migration is driven by cost-effectiveness, the desire for smooth integration with Huawei Cloud services, or the quest for higher performance, this guide provides a detailed step-by-step guide for a successful transition, enabling your enterprise to embrace the cloud-native era with confidence, along with the immeasurable support of the Velero tool. ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce/migrating-azure-aks-to-huawei-cce#introduction",
    
    "relUrl": "/docs/containers/cce/migrating-azure-aks-to-huawei-cce#introduction"
  },"94": {
    "doc": "Migrating Azure AKS to Huawei CCE",
    "title": "Operation Process",
    "content": "For the migration of Microsoft Azure Kubernetes Service (AKS) to Huawei Cloud Container Engine (CCE), a meticulous operation was performed. First, a detailed analysis was conducted to identify all workloads, configurations, and dependencies within the AKS cluster. The necessary resources were provisioned within Huawei CCE, ensuring compatibility and scalability to accommodate the workloads. Preparations for data migration were then made, including the transfer of container images, persistent volumes, and configuration files, all backed up by Velero for reliable backup and restore. The migration itself was executed carefully to minimize downtime, with continuous monitoring throughout the transition to promptly address any challenges. After the migration was complete, workloads on Huawei CCE were validated to ensure stable operation. Configurations were optimized as needed, and monitoring and maintenance practices were established to ensure the continued success of operating containerized applications in the Huawei CCE environment. The migration process ensured a smooth and successful migration, aligning the infrastructure with the evolving needs and strategies of Huawei Cloud Container Engine. ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce/migrating-azure-aks-to-huawei-cce#operation-process",
    
    "relUrl": "/docs/containers/cce/migrating-azure-aks-to-huawei-cce#operation-process"
  },"95": {
    "doc": "Migrating Azure AKS to Huawei CCE",
    "title": "Implementation",
    "content": " ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce/migrating-azure-aks-to-huawei-cce#implementation",
    
    "relUrl": "/docs/containers/cce/migrating-azure-aks-to-huawei-cce#implementation"
  },"96": {
    "doc": "Migrating Azure AKS to Huawei CCE",
    "title": "Microsoft Azure",
    "content": "VPC for Nodes . In this example, AKS has 1 VPC with 1 subnet. Virtual networks were used to manage IP addresses, security, integration with Azure services, and other network-related features for AKS nodes. They are an essential part of deploying and managing AKS clusters on Azure. AKS – Cluster . | First, you need to check the essential Kubernetes resources, such as workloads, namespaces, storage, nodes, pods, and services. | Navigate to the home, Kubernetes services, and click on the Kubernetes service to migrate. | Connect to the cluster using the scripting tool to interact directly with the cluster using kubectl, the Kubernetes scripting tool. Kubectl is available within the Azure Cloud Shell by default and can also be installed locally. | . | After opening the cloud shell, you also need to configure the cluster subscription and download the credentials. | . | After connecting to the cluster, you can check the deployments, namespaces, pods, and cluster information to analyze the cluster. | . Preparing Clusters . In this example, there is one nodepool in AKS. Additional Configurations for Pods and ELB . To use PV and ELB services in AKS, some additional configurations need to be performed. There is no need to install the CSI driver or kubenet plugin, you only need to enable them. Also, you can view images of containers running on Kubernetes using: . Installing Velero and performing additional configuration . | First, verify the AKS cluster and resource group using the following command: | . | Configure the kubeconfig file: | . | Check if the user account is storage is configured or not. If not, create a storage account using the following command: | . | Install Velero on Azure Cloud Shell: | . | Install Velero Server on AKS cluster: | . | At this point, the “credentials-velero” file needs to be populated with certain parameters, such as “Azure_Client_ID”, “Azure_Subscription_ID”, “Azure_Tenant_ID”, “Azure_Client_Secret” and “Azure_Resource_Group”. These settings can be obtained in step 5 above. | . | Only the “Azure_Client_ID” parameter is obtained through the Azure console. To obtain this parameter, navigate to “Azure AD” and click on “APP Registrations”, select “All Applications” and “Storage account” to get the Client ID. | Azure AD &gt; APP Registrations &gt; All Applications &gt; Storage Account . | . | Finally, install Velero on AKS. Check all the variables and values ​​before starting Velero. | . | Check whether the pods, deployments and replicasets are created or not. | . Creating a backup using Velero . | Create a new backup using the command: “./velero backup create $Backup_Name” and wait a few minutes until the backup is completed. | . | Check whether the backup is complete or not. You can use the following command to verify: | ./velero backup describe newbackup2 . | Navigate to the storage accounts section and check if the data was successfully backed up. Navigate to Home &gt; Storage Account &gt; Containers. | . ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce/migrating-azure-aks-to-huawei-cce#microsoft-azure",
    
    "relUrl": "/docs/containers/cce/migrating-azure-aks-to-huawei-cce#microsoft-azure"
  },"97": {
    "doc": "Migrating Azure AKS to Huawei CCE",
    "title": "Huawei Cloud",
    "content": "Create a VPC . First, a VPC needs to be created. In this example, the subnet with CIDR 192.168.0.0/16 will be used. Create Cluster in Huawei Cloud Console . | Navigate to the CCE console and click “Create CCE”; . | Select the corresponding AZ; . | Select the specifications according to the scenario; . | Select the appropriate VPC and security group; . | After the CCE is created, log in to the created ECS instance; . | Test the connection and attach an EIP if necessary. | . Create the nodes . | Go to the Nodes section in the CCE console; . | Click “Create a Node”; . | Select the Node Host specifications; . | Select the Container Engine, OS and Storage; . | Modify the network as needed. | . Install Velero on Source and Target Clusters (Same Process) . | You need to download kubectl and its configuration file, copy the file to your client, and configure kubectl. After configuring, you can use kubectl to access the Kubernetes cluster. | Copy “kubectl” and its configuration file to the “/home” directory on your client. If kubectl has already been installed, you only need to copy the kubeconfig file. | . | Log in to your client and configure kubectl. If kubectl has already been configured, skip this step. | . | Change the kubectl access mode based on the application scenario. Use the following command to enable intra-vpc-access. | . | Check the cluster information. | . | Run the following commands: | . wget https://github.com/vmware-tanzu/velero/releases/download/v1.9.1/velero-v1.9.1-linux-amd64.tar.gz tar -xvf velero-v1.7.0-linux-amd64.tar.gz cd velero-v1.9.1-linux-amd64/ &amp;&amp; sudo chmod +x velero &amp;&amp; sudo mv velero /usr/local/bin . | Create the credentials-velero access file for storage of backup objects. | . vim credentials-velero tar -xvf velero-v1.7.0-linux-amd64.tar.gz . | Configure the variables for the credentials-velero file. Specify all the data specified below: | . | Create the velero-credentials configuration file and fill it with the information below: | . | Open the Velero client. Change the value of credentials. Specify –provider –plugins –bucket –secret-file –backup-location-config –snapshot-location-config –resource-group. In this example, the bucket name is velero. Change the region and url according to the context of your application. | . | Verify the Velero installation with kubectl. | . kubectl get pod -n velero . Migrating Resources . After installing Velero for both clusters, it is important to check the backup status directly from the Velero server. To do this, you can check the current backups using the command: “./velero get backup-locations”. This command provides important information regarding the backups managed by Velero, ensuring the security and availability of Kubernetes resources. | To see all available backups, use the command: “./velero get backup-locations”. | . | Verify that all backups are available and can be restored | . Restoring Applications to the Target Cluster . | Use the Velero tool to create a restore and specify a backup. In this example, the backup named vpro-backup will be used to restore a WordPress application to the CCE cluster. | . Update the Target Cluster and Validate the Migration . Update the image fields in the yaml files within the CCE cluster according to your SWR. Edit the specs and annotations fields of the input yaml file according to the rules in the official Huawei Cloud documentation. Please verify and validate the cluster . ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce/migrating-azure-aks-to-huawei-cce#huawei-cloud",
    
    "relUrl": "/docs/containers/cce/migrating-azure-aks-to-huawei-cce#huawei-cloud"
  },"98": {
    "doc": "Migrating Azure AKS to Huawei CCE",
    "title": "Migrating Azure AKS to Huawei CCE",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce/migrating-azure-aks-to-huawei-cce",
    
    "relUrl": "/docs/containers/cce/migrating-azure-aks-to-huawei-cce"
  },"99": {
    "doc": "Migrating K8S Cluster Using Velero",
    "title": "Migrating K8S Cluster Using Velero",
    "content": "V1.1 – January 2024 . | Version | Author | Description | . | V1.0 – 2023-11-29 | Wisley Paulo w0083850 | Initial Version | . | V1.1 – 2024-01-22 | Diogo Hatz 50037923 | Document Update | . | V1.1 – 2024-01-22 | Wisley Paulo w0083850 | Document Review | . This document presents the procedures for creating a CCE cluster and implementing an application with ngix and wordpress in the cluster, after the applications are tested, perform backup and restore of the environment using velero. ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce/migrating-k8s-cluster-using-velero#migrating-k8s-cluster-using-velero",
    
    "relUrl": "/docs/containers/cce/migrating-k8s-cluster-using-velero#migrating-k8s-cluster-using-velero"
  },"100": {
    "doc": "Migrating K8S Cluster Using Velero",
    "title": "Cluster creation",
    "content": "To start, we access the CCE service and create the cluster as shown in the images below (for these tests, the source cluster was created in the Santiago region and the target cluster in the São Paulo region): . ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce/migrating-k8s-cluster-using-velero#cluster-creation",
    
    "relUrl": "/docs/containers/cce/migrating-k8s-cluster-using-velero#cluster-creation"
  },"101": {
    "doc": "Migrating K8S Cluster Using Velero",
    "title": "Install and configure kubectl (bastion)",
    "content": "Create a bastion instance with ECS service in the same region as the cluster with public IP and only with ssh access to secure public IPs for cluster management. #install kubectl (Recommended on bastion in the same region) curl -LO \"https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl\" curl -LO \"https://dl.k8s.io/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl.sha256\" echo \"$(&lt;kubectl.sha256) kubectl\" | sha256sum --check sudo install -o root -g root -m 0755 kubectl /usr/local/bin/kubectl chmod +x kubectl mkdir -p ~/.local/bin/kubectl mv ./kubectl ~/.local/bin/kubectl cd ~/.local/bin/kubectl cp kubectl /home cd /home chmod +x kubectl mv -f kubectl /usr/local/bin cd /home mkdir -p $HOME/.kube #transfer the file from the cce console to the bastion mv -f cce-test-migration-kubeconfig.yaml $HOME/.kube/config #for external it is necessary to activate EIP (if access from a bastion uses internal). We recommend using bastion with the above configurations kubectl config use-context internal #kubectl config use-context external kubectl cluster-info . ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce/migrating-k8s-cluster-using-velero#install-and-configure-kubectl-bastion",
    
    "relUrl": "/docs/containers/cce/migrating-k8s-cluster-using-velero#install-and-configure-kubectl-bastion"
  },"102": {
    "doc": "Migrating K8S Cluster Using Velero",
    "title": "Create Nginx and Wordpress cluster",
    "content": "https://support.huaweicloud.com/intl/en-us/qs-cce/cce_qs_0003.html . https://support.huaweicloud.com/intl/en-us/qs-cce/cce_qs_0009.html . https://res-static.hc-cdn.cn/cloudbu-site/intl/en-us/Video/cce/wordpress_en.mp4 . ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce/migrating-k8s-cluster-using-velero#create-nginx-and-wordpress-cluster",
    
    "relUrl": "/docs/containers/cce/migrating-k8s-cluster-using-velero#create-nginx-and-wordpress-cluster"
  },"103": {
    "doc": "Migrating K8S Cluster Using Velero",
    "title": "Configure pods",
    "content": "To snapshot specific disks in the cluster, a note must be made in the pod for the disk in question. kubectl -n &lt;namespace&gt; annotate &lt;pod/pod_name&gt; backup.velero.io/backup-volumes=&lt;volume_name_1&gt;,&lt;volume_name_2&gt;,... Example: . kubectl annotate pod/wordpress-758fbf6fc7-s7fsr backup.velero.io/backup-volumes=wp-storage . ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce/migrating-k8s-cluster-using-velero#configure-pods",
    
    "relUrl": "/docs/containers/cce/migrating-k8s-cluster-using-velero#configure-pods"
  },"104": {
    "doc": "Migrating K8S Cluster Using Velero",
    "title": "Install Velero",
    "content": "For this procedure to be performed, the workernode needs to have an EIP, or a NAT Gateway configured or the Velero images on the SWR. wget https://github.com/vmware-tanzu/velero/releases/download/v1.12.1/velero-v1.12.1-linux-amd64.tar.gz tar -xvf velero-v1.12.1-linux-amd64.tar.gz cp ./velero-v1.12.1-linux-amd64/velero /usr/local/bin nano credentials-velero #place in the file [default] aws_access_key_id = {AK} aws_secret_access_key = {SK} #execute the command (for it to work, the machine must have internet access to download the image (NAT or EIP)). Note: The –uploader-type and –use-node-agent settings are related to creating a snapshot of the cluster disks. velero install \\ --provider aws \\ --plugins velero/velero-plugin-for-aws:v1.7.1 \\ --bucket migration-velero-cce \\ --secret-file ./credentials-velero \\ --uploader-type=restic \\ --use-node-agent \\ --use-volume-snapshots=false \\ --backup-location-config region=la-south-2,s3ForcePathStyle=\"true\",s3Url=http://obs.la-south-2.myhuaweicloud.com #check if the pod is running kubectl get pod -n velero #check if the connection to the bucket is ok velero backup-location get . ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce/migrating-k8s-cluster-using-velero#install-velero",
    
    "relUrl": "/docs/containers/cce/migrating-k8s-cluster-using-velero#install-velero"
  },"105": {
    "doc": "Migrating K8S Cluster Using Velero",
    "title": "Backup with Velero",
    "content": "#Obs: The flag –default-volumes-to-fs-backup is related to creating a snapshot of the cluster's disks. velero backup create backup20231129 --default-volumes-to-fs-backup velero backup describe backup20231129 . ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce/migrating-k8s-cluster-using-velero#backup-with-velero",
    
    "relUrl": "/docs/containers/cce/migrating-k8s-cluster-using-velero#backup-with-velero"
  },"106": {
    "doc": "Migrating K8S Cluster Using Velero",
    "title": "Restore Velero backup",
    "content": "velero backup get velero restore create --from-backup=backup20231129 velero restore describe backup20231129-2376345178 . ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce/migrating-k8s-cluster-using-velero#restore-velero-backup",
    
    "relUrl": "/docs/containers/cce/migrating-k8s-cluster-using-velero#restore-velero-backup"
  },"107": {
    "doc": "Migrating K8S Cluster Using Velero",
    "title": "Migrating K8S Cluster Using Velero",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce/migrating-k8s-cluster-using-velero",
    
    "relUrl": "/docs/containers/cce/migrating-k8s-cluster-using-velero"
  },"108": {
    "doc": "Migrating Multiple Disks",
    "title": "Migrating Multiple Disks",
    "content": "V2.0 – May 2024 . | Version | Author | Description | . | V1.0 – 2024-05-08 | Diogo Hatz 50037923 | Initial Version | . | V1.0 – 2024-05-08 | Wisley da Silva 00830850 | Document Review | . | V2.0 – 2024-05-16 | Diogo Hatz 50037923 | Document Update | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/migrating-multiple-disks#migrating-multiple-disks",
    
    "relUrl": "/docs/compute/ims/migrating-multiple-disks#migrating-multiple-disks"
  },"109": {
    "doc": "Migrating Multiple Disks",
    "title": "Introduction",
    "content": "IMS is an image management service available on Huawei Cloud. In addition to providing a range of public images for free use, IMS also allows you to create private images from a variety of formats or use images available on the marketplace. This document aims to describe the methodology for creating private images from system disks and data disks. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/migrating-multiple-disks#introduction",
    
    "relUrl": "/docs/compute/ims/migrating-multiple-disks#introduction"
  },"110": {
    "doc": "Migrating Multiple Disks",
    "title": "qemu-img",
    "content": "To perform VM migration using IMS, you need to install the qemu-img tool to generate system and disk images. Install the tool using the following command: “yum install qemu-img -y”. To check the paths of the disks to be migrated, type the command “fdisk -l” to list the disks present in the VM. Important: Take note of the path of the disk as a whole (vda), and not just a partition of the disk (vda1). To export disks to images, type the following command “sudo qemu-img convert -f raw -O qcow2 /dev/vda /mnt/vdb/test.qcow2”, where the ”-O” parameter corresponds to the format in which the image will be exported (possible formats: qcow2, vhd, vmdk, raw, etc.), “/dev/vda” corresponds to the disk that will be exported and “/mnt/vdb/test.qcow2” corresponds to the image that will be generated by the tool. Example: . sudo qemu-img convert -f raw -O qcow2 /dev/vda /mnt/vdb/test.qcow2 . After generating the image, it will be necessary to export this image to a bucket in OBS, the HWC object storage service. To do this, one of the options is to use the obsutil tool, which allows you to upload files from a Linux machine directly to an OBS bucket via the CLI. Obsutil documentation: https://support.huaweicloud.com/intl/en-us/utiltg-obs/obs_11_0003.html. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/migrating-multiple-disks#qemu-img",
    
    "relUrl": "/docs/compute/ims/migrating-multiple-disks#qemu-img"
  },"111": {
    "doc": "Migrating Multiple Disks",
    "title": "IMS",
    "content": "In order to import images to IMS, these images must be available in a bucket in the Huawei Cloud OBS Object Storage service. After uploading these images to the bucket, navigate to the IMS service section in the Huawei Cloud console and select “Create Image” in the “Private Images” section. Select the “Import Image” option. For system disks, select the “System disk image” option and click the bucket where the image is located. Select the system disk image from the objects contained in the bucket and select the “Enable automatic configuration” option. Also fill in the fields related to the source machine’s Boot mode, BIOS or UEFI, the machine’s operating system, the system disk size and the name of the image to be created. Click “Next” to proceed and confirm the image creation. . Wait until the image is finished being created. To create data disks, repeat the same process above, selecting the “Data disk image” option in “Image Type” instead of “System disk image”. . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/migrating-multiple-disks#ims",
    
    "relUrl": "/docs/compute/ims/migrating-multiple-disks#ims"
  },"112": {
    "doc": "Migrating Multiple Disks",
    "title": "ECS Creation",
    "content": "After the image creation is complete, navigate to the created system disk image and select “Apply for Server” to create a server from the generated image. Select the created system disk image and complete the remaining ECS creation settings. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/migrating-multiple-disks#ecs-creation",
    
    "relUrl": "/docs/compute/ims/migrating-multiple-disks#ecs-creation"
  },"113": {
    "doc": "Migrating Multiple Disks",
    "title": "EVS Creation",
    "content": "After creating the server from its system disk, navigate to the created data disk image and select “Create Data Disk” to create a data disk from the generated image. Configure the parameters of the disk to be created, as the disk name and size, and mark the same AZ as the previously created server. Otherwise, it will not be possible to mount the disk on the ECS. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/migrating-multiple-disks#evs-creation",
    
    "relUrl": "/docs/compute/ims/migrating-multiple-disks#evs-creation"
  },"114": {
    "doc": "Migrating Multiple Disks",
    "title": "Mount the EVS on the ECS",
    "content": "Finally, to mount the data disk on the server, navigate to the ECS section in the console and click on the created ECS. After that, click on the “Disks” section and select “Attach Disk” . Select the created disk and click “OK” to associate the disk with the instance. With the disk associated with the instance, simply configure the disk’s mount through the instance’s terminal. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/migrating-multiple-disks#mount-the-evs-on-the-ecs",
    
    "relUrl": "/docs/compute/ims/migrating-multiple-disks#mount-the-evs-on-the-ecs"
  },"115": {
    "doc": "Migrating Multiple Disks",
    "title": "Recover File System",
    "content": "If the file system of the migrated machines is corrupted after migration, it will be necessary to restore it through an intermediate VM. To confirm that the filesystem of the system disk is damaged, first wait until the following message appears during boot. Waiting for the following error to appear before proceeding to the next steps is important for the process. After creating a new ECS in the HWC console, mount the disks whose filesystem needs to be restored to the intermediate ECS. First, remove the damaged disks from the original ECS and then place them in the intermediate ECS. After removing the disks from the original ECS, mount them on the intermediate ECS . Log in to the intermediate ECS and enter the command “fdisk -l” to list the disks mounted on the ECS. Copy the path of the device whose filesystem is corrupted, such as “/dev/vdc” or “/dev/vdb1”. To recover the corrupted filesystem, enter the command “fsck /dev/vdb”, where /dev/vdb will be replaced by the disk or partition that needs to be recovered. Press “a” to recover all corrupted inodes. It is worth noting that the disk does not need to be mounted in a directory for this process. Wait until the recovery of all inodes is complete. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/migrating-multiple-disks#recover-file-system",
    
    "relUrl": "/docs/compute/ims/migrating-multiple-disks#recover-file-system"
  },"116": {
    "doc": "Migrating Multiple Disks",
    "title": "Modifying fstab",
    "content": "If the ECS has problems during initialization, follow the following steps to edit the fstab disk table of the system. It is worth noting that for this step it will also be necessary to use an intermediate ECS if the filesystem of the original ECS is set to read-only due to a bad initialization. First, mount the system disk in a directory. Edit the “/etc/fstab” file of the original ECS system disk. Comment out all the old mounted disks in fstab. After that, unmount the disk from the directory where it was mounted and remove the disks from the ECS to insert them into the original ECS again. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/migrating-multiple-disks#modifying-fstab",
    
    "relUrl": "/docs/compute/ims/migrating-multiple-disks#modifying-fstab"
  },"117": {
    "doc": "Migrating Multiple Disks",
    "title": "References",
    "content": ". | SMS Documentation: https://support.huaweicloud.com/intl/en-us/bestpractice-sms/sms_05_0071.html. | IMS documentation: https://support.huaweicloud.com/intl/en-us/usermanual-ims/ims_01_0215.html. | obsutil documentation: https://support.huaweicloud.com/intl/en-us/utiltg-obs/obs_11_0003.html. | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/migrating-multiple-disks#references",
    
    "relUrl": "/docs/compute/ims/migrating-multiple-disks#references"
  },"118": {
    "doc": "Migrating Multiple Disks",
    "title": "Migrating Multiple Disks",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/migrating-multiple-disks",
    
    "relUrl": "/docs/compute/ims/migrating-multiple-disks"
  },"119": {
    "doc": "Migrating MySQL to GaussDB",
    "title": "Migrating MySQL to GaussDB",
    "content": "V1.0 – April 2024 . | Version | Author | Description | . | V1.0 – 2024-04-23 | Diogo Hatz 50037923 | Initial Version | . | V1.0 – 2024-04-24 | Wisley da Silva 00830850 | Document Review | . ",
    "url": "/huaweicloud-knowledge-base/docs/databases/ugo/migrating-mysql-to-gaussdb#migrating-mysql-to-gaussdb",
    
    "relUrl": "/docs/databases/ugo/migrating-mysql-to-gaussdb#migrating-mysql-to-gaussdb"
  },"120": {
    "doc": "Migrating MySQL to GaussDB",
    "title": "Introduction",
    "content": "Database and Application Migration (UGO) is a free tool available on Huawei Cloud for migrating heterogeneous database schemas. UGO can convert DDL statements to those compatible with the databases available on Huawei Cloud, such as GaussDB and RDS. In addition to schema migration and migration evaluation, UGO can automatically convert the source database syntax to be compatible with the target database. This document aims to guide the reader to use the UGO tool for migrating heterogeneous databases to RDS or GaussDB instances on HWC through a scenario of migrating a MySQL database to GaussDB. The dataset used is one of the MySQL test datasets, Sakila, publicly available on the MySQL website. ",
    "url": "/huaweicloud-knowledge-base/docs/databases/ugo/migrating-mysql-to-gaussdb#introduction",
    
    "relUrl": "/docs/databases/ugo/migrating-mysql-to-gaussdb#introduction"
  },"121": {
    "doc": "Migrating MySQL to GaussDB",
    "title": "UGO",
    "content": "To migrate a MySQL database to GaussDB, it is necessary to use the UGO service available at HWC to evaluate the migration and convert the source database syntax to a syntax compatible with the target database, in addition to checking the compatibility of the source engine with the target engine. To access the UGO service, simply search for “UGO” in the list of services available in the HWC console. It is worth noting that the service is only available in the regions of Santiago and Singapore. ",
    "url": "/huaweicloud-knowledge-base/docs/databases/ugo/migrating-mysql-to-gaussdb#ugo",
    
    "relUrl": "/docs/databases/ugo/migrating-mysql-to-gaussdb#ugo"
  },"122": {
    "doc": "Migrating MySQL to GaussDB",
    "title": "DB Evaluation",
    "content": "To perform the database migration, it is first necessary to evaluate the source and target databases to check their compatibility. To do this, access the “DB Evaluation” window, in the “Schema Migration” item, and select “Create Project”. Fill in the information related to the source database, such as the public IP, port, user and password of the database. It is worth noting that, currently, the UGO tool does not allow database migration via VPN, therefore a public IP must be provided. Furthermore, the user entered into the tool must have DBA permissions on the source database. The “Skip Target DB Evaluation” checkbox must be selected if the target database has already been selected. Otherwise, leave this option disabled so that UGO can analyze the compatibility of the source database with the target database. After completing the fields, perform the connection test with the source database and click “Next”. If the connection test fails, check if port 3306 is open in the security group of the source database instance. After the pre-check is done, click “Next” again. In this window, select the source database objects to be migrated, such as tables, schemas, triggers, procedures, etc. After that, select the target database engine, in this case GaussDB 8.1 Primary/Standby Enterprise Edition. Select the dataset to be migrated. In this case, the Sakila dataset. Click “Next” to continue. Confirm the source database assessment by clicking “Create”. Wait for the source database assessment to finish and click “Confirm Target DB Pending”. Confirm the target database engine and click “Confirm DB Selection”. Click “Create Now” to create a migration project. Fill in the information related to the target database, such as the database instance, database name, user and password; and click “Test Connection” to test connectivity with the target database. If the connection fails, check whether port 8000 is open in the target database security group. Click “Next” to continue. In this window, some risk items for database migration are displayed. Click “View Details” to view the details of the risks found by UGO and confirm whether the risks are actually a risk or not. Click “Next” after confirming the risks. Click “Create” to confirm the database migration project. ",
    "url": "/huaweicloud-knowledge-base/docs/databases/ugo/migrating-mysql-to-gaussdb#db-evaluation",
    
    "relUrl": "/docs/databases/ugo/migrating-mysql-to-gaussdb#db-evaluation"
  },"123": {
    "doc": "Migrating MySQL to GaussDB",
    "title": "Object Migration",
    "content": "Click “Migrate” in the migration project created above to start migrating the database objects. Confirm the objects to be migrated as well as the objects not to be migrated using the “Select Migration Object Types” and “Convert Specified Objects” buttons. Click “Next” to continue with the object conversion. Create a temporary password so that user type objects can be migrated. Note that after migration, you need to manually change the password. Click “Create Password” after entering the password. Adjust the parameter settings as needed by clicking “Edit”. After making the settings, confirm by clicking “Next”. To start the syntax conversion process, click “Start” next to “Pending”. Wait until the syntax of all objects is converted to the syntax supported by the target database. After the syntax conversion is complete, it will show which objects were dynamically converted without errors and which conversions were in error. For this part, it is necessary to manually check all syntax conversions, whether with or without errors, to ensure that no erroneous conversions were performed. To review the conversion details of each object type, click “Details” next to the objects. Click “View Details” next to the objects that failed to be converted to analyze the reason for the errors and rectify those errors. On this screen, make the necessary modifications in the right-hand window (Target) so that the migrated object is compatible with the target database. After making the necessary modifications, click “Save”. Make the necessary changes to all objects where the automatic syntax conversion returned errors. After this process, click “Next” to confirm the syntax conversion of the objects. Click “Start” to begin migrating the converted objects and wait for the migration to complete. Check the migration results. After achieving a considerable success rate, click “Finish” to complete the migration of the database objects. ",
    "url": "/huaweicloud-knowledge-base/docs/databases/ugo/migrating-mysql-to-gaussdb#object-migration",
    
    "relUrl": "/docs/databases/ugo/migrating-mysql-to-gaussdb#object-migration"
  },"124": {
    "doc": "Migrating MySQL to GaussDB",
    "title": "DRS",
    "content": "It is worth noting that in the previous steps only the objects from the source database were migrated to the database, such as tables, functions and schemas. To perform the migration of the database data, it is necessary to create a synchronization task between the two databases using the Data Replication Service (DRS) database migration tool. Navigate to the DRS service in the HWC console. ",
    "url": "/huaweicloud-knowledge-base/docs/databases/ugo/migrating-mysql-to-gaussdb#drs",
    
    "relUrl": "/docs/databases/ugo/migrating-mysql-to-gaussdb#drs"
  },"125": {
    "doc": "Migrating MySQL to GaussDB",
    "title": "Syncronization Task",
    "content": "Navigate to the “Data Synchronization Management” subsection and click “Create Synchronization Task” to create a DRS task. Fill in the task fields as shown below: . Wait until the synchronization instance is created, which may take a few minutes. After the instance is started, fill in the information related to the source database and the target database, such as username, password and public IP, and test the connection to both databases. After testing the connections, select the “Next” button to continue. Select the tables to be synchronized . Wait for the synchronization pre-check to complete. If any of the parameters fails to sync, please confirm the reason for the failure . ",
    "url": "/huaweicloud-knowledge-base/docs/databases/ugo/migrating-mysql-to-gaussdb#syncronization-task",
    
    "relUrl": "/docs/databases/ugo/migrating-mysql-to-gaussdb#syncronization-task"
  },"126": {
    "doc": "Migrating MySQL to GaussDB",
    "title": "References",
    "content": ". | Sakila test dataset: https://dev.mysql.com/doc/sakila/en/sakila-preface.html; . | UGO documentation: https://support.huaweicloud.com/intl/en-us/productdesc-ugo/ugo_01_0014.html; . | . ",
    "url": "/huaweicloud-knowledge-base/docs/databases/ugo/migrating-mysql-to-gaussdb#references",
    
    "relUrl": "/docs/databases/ugo/migrating-mysql-to-gaussdb#references"
  },"127": {
    "doc": "Migrating MySQL to GaussDB",
    "title": "Migrating MySQL to GaussDB",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/databases/ugo/migrating-mysql-to-gaussdb",
    
    "relUrl": "/docs/databases/ugo/migrating-mysql-to-gaussdb"
  },"128": {
    "doc": "Migrating Servers with Huge Disks",
    "title": "Migrating Servers with Huge Disks",
    "content": "V1.0 – May 2024 . | Version | Author | Description | . | V1.0 – 2024-05-07 | Diogo Hatz 50037923 | Initial Version | . | V1.0 – 2024-05-07 | Wisley da Silva 00830850 | Document Review | . ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/migrating-servers-with-huge-disks#migrating-servers-with-huge-disks",
    
    "relUrl": "/docs/migration/sms/migrating-servers-with-huge-disks#migrating-servers-with-huge-disks"
  },"129": {
    "doc": "Migrating Servers with Huge Disks",
    "title": "Introduction",
    "content": "SMS is an online server migration tool available on Huawei Cloud. During migration, you can resize the disk of the source machine in order to modify its partitions to better suit the target machine scenario. SMS has a restriction on the size of operating system disks, which cannot be larger than 1 TiB. This document aims to describe the methodology for migrating servers with operating system disks exceeding 1 TiB. ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/migrating-servers-with-huge-disks#introduction",
    
    "relUrl": "/docs/migration/sms/migrating-servers-with-huge-disks#introduction"
  },"130": {
    "doc": "Migrating Servers with Huge Disks",
    "title": "API Explorer",
    "content": "In order to migrate machines with operating system disks larger than 1 TiB using the SMS tool, you need to create the target server manually and expand the size of its system disk through an API, which is available in the API Explorer environment of Huawei Cloud. To expand a server’s disk, you need to obtain its disk ID. To do this, navigate to the ECS section in the Huawei Cloud console, click the server where the disk is mounted, and then click the desired system disk: . After obtaining the ID of the disk to be resized, navigate to the API Explorer section of the Huawei Cloud console by hovering over “More”, “Tools”, and “API Explorer”. Select the “Elastic Volume Service EVS” section, and then select the “ResizeVolume” API. Alternatively, click the following link to go directly to the API: https://console-intl.huaweicloud.com/apiexplorer/#/openapi/EVS/doc?api=ResizeVolume. In the API window, fill in the fields in red with the ID of the disk you selected earlier and its new size in GiB. After filling in the blanks, simply click “Debug” and the disk will be resized to the new size: . After resizing the disk of the target server to a size larger than the source server, SMS can be used smoothly to migrate the server to Huawei Cloud. ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/migrating-servers-with-huge-disks#api-explorer",
    
    "relUrl": "/docs/migration/sms/migrating-servers-with-huge-disks#api-explorer"
  },"131": {
    "doc": "Migrating Servers with Huge Disks",
    "title": "References",
    "content": ". | EVS API: https://support.huaweicloud.com/intl/en-us/api-evs/CinderResizeVolumeV3.html. | . ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/migrating-servers-with-huge-disks#references",
    
    "relUrl": "/docs/migration/sms/migrating-servers-with-huge-disks#references"
  },"132": {
    "doc": "Migrating Servers with Huge Disks",
    "title": "Migrating Servers with Huge Disks",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/migrating-servers-with-huge-disks",
    
    "relUrl": "/docs/migration/sms/migrating-servers-with-huge-disks"
  },"133": {
    "doc": "Migrating Unsupported OSs",
    "title": "Migrating Unsupported OSs",
    "content": "V1.0 – May 2024 . | Version | Author | Description | . | V1.0 – 2024-05-17 | Diogo Hatz 50037923 | Initial Version | . | V1.0 – 2024-05-17 | Wisley da Silva 00830850 | Document Review | . ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/migrating-unsupported-os#migrating-unsupported-oss",
    
    "relUrl": "/docs/migration/sms/migrating-unsupported-os#migrating-unsupported-oss"
  },"134": {
    "doc": "Migrating Unsupported OSs",
    "title": "Introduction",
    "content": "SMS is an online server migration tool available on Huawei Cloud. In addition to migrating servers from a variety of operating systems, it is also possible to perform synchronization between servers using the sync function. However, SMS has restrictions on certain specific operating systems, which can be found in the documentation in the references. This document aims to describe the methodology for migrating servers whose OSes are not supported by the SMS tool using SMS. It is worth noting that this process is not guaranteed to work, since SMS is not compatible with certain operating systems and additional configuration may need to be done. ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/migrating-unsupported-os#introduction",
    
    "relUrl": "/docs/migration/sms/migrating-unsupported-os#introduction"
  },"135": {
    "doc": "Migrating Unsupported OSs",
    "title": "SMS-Agent",
    "content": "In order to migrate VMs that have an operating system not supported by SMS, it is first necessary to modify the file containing the name representing the operating system version to prevent SMS from failing during the migration precheck. To perform this modification, log in to the source environment and enter the following command, where “Amazon_2018_3_64BIT” can be replaced with any supported SMS versions. echo \"Amazon_2018_3_64BIT\" &gt; /root/RainbowOsFile . Once the configuration is done, navigate to the SMS service section in the HWC console and delete the migration tasks that are in error. Then, enter the SMS agent installation directory on the source machine and restart the agent by running the “./restart.sh” script. Enter the AK/SK keys as well as the SMS endpoint to configure the SMS agent again. ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/migrating-unsupported-os#sms-agent",
    
    "relUrl": "/docs/migration/sms/migrating-unsupported-os#sms-agent"
  },"136": {
    "doc": "Migrating Unsupported OSs",
    "title": "Migrated ECS Initialization Error",
    "content": "If the migrated machine presents problems during initialization, such as getting stuck in the boot process, it is possible that some adjustments need to be made to the migrated machine. Below is a list of some known errors. If none of the solutions below solve the problem, it is recommended that a ticket be opened so that the experts can investigate the problem more precisely. To perform the following configurations, it will be necessary to remove the system disk of the migrated machine as a data disk in an intermediate ECS as follows. After creating a new ECS in the HWC console, mount the disks on the intermediate machine. First, remove the damaged disks from the original ECS and then place them in the intermediate ECS. After removing the disks from the original ECS, mount them on the intermediate ECS . ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/migrating-unsupported-os#migrated-ecs-initialization-error",
    
    "relUrl": "/docs/migration/sms/migrating-unsupported-os#migrated-ecs-initialization-error"
  },"137": {
    "doc": "Migrating Unsupported OSs",
    "title": "IPV6",
    "content": "If the error during ECS ​​initialization resembles the image below, it is possible that the error is related to an IPV6 configuration on the machine. To resolve this error, unmount the system disk of the migrated machine and connect it to the intermediate ECS. Mount the system disk in a new directory (in this example it was mounted in the /mnt folder) with the “mount” command and access the following file: “vim /mnt/etc/sysconfig/network-scripts/ifcfg-eth0”. Comment out the following two lines in the file and save the file with “:wq”. Note: If the error “Failed to Mount Wrong FS Type, Bad Option, Bad Superblock on Linux” appears while mounting the disk, skip to step 3.2 of this document. Now unmount the mounted disk with the “umount” command, remove the system disk of the migrated machine from the intermediate ECS and reconnect it to the migrated ECS. Power it on and check if the machine boots without errors. To ensure that the Sync functionality works without breaking the migrated machine, perform the following configuration in the SMS agent script on the source VM: . After this adjustment, the Sync functionality should work without any further problems. ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/migrating-unsupported-os#ipv6",
    
    "relUrl": "/docs/migration/sms/migrating-unsupported-os#ipv6"
  },"138": {
    "doc": "Migrating Unsupported OSs",
    "title": "File System",
    "content": "If the file system of the migrated machines is corrupted after the migration, it will be necessary to restore it through an intermediate VM. To confirm that the file system of the system disk is corrupted, first wait until the following message appears during boot. Wait for the following error appears before proceeding to the next steps is important for the process. Log in to the intermediate ECS and enter the command “fdisk -l” to list the disks mounted on the ECS. Copy the path of the device whose filesystem is corrupted, such as “/dev/vdc” or “/dev/vdb1”. To recover the corrupted filesystem, enter the command “fsck /dev/vdb”, where /dev/vdb will be replaced with the disk or partition that needs to be recovered. Press “a” to recover all corrupted inodes. It is worth noting that the disk does not need to be mounted in a directory for this process. Wait until all inode recovery is complete, remove the system disk of the migrated machine from the intermediate ECS and connect it again to the migrated ECS. Turn it on and check if the machine boots without errors. ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/migrating-unsupported-os#file-system",
    
    "relUrl": "/docs/migration/sms/migrating-unsupported-os#file-system"
  },"139": {
    "doc": "Migrating Unsupported OSs",
    "title": "Fstab",
    "content": "If the ECS has problems during its initialization, follow the steps below to edit the system’s fstab disk table. It is worth noting that for this step it will also be necessary to use an intermediate ECS if the filesystem of the original ECS is set to read-only due to a bad initialization. First, mount the system disk in a directory. Edit the “/etc/fstab” file of the original ECS system disk. Comment out all the old mounted disks in fstab. After that, unmount the disk from the directory where it was mounted and remove the disks from the ECS to insert into the original ECS again . ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/migrating-unsupported-os#fstab",
    
    "relUrl": "/docs/migration/sms/migrating-unsupported-os#fstab"
  },"140": {
    "doc": "Migrating Unsupported OSs",
    "title": "References",
    "content": ". | SMS Documentation: https://support.huaweicloud.com/intl/en-us/productdesc-sms/sms3_01_0012.html. | . ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/migrating-unsupported-os#references",
    
    "relUrl": "/docs/migration/sms/migrating-unsupported-os#references"
  },"141": {
    "doc": "Migrating Unsupported OSs",
    "title": "Migrating Unsupported OSs",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/migrating-unsupported-os",
    
    "relUrl": "/docs/migration/sms/migrating-unsupported-os"
  },"142": {
    "doc": "Monitoring Data Through API Calling",
    "title": "Monitoring Data Through API Calling",
    "content": "V1.0 – March 2024 . | Version | Author | Description | . | V1.0 – 2024-03-08 | Diogo Hatz 50037923 | Initial Version | . | V1.0 – 2024-03-08 | Wisley da Silva 00830850 | Document Review | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/monitoring-data-through-api-calling#monitoring-data-through-api-calling",
    
    "relUrl": "/docs/management-and-governance/ces/monitoring-data-through-api-calling#monitoring-data-through-api-calling"
  },"143": {
    "doc": "Monitoring Data Through API Calling",
    "title": "Introduction",
    "content": "Cloud Eye (CES) is a free tool for monitoring Huawei Cloud resources. In addition to monitoring resources, Cloud Eye can also be used to create event- or metric-based alarms, identify resource malfunctions, and quickly react to resource changes. It is worth noting that, although Cloud Eye is a free service, charges generated by sending notifications when alarms are triggered are charged. This document aims to describe the main functionalities of the Cloud Eye service and guide the reader to use the Cloud Eye API to monitor cloud resources, such as VPNs, through requests. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/monitoring-data-through-api-calling#introduction",
    
    "relUrl": "/docs/management-and-governance/ces/monitoring-data-through-api-calling#introduction"
  },"144": {
    "doc": "Monitoring Data Through API Calling",
    "title": "CloudEye API",
    "content": "To monitor resources provisioned in Huawei Cloud through APIs, it is first necessary to obtain a list of the monitoring metrics of the desired service with their respective parameters. To do this, identify the namespace of the service you want to monitor using the following hyperlink: https://support.huaweicloud.com/intl/en-us/api-ces/ces_03_0059.html. The monitoring namespace of the VPN service, for example, is configured as “SYS.VPN”. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/monitoring-data-through-api-calling#cloudeye-api",
    
    "relUrl": "/docs/management-and-governance/ces/monitoring-data-through-api-calling#cloudeye-api"
  },"145": {
    "doc": "Monitoring Data Through API Calling",
    "title": "API related to listing monitoring metrics",
    "content": "To list the monitoring metrics of a given service, simply use the “ListMetrics” API provided by HWC. Attention: To obtain the monitoring metrics of a given service, at least one resource or instance of that service must be provisioned in the region to which the API is pointing. For this guide, the Huawei Cloud API Explorer service will be used to facilitate viewing of the API parameters. The API Explorer service can be accessed through the following link: https://console-intl.huaweicloud.com/apiexplorer/#/openapi/CES/doc?version=v1&amp;api=ListMetrics, or through the step-by-step instructions below: . For this API, simply fill in the parameters related to the region in which the resource to be monitored is provisioned, the resource’s project ID, and the resource’s namespace. resource, which was obtained in item 3.0 of this guide. To obtain the resource’s project id, simply navigate to the following console page: . After filling in the required parameters, click “Debug” to obtain the json related to the existing monitoring metrics for the desired resource namespace. The response to the request will be a list of monitoring metrics for the desired resource, as can be seen in the figure below: . The documentation for this API can be viewed at the following link, for further details on the API configurations: https://support.huaweicloud.com/intl/en-us/api-ces/ces_03_0023.html . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/monitoring-data-through-api-calling#api-related-to-listing-monitoring-metrics",
    
    "relUrl": "/docs/management-and-governance/ces/monitoring-data-through-api-calling#api-related-to-listing-monitoring-metrics"
  },"146": {
    "doc": "Monitoring Data Through API Calling",
    "title": "API related to querying monitoring data",
    "content": "The API that will perform the query for the monitoring data of a given service is the “BatchListMetricData” API, which can be accessed through the following link: https://console-intl.huaweicloud.com/apiexplorer/#/openapi/CES/debug?version=v1&amp;api=BatchListMetricData ; or through the following step-by-step: . For this API, fill in all the parameters available in the API. The metric_name, name and value parameters were returned by the API related to item 3.1 of this guide, while the namespace parameter was obtained in item 3.0 of this document. For the other settings, you can see which parameters to put in the fields below: . | period: Possible values: 1, 300, 1200, 3600, 14400 or 86400: . | 1: No aggregation is performed, the data is shown in raw format; . | 300: Data aggregation is performed every 5 minutes; . | 1200: Data aggregation is performed every 20 minutes; . | 3600: Data aggregation is performed every 60 minutes; . | 14400: Data aggregation is performed every 4 hours; . | 86400: Data aggregation is performed every 24 hours. | . | filter: Possible values: max, min, average, sum or variance. | Max: Returns the maximum values ​​of the data; . | Min: Returns the minimum values ​​of the data; . | Average: Returns an average of the data; . | Variance: Returns the variance of the data. | . | from: The start period of the search. This time parameter uses the UNIX time unit in milliseconds. A standard time converter for UNIX can be found at the following page: https://www.unixtimestamp.com/. After performing the conversion, add three zeros (0) to the number, so that it is represented in milliseconds. | to: The end period of the search. This time parameter uses the UNIX time unit in milliseconds. A standard time converter for UNIX can be found at the following page: https://www.unixtimestamp.com/. After performing the conversion, add three zeros (0) to the number, so that it is represented in milliseconds. | . Request example: . After filling in all the parameters, select the “Debug” button to obtain the response from the API request: . The metric used as an example is related to the number of connections present on the gateway of a given VPN. The documentation for this API can be viewed at the following link, for further details: https://support.huaweicloud.com/intl/en-us/api-ces/ces_03_0034.html . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/monitoring-data-through-api-calling#api-related-to-querying-monitoring-data",
    
    "relUrl": "/docs/management-and-governance/ces/monitoring-data-through-api-calling#api-related-to-querying-monitoring-data"
  },"147": {
    "doc": "Monitoring Data Through API Calling",
    "title": "Other request settings",
    "content": "To obtain a template for the header and body of the API request, use the API Explorer service listed above from Huawei Cloud or refer to the documentation via the following link: https://support.huaweicloud.com/intl/en-us/api-ces/ces_03_0002.html . By following the step-by-step instructions in the documentation, you can see how to structure the request, the request endpoint, authentication, etc. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/monitoring-data-through-api-calling#other-request-settings",
    
    "relUrl": "/docs/management-and-governance/ces/monitoring-data-through-api-calling#other-request-settings"
  },"148": {
    "doc": "Monitoring Data Through API Calling",
    "title": "Attachments",
    "content": " ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/monitoring-data-through-api-calling#attachments",
    
    "relUrl": "/docs/management-and-governance/ces/monitoring-data-through-api-calling#attachments"
  },"149": {
    "doc": "Monitoring Data Through API Calling",
    "title": "VPN Gateway Monitoring Metrics",
    "content": "| Metrics | Supported | . | Inbound packet rate | Yes | . | Outbound packet rate | Yes | . | Inbound bandwidth | Yes | . | Outbound bandwidth | Yes | . | Inbound bandwidth usage | Yes | . | Number of connections | Yes | . | Outbound Bandwidth Usage | Yes | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/monitoring-data-through-api-calling#vpn-gateway-monitoring-metrics",
    
    "relUrl": "/docs/management-and-governance/ces/monitoring-data-through-api-calling#vpn-gateway-monitoring-metrics"
  },"150": {
    "doc": "Monitoring Data Through API Calling",
    "title": "VPN Connection Monitoring Metrics",
    "content": "| Metrics | Supported | . | Tunnel Average RTT | Yes | . | Tunnel Max RTT | Yes | . | Tunnel Packet Loss Rate | Yes | . | Link Average RTT | Yes | . | Link Max RTT | Yes | . | Link Packet Loss Rate | Yes | . | VPN Connection Status | Yes | . | Packet Receive Rate | Yes | . | Packet Send Rate | Yes | . | Traffic Receive Rate | Yes | . | Traffic Send Rate | Yes | . | SA Packet Send Rate | Yes | . | SA Packet Receive Rate | Yes | . | SA Traffic Send Rate | Yes | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/monitoring-data-through-api-calling#vpn-connection-monitoring-metrics",
    
    "relUrl": "/docs/management-and-governance/ces/monitoring-data-through-api-calling#vpn-connection-monitoring-metrics"
  },"151": {
    "doc": "Monitoring Data Through API Calling",
    "title": "References",
    "content": ". | CES Documentation: https://support.huaweicloud.com/intl/en-us/function-ces/index.html | CloudEye API: https://support.huaweicloud.com/intl/en-us/api-ces/en-us_topic_0171212514.html | ListMetrics API: https://support.huaweicloud.com/intl/en-us/api-ces/ces_03_0023.html | BatchListMetricData API: https://support.huaweicloud.com/intl/en-us/api-ces/ces_03_0034.html | Cloud Eye API: https://support.huaweicloud.com/intl/en-us/api-ces/ces_03_0002.html | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/monitoring-data-through-api-calling#references",
    
    "relUrl": "/docs/management-and-governance/ces/monitoring-data-through-api-calling#references"
  },"152": {
    "doc": "Monitoring Data Through API Calling",
    "title": "Monitoring Data Through API Calling",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/monitoring-data-through-api-calling",
    
    "relUrl": "/docs/management-and-governance/ces/monitoring-data-through-api-calling"
  },"153": {
    "doc": "OBS-triggered Functions",
    "title": "OBS-triggered Functions",
    "content": "V1.0 – July 2024 . | Version | Author | Description | . | V1.0 – 2024-07-04 | Diogo Hatz d50037923 | Initial Version | . | V1.0 – 2024-07-04 | Wisley da Silva Paulo 00830850 | Document Review | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/obs-triggered-functions#obs-triggered-functions",
    
    "relUrl": "/docs/compute/functiongraph/obs-triggered-functions#obs-triggered-functions"
  },"154": {
    "doc": "OBS-triggered Functions",
    "title": "Objective",
    "content": "This document aims to present the procedures required to create a function in the Huawei Cloud FunctionGraph serverless service with activation by uploading new objects to OBS buckets. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/obs-triggered-functions#objective",
    
    "relUrl": "/docs/compute/functiongraph/obs-triggered-functions#objective"
  },"155": {
    "doc": "OBS-triggered Functions",
    "title": "Agency",
    "content": "To delegate permissions from the object storage (OBS) service to FunctionGraph, it is necessary to create an agency with permissions over OBS. Navigate to the IAM service in the Huawei Cloud console and click the “Agencies” page. Click “Create Agency” to create an agency. Give the agency a name, select the agency type as “Cloud Service”, and select the FunctionGraph service. Click “Next” to proceed. Delegate “OBS ReadOnlyAccess” permissions to the agency and click “Next” and then “OK” to finish. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/obs-triggered-functions#agency",
    
    "relUrl": "/docs/compute/functiongraph/obs-triggered-functions#agency"
  },"156": {
    "doc": "OBS-triggered Functions",
    "title": "FunctionGraph",
    "content": "Access the FunctionGraph service in the Huawei Cloud console and navigate to the Functions &gt; Function List page. Click “Create Function”. Select the “Create from scratch” option, give the function a name, select the runtime in which the function will be executed, and select the agency created in item 2.0 of this document. Once you have created the function, click “Create Trigger” to create a trigger for the function to be activated. Select the Trigger Type as “Object Storage Service (OBS)”, select the desired bucket and the Event as “ObjectCreated”, so that the function is activated every time a new object appears in the bucket in question. It is also possible to configure a prefix and a suffix of the specific objects that will trigger the function, by configuring a Prefix or Suffix. Having created the trigger, now simply import the code that will be executed by the function in Code Source, such as APIs. You can also add third-party dependencies and libraries by navigating to the bottom of the function panel. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/obs-triggered-functions#functiongraph",
    
    "relUrl": "/docs/compute/functiongraph/obs-triggered-functions#functiongraph"
  },"157": {
    "doc": "OBS-triggered Functions",
    "title": "Example",
    "content": "In this example, a Python function was written to make a request to a web server running on an ECS every time a new object appears in the bucket defined in item 3.0 of this document. Uploading an object to the defined bucket: . Result in the server listener: . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/obs-triggered-functions#example",
    
    "relUrl": "/docs/compute/functiongraph/obs-triggered-functions#example"
  },"158": {
    "doc": "OBS-triggered Functions",
    "title": "References",
    "content": ". | FunctionGraph documentation: https://support.huaweicloud.com/intl/en-us/usermanual-functiongraph/functiongraph_01_0205.html | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/obs-triggered-functions#references",
    
    "relUrl": "/docs/compute/functiongraph/obs-triggered-functions#references"
  },"159": {
    "doc": "OBS-triggered Functions",
    "title": "OBS-triggered Functions",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/obs-triggered-functions",
    
    "relUrl": "/docs/compute/functiongraph/obs-triggered-functions"
  },"160": {
    "doc": "Pipeline Integration",
    "title": "Pipeline Integration",
    "content": "V1.0 – July 2024 . | Version | Author | Description | . | V1.0 – 2024-07-16 | Diogo Hatz d50037923 | Initial Version | . | V1.0 – 2024-07-16 | Wisley da Silva Paulo 00830850 | Document Review | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/pipeline-integration#pipeline-integration",
    
    "relUrl": "/docs/compute/functiongraph/pipeline-integration#pipeline-integration"
  },"161": {
    "doc": "Pipeline Integration",
    "title": "Objective",
    "content": "This document aims to present the procedures required to integrate a function from Huawei Cloud’s FunctionGraph serverless service running a container image with CI/CD processes through pipelines. This way, it is possible to ensure that the container image of the FunctionGraph function is always up to date. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/pipeline-integration#objective",
    
    "relUrl": "/docs/compute/functiongraph/pipeline-integration#objective"
  },"162": {
    "doc": "Pipeline Integration",
    "title": "Considerations",
    "content": "Important: To integrate FunctionGraph with pipelines, simply upload the updated image to Huawei Cloud’s SWR image repository service. However, it is mandatory that both the image name and its tag are the same as those of the image that originated the FunctionGraph function, to ensure that the URL of this image is the same as that configured in the function at the time of its creation. You can also change the URL of the image associated with the function through the following API: https://support.huaweicloud.com/intl/en-us/api-functiongraph/functiongraph_06_0111.html. There are two approaches to this integration: using pipelines from HWC’s CodeArts Pipelines service or using pipelines from third-party services. Both approaches will be explored below: . | CodeArts Pipeline: In the Build task configuration, simply select the “Build Image and Push to SWR” option. The image will be built and then automatically published to the SWR repository; | Third-party pipeline: In the final step of the pipeline, simply add an action to upload the image to the SWR repository. | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/pipeline-integration#considerations",
    
    "relUrl": "/docs/compute/functiongraph/pipeline-integration#considerations"
  },"163": {
    "doc": "Pipeline Integration",
    "title": "SWR Organization",
    "content": "Navigate to the SWR service in the Huawei Cloud console. Click the “Organizations” tab and click “Create Organization”. Give the organization a name and click “OK” to confirm the organization creation. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/pipeline-integration#swr-organization",
    
    "relUrl": "/docs/compute/functiongraph/pipeline-integration#swr-organization"
  },"164": {
    "doc": "Pipeline Integration",
    "title": "CodeArts",
    "content": "To integrate a FunctionGraph function with a pipeline created in the Huawei Cloud CodeArts Pipelines service, simply create a build task in CodeArts Build according to the steps below. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/pipeline-integration#codearts",
    
    "relUrl": "/docs/compute/functiongraph/pipeline-integration#codearts"
  },"165": {
    "doc": "Pipeline Integration",
    "title": "Service Endpoint",
    "content": "Navigate to the CodeArts Req service in the Huawei Cloud console. If this is your first time logging into the service, you will be prompted to create a CodeArts project. Access the settings of the created CodeArts project by clicking on “Settings” &gt; “General” &gt; “Service Endpoints” &gt; “Create Endpoint”. Select the service where the source code related to the Dockerfile is located. Select the authentication type with the repository and click on “Authorize and Confirm” to authenticate with the repository. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/pipeline-integration#service-endpoint",
    
    "relUrl": "/docs/compute/functiongraph/pipeline-integration#service-endpoint"
  },"166": {
    "doc": "Pipeline Integration",
    "title": "CodeArts Build",
    "content": "Once the repository endpoint has been created, navigate to the CodeArts Build service and click on “Create Task” to create a Build task. Give the task a name, select the Code Source type where the Dockerfile source code will be located. Configure the Service Endpoint created in item 4.1 of this document, select the repository and the repository branch and click “Next”. Select the “Maven and Container” build template and click “OK”. Delete the Maven build step from the build process. Click on the “Build Image and Push to SWR” build step, select the desired Docker version, the image repository as SWR, and the organization created in item 3.0 of this document. Important: For the image name and tag, both must be fixed, since changes to the image in FunctionGraph will only be reflected for a given name and tag pair. It is recommended to use the latest tag. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/pipeline-integration#codearts-build",
    
    "relUrl": "/docs/compute/functiongraph/pipeline-integration#codearts-build"
  },"167": {
    "doc": "Pipeline Integration",
    "title": "CodeArts Pipelines",
    "content": "Navigate to the CodeArts Pipelines service section in the Huawei Cloud console and click “Create Pipeline”. Set a name for the pipeline, the service where the Dockerfile source code is located, and the endpoint created in item 4.1 of this document. Also configure the repository where the source code is located and its branch. Click “Next” to proceed and select the “Blank Template” template. In “Stage_1”, delete the existing “New Job” and create a job for Build. In the Build stage configuration, associate the task created in item 4.2 of this document and the repository where the Dockerfile source code is located. . To add a trigger to the pipeline, click “Task Orchestration” above and select the “Execution Plan” option. Select the trigger type, such as code commit or merge request. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/pipeline-integration#codearts-pipelines",
    
    "relUrl": "/docs/compute/functiongraph/pipeline-integration#codearts-pipelines"
  },"168": {
    "doc": "Pipeline Integration",
    "title": "Third-party pipeline",
    "content": "To integrate a FunctionGraph function with a third-party pipeline, simply upload the image after its build to the HWC SWR repository by adding a Docker task in the final stage of the pipeline, according to the commands executed below. Here is the documentation for the Docker “Docker@2” task on Azure as a reference: https://learn.microsoft.com/en-us/azure/devops/pipelines/tasks/reference/docker-v2?view=azure-pipelines&amp;tabs=yaml. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/pipeline-integration#third-party-pipeline",
    
    "relUrl": "/docs/compute/functiongraph/pipeline-integration#third-party-pipeline"
  },"169": {
    "doc": "Pipeline Integration",
    "title": "Getting a Permanent Login to SWR",
    "content": "Generating an AK/SK . To get permanent authentication credentials with SWR, first log in to the Huawei Cloud console and access the Identity and Access Management (IAM) service, click “User Groups” and then “Create User Group”. Give the group a name and click “OK”. Click “Authorize” next to the created group, select the “SWR Admin” policy, followed by “OK” and “Finish”. Now to create a new user, click on “Create User”. Give the user a name, uncheck the “Management console access” box, and check the “Access key” box. Click “Next” to proceed, add the user to the group created above, and then click “Create”. Click “OK” to download the generated AK/SK key, which will be used to create authentication credentials with Docker later. Generating Docker credentials . Log in to any machine running the Linux operating system and type the following command, replacing the “AK” and “SK” fields with the AK/SK key generated in item 5.1.1 of this document. printf \"AK\" | openssl dgst -binary -sha256 -hmac \"SK\" | od -An -vtx1 | sed 's/\\[ \\\\n\\]//g' | sed 'N;s/\\\\n//' . After executing the command, a key will be generated. Simply replace the key generated in the command below in the “Login key” field and the AK in the “AK” field to obtain the Docker authentication command with the SWR repository. docker login -u [Regional project name]@[AK] -p [Login key] [Image repository address] . For the Santiago region, for example, the “Regional Project Name” is la-south-2, while the “Image repository address” is swr.la-south-2.myhuaweicloud.com. Here is an example of the authentication command: . docker login -u la-south-2@RVHVMX\\*\\*\\*\\*\\*\\* -p cab4ceab4a1545\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\* swr.la-south-2.myhuaweicloud.com . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/pipeline-integration#getting-a-permanent-login-to-swr",
    
    "relUrl": "/docs/compute/functiongraph/pipeline-integration#getting-a-permanent-login-to-swr"
  },"170": {
    "doc": "Pipeline Integration",
    "title": "Uploading the image to SWR",
    "content": "After logging in the SWR repository through Docker, copy the following command, changing the fields [image name 1:tag 1], [Image repositor address], [Organization name] and [Image name 2:tag 2] according to the list below: . | [Image name 1:tag 1]: {name:tag} of the image that will be uploaded; . | [Image repositor address]: SWR domain. It can be obtained in the login command obtained in item 5.1.2 of this document; . | [Organization name]: Name of the organization created in item 3.0 of this document; . | [Image name 2:tag 2]: {name:tag} of the image that will appear in the SWR. Similar to a rename, the same name and tag can be kept. | . docker tag {Image name 1:tag 1} {Image repository address} {Organization name} {Image name 2:tag 2} . Example: . docker tag novo:1.0 swr.la-south-2.myhuaweicloud.com/adada/serase . Now just upload the image with the following command: . docker push {Image repository address} {Organization name} {Image name 2:tag 2} . Example: . docker push swr.la-south-2.myhuaweicloud.com/adada/serase . On the SWR service page in the HWC console, you can see that the image was successfully published to the repository: . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/pipeline-integration#uploading-the-image-to-swr",
    
    "relUrl": "/docs/compute/functiongraph/pipeline-integration#uploading-the-image-to-swr"
  },"171": {
    "doc": "Pipeline Integration",
    "title": "Creating the pipeline task",
    "content": "The final task of the pipeline itself will consist of a series of commands executed in Docker that will follow the following workflow: . | Log in to the Registry where the built image is located; . | Pull the image from the original Registry; . | Log out of the Registry; . | Log in to Huawei’s SWR repository; . | Associate a tag with the image in item 2; . | Push the image to Huawei’s SWR repository; . | Log out of the SWR repository; . | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/pipeline-integration#creating-the-pipeline-task",
    
    "relUrl": "/docs/compute/functiongraph/pipeline-integration#creating-the-pipeline-task"
  },"172": {
    "doc": "Pipeline Integration",
    "title": "FunctionGraph",
    "content": "Having ensured that the name and tag of the image published to SWR via the Pipeline is exactly the same as the image associated with the function in FunctionGraph, any changes made to the image will be reflected in the FunctionGraph function. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/pipeline-integration#functiongraph",
    
    "relUrl": "/docs/compute/functiongraph/pipeline-integration#functiongraph"
  },"173": {
    "doc": "Pipeline Integration",
    "title": "Example",
    "content": "In this example, a pipeline was created so that every time a commit is made to the master branch of the specified Test repository, the pipeline will be activated and will build the Docker image according to the Dockerfile in the repository, upload it to the Huawei Cloud SWR repository, and consequently update the FunctionGraph function. Committing to GitHub repository: . Pipeline triggered: . Build complete, pipeline completed: . You can see in the SWR repository that the image has been updated: . Since the image has the same URL as the image associated with the FunctionGraph function, the changes will be reflected in the desired function. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/pipeline-integration#example",
    
    "relUrl": "/docs/compute/functiongraph/pipeline-integration#example"
  },"174": {
    "doc": "Pipeline Integration",
    "title": "References",
    "content": ". | FunctionGraph documentation: https://support.huaweicloud.com/intl/en-us/api-functiongraph/functiongraph_06_0111.html. | SWR documentation: https://support.huaweicloud.com/intl/en-us/usermanual-swr/swr_01_1000.html. | Azure Pipeline Tasks documentation: https://learn.microsoft.com/en-us/azure/devops/pipelines/tasks/reference/docker-v2?view=azure-pipelines&amp;tabs=yaml. | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/pipeline-integration#references",
    
    "relUrl": "/docs/compute/functiongraph/pipeline-integration#references"
  },"175": {
    "doc": "Pipeline Integration",
    "title": "Pipeline Integration",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/pipeline-integration",
    
    "relUrl": "/docs/compute/functiongraph/pipeline-integration"
  },"176": {
    "doc": "Creating a Private OracleOS 7.9 Image",
    "title": "Creating a Private OracleOS 7.9 Image",
    "content": "V1.0 – June 2024 . | Version | Author | Description | . | V1.0 – 2024-06-06 | Diogo Hatz d50037923 | Initial Version | . | V1.0 – 2024-06-06 | Wisley da Silva Paulo 00830850 | Document Review | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-7-9-image#creating-a-private-oracleos-79-image",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-7-9-image#creating-a-private-oracleos-79-image"
  },"177": {
    "doc": "Creating a Private OracleOS 7.9 Image",
    "title": "Objective",
    "content": "This document aims to present the procedures required to create an OracleOS 7.9 image using the IMS service. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-7-9-image#objective",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-7-9-image#objective"
  },"178": {
    "doc": "Creating a Private OracleOS 7.9 Image",
    "title": "Creating an OracleOS image",
    "content": "Download the OracleOS ISO image (example - https://yum.oracle.com/oracle-linux-isos.html) and upload it to OBS. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-7-9-image#creating-an-oracleos-image",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-7-9-image#creating-an-oracleos-image"
  },"179": {
    "doc": "Creating a Private OracleOS 7.9 Image",
    "title": "Import the OracleOS ISO image into the IMS service.",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-7-9-image#import-the-oracleos-iso-image-into-the-ims-service",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-7-9-image#import-the-oracleos-iso-image-into-the-ims-service"
  },"180": {
    "doc": "Creating a Private OracleOS 7.9 Image",
    "title": "Create an ECS using the image created by importing the ISO image.",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-7-9-image#create-an-ecs-using-the-image-created-by-importing-the-iso-image",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-7-9-image#create-an-ecs-using-the-image-created-by-importing-the-iso-image"
  },"181": {
    "doc": "Creating a Private OracleOS 7.9 Image",
    "title": "Access the instance and open the shell terminal",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-7-9-image#access-the-instance-and-open-the-shell-terminal",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-7-9-image#access-the-instance-and-open-the-shell-terminal"
  },"182": {
    "doc": "Creating a Private OracleOS 7.9 Image",
    "title": "Bind an EIP to the machine",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-7-9-image#bind-an-eip-to-the-machine",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-7-9-image#bind-an-eip-to-the-machine"
  },"183": {
    "doc": "Creating a Private OracleOS 7.9 Image",
    "title": "Install KVM",
    "content": "Add the KVM drivers in the file: “/etc/dracut.conf”: . vi /etc/dracut.conf virtio_blk virtio_scsi virtio_net virtio_pci virtio_ring virtio . dracut -f /boot/initramfs-2.6.32-573.8.1.el6.x86\\_64.img . Replace “initramfs-2.6.32-573.8.1.el6.x86_64.img” with the initramfs used by your current kernel. To verify the initramfs file per kernel, look in the /boot/grub2/grub.cfg file. To verify that the drivers have been installed, type the following command . lsinitrd /boot/initramfs-\\`uname -r\\`.img | grep virtio . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-7-9-image#install-kvm",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-7-9-image#install-kvm"
  },"184": {
    "doc": "Creating a Private OracleOS 7.9 Image",
    "title": "Edit the eth0 network interface",
    "content": "vi /etc/sysconfig/network-scripts/ifcfg-eth0 . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-7-9-image#edit-the-eth0-network-interface",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-7-9-image#edit-the-eth0-network-interface"
  },"185": {
    "doc": "Creating a Private OracleOS 7.9 Image",
    "title": "Install and configure cloud-init",
    "content": "yum update -y yum install cloud-init -y . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-7-9-image#install-and-configure-cloud-init",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-7-9-image#install-and-configure-cloud-init"
  },"186": {
    "doc": "Creating a Private OracleOS 7.9 Image",
    "title": "Install the HWC password reset plugin",
    "content": "vi /etc/selinux/config . systemctl reboot wget &lt;https://ap-southeast-2-cloud-reset-pwd.obs.ap-southeast-2.myhuaweicloud.com/linux/64/reset_pwd_agent/CloudResetPwdAgent.zip&gt; unzip CloudResetPwdAgent.zip cd CloudResetPwdAgent/CloudResetPwdAgent.Linux chmod +x setup.sh sudo sh setup.sh chmod 700 /CloudrResetPwdAgent/bin/cloudResetPwdAgent.script chmod 700 /CloudrResetPwdAgent/bin/wrapper chmod 600 /CloudrResetPwdAgent/lib/\\* systemctl start cloudResetPwdAgent systemctl enable cloudResetPwdAgent . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-7-9-image#install-the-hwc-password-reset-plugin",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-7-9-image#install-the-hwc-password-reset-plugin"
  },"187": {
    "doc": "Creating a Private OracleOS 7.9 Image",
    "title": "(optional) Change the default kernel of Grub to the kernel that will be used",
    "content": "https://docs.oracle.com/en/learn/oracle-linux-kernels/#change-the-default-kernel . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-7-9-image#optional-change-the-default-kernel-of-grub-to-the-kernel-that-will-be-used",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-7-9-image#optional-change-the-default-kernel-of-grub-to-the-kernel-that-will-be-used"
  },"188": {
    "doc": "Creating a Private OracleOS 7.9 Image",
    "title": "(optional) If any of the kernels show errors during boot, type the following command",
    "content": "dracut --regenerate-all –force . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-7-9-image#optional-if-any-of-the-kernels-show-errors-during-boot-type-the-following-command",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-7-9-image#optional-if-any-of-the-kernels-show-errors-during-boot-type-the-following-command"
  },"189": {
    "doc": "Creating a Private OracleOS 7.9 Image",
    "title": "Stop the instance and create the image:",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-7-9-image#stop-the-instance-and-create-the-image",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-7-9-image#stop-the-instance-and-create-the-image"
  },"190": {
    "doc": "Creating a Private OracleOS 7.9 Image",
    "title": "Creating a Private OracleOS 7.9 Image",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-7-9-image",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-7-9-image"
  },"191": {
    "doc": "Creating a Private OracleOS 9.4 Image",
    "title": "Creating a Private OracleOS 9.4 Image",
    "content": "V1.0 – June 2024 . | Version | Author | Description | . | V1.0 – 2024-06-06 | Diogo Hatz d50037923 | Initial Version | . | V1.0 – 2024-06-06 | Wisley da Silva Paulo 00830850 | Document Review | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-9-4-image#creating-a-private-oracleos-94-image",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-9-4-image#creating-a-private-oracleos-94-image"
  },"192": {
    "doc": "Creating a Private OracleOS 9.4 Image",
    "title": "Objective",
    "content": "This document aims to present the procedures required to create an OracleOS 9.4 image using the IMS service. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-9-4-image#objective",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-9-4-image#objective"
  },"193": {
    "doc": "Creating a Private OracleOS 9.4 Image",
    "title": "Creating an OracleOS image",
    "content": "Download the Ubuntu Server ISO image (example - https://yum.oracle.com/oracle-linux-isos.html) and upload it to OBS. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-9-4-image#creating-an-oracleos-image",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-9-4-image#creating-an-oracleos-image"
  },"194": {
    "doc": "Creating a Private OracleOS 9.4 Image",
    "title": "Import the OracleOS ISO image into the IMS service.",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-9-4-image#import-the-oracleos-iso-image-into-the-ims-service",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-9-4-image#import-the-oracleos-iso-image-into-the-ims-service"
  },"195": {
    "doc": "Creating a Private OracleOS 9.4 Image",
    "title": "Create an ECS using the image created by importing the ISO image.",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-9-4-image#create-an-ecs-using-the-image-created-by-importing-the-iso-image",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-9-4-image#create-an-ecs-using-the-image-created-by-importing-the-iso-image"
  },"196": {
    "doc": "Creating a Private OracleOS 9.4 Image",
    "title": "Access the instance and open the shell terminal",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-9-4-image#access-the-instance-and-open-the-shell-terminal",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-9-4-image#access-the-instance-and-open-the-shell-terminal"
  },"197": {
    "doc": "Creating a Private OracleOS 9.4 Image",
    "title": "Bind an EIP to the machine",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-9-4-image#bind-an-eip-to-the-machine",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-9-4-image#bind-an-eip-to-the-machine"
  },"198": {
    "doc": "Creating a Private OracleOS 9.4 Image",
    "title": "Install and configure cloud-init",
    "content": "yum update -y yum install cloud-init -y . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-9-4-image#install-and-configure-cloud-init",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-9-4-image#install-and-configure-cloud-init"
  },"199": {
    "doc": "Creating a Private OracleOS 9.4 Image",
    "title": "Install the HWC password change plugin",
    "content": "vi /etc/selinux/config . systemctl reboot wget &lt;https://ap-southeast-2-cloud-reset-pwd.obs.ap-southeast-2.myhuaweicloud.com/linux/64/reset_pwd_agent/CloudResetPwdAgent.zip&gt; unzip CloudResetPwdAgent.zip cd CloudResetPwdAgent/CloudResetPwdAgent.Linux chmod +x setup.sh sudo sh setup.sh chmod 700 /CloudrResetPwdAgent/bin/cloudResetPwdAgent.script chmod 700 /CloudrResetPwdAgent/bin/wrapper chmod 600 /CloudrResetPwdAgent/lib/\\* systemctl start cloudResetPwdAgent systemctl enable cloudResetPwdAgent . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-9-4-image#install-the-hwc-password-change-plugin",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-9-4-image#install-the-hwc-password-change-plugin"
  },"200": {
    "doc": "Creating a Private OracleOS 9.4 Image",
    "title": "(optional) Change the default kernel of Grub to the kernel that will be used",
    "content": "https://docs.oracle.com/en/learn/oracle-linux-kernels/#change-the-default-kernel . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-9-4-image#optional-change-the-default-kernel-of-grub-to-the-kernel-that-will-be-used",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-9-4-image#optional-change-the-default-kernel-of-grub-to-the-kernel-that-will-be-used"
  },"201": {
    "doc": "Creating a Private OracleOS 9.4 Image",
    "title": "(optional) If any of the kernels show errors during boot, type the following command",
    "content": "dracut --regenerate-all –force . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-9-4-image#optional-if-any-of-the-kernels-show-errors-during-boot-type-the-following-command",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-9-4-image#optional-if-any-of-the-kernels-show-errors-during-boot-type-the-following-command"
  },"202": {
    "doc": "Creating a Private OracleOS 9.4 Image",
    "title": "Stop the instance and create the image:",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-9-4-image#stop-the-instance-and-create-the-image",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-9-4-image#stop-the-instance-and-create-the-image"
  },"203": {
    "doc": "Creating a Private OracleOS 9.4 Image",
    "title": "Creating a Private OracleOS 9.4 Image",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-9-4-image",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-9-4-image"
  },"204": {
    "doc": "Creating a Private Ubuntu Image",
    "title": "Creating a Private Ubuntu Image",
    "content": "V1.0 – November 2023 . | Version | Author | Description | . | V1.0 – 2023-11-20 | Wisley da Silva Paulo 00830850 | Initial version | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-ubuntu-image#creating-a-private-ubuntu-image",
    
    "relUrl": "/docs/compute/ims/creating-a-private-ubuntu-image#creating-a-private-ubuntu-image"
  },"205": {
    "doc": "Creating a Private Ubuntu Image",
    "title": "Objective",
    "content": "This document aims to present the necessary procedures for creating an Ubuntu 20.04 image with UEFI using the IMS service. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-ubuntu-image#objective",
    
    "relUrl": "/docs/compute/ims/creating-a-private-ubuntu-image#objective"
  },"206": {
    "doc": "Creating a Private Ubuntu Image",
    "title": "Creating an Ubuntu image",
    "content": " ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-ubuntu-image#creating-an-ubuntu-image",
    
    "relUrl": "/docs/compute/ims/creating-a-private-ubuntu-image#creating-an-ubuntu-image"
  },"207": {
    "doc": "Creating a Private Ubuntu Image",
    "title": "Download the Ubuntu Server ISO image (example - https://releases.ubuntu.com/focal/) and upload it to OBS.",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-ubuntu-image#download-the-ubuntu-server-iso-image-example---httpsreleasesubuntucomfocal-and-upload-it-to-obs",
    
    "relUrl": "/docs/compute/ims/creating-a-private-ubuntu-image#download-the-ubuntu-server-iso-image-example---httpsreleasesubuntucomfocal-and-upload-it-to-obs"
  },"208": {
    "doc": "Creating a Private Ubuntu Image",
    "title": "Import the Ubuntu ISO image into the IMS service.",
    "content": ". Note: At the time of creating this document, when we select UEFI and Ubuntu, the options for versions 18.04 and 20.04 do not appear, but this was reported to the product team, who informed us and the change will be made in December 2023. At that time, you can select the 16.04 option and the system will work normally. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-ubuntu-image#import-the-ubuntu-iso-image-into-the-ims-service",
    
    "relUrl": "/docs/compute/ims/creating-a-private-ubuntu-image#import-the-ubuntu-iso-image-into-the-ims-service"
  },"209": {
    "doc": "Creating a Private Ubuntu Image",
    "title": "Create an ECS using the image created by importing the ISO image.",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-ubuntu-image#create-an-ecs-using-the-image-created-by-importing-the-iso-image",
    
    "relUrl": "/docs/compute/ims/creating-a-private-ubuntu-image#create-an-ecs-using-the-image-created-by-importing-the-iso-image"
  },"210": {
    "doc": "Creating a Private Ubuntu Image",
    "title": "Access the instance and open the shell terminal",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-ubuntu-image#access-the-instance-and-open-the-shell-terminal",
    
    "relUrl": "/docs/compute/ims/creating-a-private-ubuntu-image#access-the-instance-and-open-the-shell-terminal"
  },"211": {
    "doc": "Creating a Private Ubuntu Image",
    "title": "Install KVM",
    "content": "Add the virtio drivers to the file: “/etc/initramfs-tools/modules”: . nano /etc/initramfs-tools/modules virtio_blk virtio_scsi virtio_net virtio_pci virtio_ring virtio . update-initramfs -u . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-ubuntu-image#install-kvm",
    
    "relUrl": "/docs/compute/ims/creating-a-private-ubuntu-image#install-kvm"
  },"212": {
    "doc": "Creating a Private Ubuntu Image",
    "title": "Install and start openssh",
    "content": "apt update apt install openssh-server -y service sshd start . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-ubuntu-image#install-and-start-openssh",
    
    "relUrl": "/docs/compute/ims/creating-a-private-ubuntu-image#install-and-start-openssh"
  },"213": {
    "doc": "Creating a Private Ubuntu Image",
    "title": "Configure sshd.conf",
    "content": "nano /etc/ssh/sshd_config . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-ubuntu-image#configure-sshdconf",
    
    "relUrl": "/docs/compute/ims/creating-a-private-ubuntu-image#configure-sshdconf"
  },"214": {
    "doc": "Creating a Private Ubuntu Image",
    "title": "Install and configure cloud-init",
    "content": "(apt install cloud-init is not working for version 20.04, install version 23 and it has compatibility issues) . apt remove cloud-init apt purge cloud-init rm -rf /var/lib/cloud/* rm -rf /var/log/cloud-init* rm -rf /var/lib/cloud rm -rf /etc/cloud rm -rf /usr/local/bin/cloud* apt update apt install cloud-guest-utils -y apt install python3-pip -y apt install python3-devel wget https://launchpad.net/cloud-init/trunk/19.1/+download/cloud-init-19.1.tar.gz tar -zxvf cloud-init-19.1.tar.gz cd cloud-init-19.1 pip3 install -r ./requirements.txt python3 setup.py install cloud-init -v cloud-init init --local nano /etc/cloud/cloud.cfg . Change the parameters as shown in the images, add the lines at the end of the file: . - name: root lock_passwd: False ssh_pwauth: true . . datasource_list: [ OpenStack ] datasource: OpenStack: metadata_urls: ['http://169.254.169.254'] max_wait: 120 timeout: 5 apply_network_config: false network: config: disabled . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-ubuntu-image#install-and-configure-cloud-init",
    
    "relUrl": "/docs/compute/ims/creating-a-private-ubuntu-image#install-and-configure-cloud-init"
  },"215": {
    "doc": "Creating a Private Ubuntu Image",
    "title": "Check cloud-init, if any error occurs try restarting the instance and run the command again:",
    "content": "sudo cloud-init init --local . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-ubuntu-image#check-cloud-init-if-any-error-occurs-try-restarting-the-instance-and-run-the-command-again",
    
    "relUrl": "/docs/compute/ims/creating-a-private-ubuntu-image#check-cloud-init-if-any-error-occurs-try-restarting-the-instance-and-run-the-command-again"
  },"216": {
    "doc": "Creating a Private Ubuntu Image",
    "title": "Stop the instance and create the image:",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-ubuntu-image#stop-the-instance-and-create-the-image",
    
    "relUrl": "/docs/compute/ims/creating-a-private-ubuntu-image#stop-the-instance-and-create-the-image"
  },"217": {
    "doc": "Creating a Private Ubuntu Image",
    "title": "Creating a Private Ubuntu Image",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-ubuntu-image",
    
    "relUrl": "/docs/compute/ims/creating-a-private-ubuntu-image"
  },"218": {
    "doc": "Creating a Private Windows 10 and Ubuntu Workspace Image",
    "title": "Creating a Private Windows 10 and Ubuntu Workspace Image",
    "content": "V1.0 – November 2023 . | Version | Author | Description | . | V1.0 – 2023-11-09 | Wisley da Silva Paulo 00830850 | Initial version | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#creating-a-private-windows-10-and-ubuntu-workspace-image",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#creating-a-private-windows-10-and-ubuntu-workspace-image"
  },"219": {
    "doc": "Creating a Private Windows 10 and Ubuntu Workspace Image",
    "title": "Objective",
    "content": "This document aims to collect and formalize the information required for implementing the creation of private images in the IMS service to be used in the Huawei Cloud Workspace service. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#objective",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#objective"
  },"220": {
    "doc": "Creating a Private Windows 10 and Ubuntu Workspace Image",
    "title": "Creating a Windows 10 image",
    "content": ". | Download the Windows 10 ISO image from the Microsoft website. | Download the packages as shown in the link (https://support.huaweicloud.com/intl/en-us/usermanual-workspace/workspace_06_0507.html) and add them to a bucket to facilitate transfer to the machine at the time of installation. | After downloading the Windows 10 ISO image and all the packages, perform the procedure in the link (https://support.huaweicloud.com/intl/en-us/usermanual-workspace/workspace_06_0508.html) to add drivers to the ISO file. | Start the installation and configure the driver as shown in the link (https://support.huaweicloud.com/intl/en-us/usermanual-ims/en-us_topic_0146474784.html). | Access the CD, open the vmtools folder that was added to the ISO, and install vmtools. | . Activate the Administrator user by right-clicking on the start button, accessing the “Computer Management” option, accessing the “Local User…” option, then “User”, right-click on the Administrator user, properties and then uncheck the option to disable the user. Repeat the procedure to access the user and set a password for the user. Log off with the current user and log in with the Administrator user. . Make the settings indicated in the link (https://support.huaweicloud.com/intl/en-us/usermanual-workspace/workspace_06_0510.html) up to item 56. Ignore the item marked in red in this item. You can ignore items 40 to 49 . Items 50 to 56 are just checks (adjustment is rarely required). Install the software listed in the link (https://support.huaweicloud.com/intl/en-us/usermanual-workspace/workspace_06_0510.html) from item 57 onwards. Check in the control panel if the programs have been installed . Before installing the latest tool (Workspace_HDP_WindowsDesktop_Installer) make sure that all operating system updates have been performed, otherwise you may receive the error: . This command has an error the marked word is missing a letter “n” the correct command is: run_silent.bat –passive –environment_type 2 –nocheck –noshutdown . When initializing, Administrator access will be unavailable. Log in with the user created during installation and set a new password for Administrator. Log in with Administrator to complete the procedure. With all the instance adjustments made, we now use ECS to create the image. Just stop ECS and in the more option select “Manage Image” and then Create Image. With the image created and appearing in the IMS service, it is now available to be used in the Workspace service. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#creating-a-windows-10-image",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#creating-a-windows-10-image"
  },"221": {
    "doc": "Creating a Private Windows 10 and Ubuntu Workspace Image",
    "title": "Creating Ubuntu image",
    "content": "Download the Ubuntu Desktop ISO image (supported at the time of writing are 18.04.5-desktop-amd64 or ubuntu-20.04.5.0-desktop-amd64 - https://mu.releases.ubuntu.com/20.04.5/ - https://old-releases.ubuntu.com/releases/18.04.5/) and upload it to OBS. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#creating-ubuntu-image",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#creating-ubuntu-image"
  },"222": {
    "doc": "Creating a Private Windows 10 and Ubuntu Workspace Image",
    "title": "Import the Ubuntu ISO image into the IMS service.",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#import-the-ubuntu-iso-image-into-the-ims-service",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#import-the-ubuntu-iso-image-into-the-ims-service"
  },"223": {
    "doc": "Creating a Private Windows 10 and Ubuntu Workspace Image",
    "title": "",
    "content": " ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#-1",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#-1"
  },"224": {
    "doc": "Creating a Private Windows 10 and Ubuntu Workspace Image",
    "title": "Create an ECS using the image created by importing the ISO image.",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#create-an-ecs-using-the-image-created-by-importing-the-iso-image",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#create-an-ecs-using-the-image-created-by-importing-the-iso-image"
  },"225": {
    "doc": "Creating a Private Windows 10 and Ubuntu Workspace Image",
    "title": "Access the instance and open the shell terminal",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#access-the-instance-and-open-the-shell-terminal",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#access-the-instance-and-open-the-shell-terminal"
  },"226": {
    "doc": "Creating a Private Windows 10 and Ubuntu Workspace Image",
    "title": "Install the libxcb-xinerama0, gawk packages",
    "content": "sudo su apt update apt install libxcb-xinerama0 -y apt install gawk -y . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#install-the-libxcb-xinerama0-gawk-packages",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#install-the-libxcb-xinerama0-gawk-packages"
  },"227": {
    "doc": "Creating a Private Windows 10 and Ubuntu Workspace Image",
    "title": "Install the Linux Kernel (For Ubuntu 20.04 Only)",
    "content": "apt install linux-image-5.15.0-72-generic -y apt install linuxheaders-5.15.0-72-generic -y apt install linux-modules-extra-5.15.0-72-generic -y grep menuentry /boot/grub/grub.cfg . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#install-the-linux-kernel-for-ubuntu-2004-only",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#install-the-linux-kernel-for-ubuntu-2004-only"
  },"228": {
    "doc": "Creating a Private Windows 10 and Ubuntu Workspace Image",
    "title": "Record the location of version 5.15.0-72, as shown in the kernel figure:",
    "content": "sudo nano /etc/default/grub . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#record-the-location-of-version-5150-72-as-shown-in-the-kernel-figure",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#record-the-location-of-version-5150-72-as-shown-in-the-kernel-figure"
  },"229": {
    "doc": "Creating a Private Windows 10 and Ubuntu Workspace Image",
    "title": "Install and start openssh",
    "content": "apt update apt install openssh-server -y service sshd start . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#install-and-start-openssh",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#install-and-start-openssh"
  },"230": {
    "doc": "Creating a Private Windows 10 and Ubuntu Workspace Image",
    "title": "Configure sshd.conf",
    "content": "nano /etc/ssh/sshd_config . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#configure-sshdconf",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#configure-sshdconf"
  },"231": {
    "doc": "Creating a Private Windows 10 and Ubuntu Workspace Image",
    "title": "Install python 3",
    "content": "apt install python3 -y python3 --version . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#install-python-3",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#install-python-3"
  },"232": {
    "doc": "Creating a Private Windows 10 and Ubuntu Workspace Image",
    "title": "Install and configure cloud-init",
    "content": "apt install cloud-init -y nano /etc/cloud/cloud.cfg . Change the disable_root parameter to false, add the lines at the end . of the file, adjust the config modules by commenting out the “locale” line, in the initialization module list place ssh as the first item: . datasource_list: [ OpenStack ] datasource: OpenStack: metadata_urls: ['http://169.254.169.254'] max_wait: 120 timeout: 5 network: config: disabled . Check cloud-init, if any error occurs try restarting the instance and run the command again: . sudo cloud-init init --local . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#install-and-configure-cloud-init",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#install-and-configure-cloud-init"
  },"233": {
    "doc": "Creating a Private Windows 10 and Ubuntu Workspace Image",
    "title": "Install KVM",
    "content": "Add the virtio drivers to the file: “/etc/initramfs-tools/modules”: . nano /etc/initramfs-tools/modules virtio_blk virtio_scsi virtio_net virtio_pci virtio_ring virtio . update-initramfs -u . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#install-kvm",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#install-kvm"
  },"234": {
    "doc": "Creating a Private Windows 10 and Ubuntu Workspace Image",
    "title": "Download the HDA package",
    "content": "wget https://workspace-hdp-gray-cn-east-3.obs.cn-east-3.myhuaweicloud.com/WorkspaceHDP/HDPAgent/23.05.5/Workspace_HDP_LinuxDesktop_23.5.5.0922.iso cp Workspace_HDP_LinuxDesktop_23.5.5.0922.iso /tmp . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#download-the-hda-package",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#download-the-hda-package"
  },"235": {
    "doc": "Creating a Private Windows 10 and Ubuntu Workspace Image",
    "title": "Install HAD",
    "content": "mount /tmp/Workspace_HDP_LinuxDesktop_23.5.5.0922.iso /mnt cd /mnt /bin/bash autorun.sh # The system will restart rm -rf /tmp/Workspace_HDP_LinuxDesktop_23.5.5.0922.iso cat /usr/local/hdpserver/version.txt sudo apt-mark hold `uname -r` . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#install-had",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#install-had"
  },"236": {
    "doc": "Creating a Private Windows 10 and Ubuntu Workspace Image",
    "title": "Clear cache",
    "content": "cd /usr/local/hdpserver/hwsysagent/scripts20 bash cleanCache.sh . touch /usr/share/glib-2.0/schemas/19_mysettings.gschema.override nano /usr/share/glib-2.0/schemas/19_mysettings.gschema.override . sudo glib-compile-schemas /usr/share/glib-2.0/schemas . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#clear-cache",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#clear-cache"
  },"237": {
    "doc": "Creating a Private Windows 10 and Ubuntu Workspace Image",
    "title": "Stop the instance and create the image",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#stop-the-instance-and-create-the-image",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#stop-the-instance-and-create-the-image"
  },"238": {
    "doc": "Creating a Private Windows 10 and Ubuntu Workspace Image",
    "title": "Creating a Private Windows 10 and Ubuntu Workspace Image",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image"
  },"239": {
    "doc": "Creating a Private Windows Image",
    "title": "Creating a Private Windows Image",
    "content": "V1.0 – January 2024 . | Version | Author | Description | . | V1.0 – 2024-01-02 | Diogo Hatz 50037923 | Initial Version | . | V1.0 – 2024-01-02 | Wisley Paulo 00830850 | Document Review | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#creating-a-private-windows-image",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#creating-a-private-windows-image"
  },"240": {
    "doc": "Creating a Private Windows Image",
    "title": "Introduction",
    "content": "Image Management Service (IMS) is a service provided on Huawei Cloud that allows image management. Images are nothing more than cloud servers or disk templates that contain an operating system (OS), service data, or software. This document aims to provide a step-by-step guide on how to create customized images on IMS on Huawei Cloud from ISO files external to Huawei Cloud. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#introduction",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#introduction"
  },"241": {
    "doc": "Creating a Private Windows Image",
    "title": "ISO preparation",
    "content": "In order to provide the instances generated from the ISO file with access to the Internet and other VM functionalities, it is necessary to install VMTools drivers on these instances. To do this, the VMTools driver will be integrated into the desired ISO file using the AnyBurn software, which can be downloaded via the following hyperlink: http://www.anyburn.com/index.htm. In addition, the VMTools driver package can be downloaded from the following link: https://ecs-instance-driver.obs.cn-north-1.myhuaweicloud.com/vmtools-windows.zip. After installing AnyBurn and extracting the VMTools driver package files from the “vmtools-windows.zip” file, open the installed AnyBurn software and click “Browse/Extract image file”. Select the “vmtools-windows” folder directory and select the “vmtools-windows.iso” file. Click “Next” twice. Select the directory where the ISO files will be extracted. As a suggestion, select the previously extracted “vmtools-windows” folder and click “Next”. Return to the AnyBurn software home menu and select the “Edit image file” option. Select the directory of the ISO image to be created and click “Next”. In this case, the selected file will be the Windows Server 2019 ISO. Select the “More” option and click “New Folder”. Name the folder as “vmtools-windows”. Click on the created folder and click “Add+”. Select the four files extracted from the “vmtools-windows.iso” ISO and click “Next” and then “Create now”. Wait until the progress bar reaches the end. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#iso-preparation",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#iso-preparation"
  },"242": {
    "doc": "Creating a Private Windows Image",
    "title": "Upload the ISO",
    "content": "To upload the ISO of the instance to be created, the OBS storage service will be used. Access the Huawei Cloud console and go to the OBS section. If the OBS Browser + application is not installed on your computer, please read section 3.1. Otherwise, skip to section 3.2. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#upload-the-iso",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#upload-the-iso"
  },"243": {
    "doc": "Creating a Private Windows Image",
    "title": "OBS Browser +",
    "content": "Within OBS, click “Download” on the icon representing OBS Browser +. Download and install the OBS Browser + software. Return to the Huawei Cloud console, hover over your Huawei Cloud ID, and click “My Credentials”. Click on “Access Keys”, “Create Access Keys”, “Ok” and “Download”. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#obs-browser-",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#obs-browser-"
  },"244": {
    "doc": "Creating a Private Windows Image",
    "title": "Upload ISO to bucket",
    "content": "In the OBS section within the Huawei Cloud console, click “Create Bucket”. Give the bucket a name and select “Standard” in “Default Storage Class”. This setting is important, since if another class option is selected, an error will occur when creating the image from the ISO later. Click “Create Now” to create the bucket. Open the OBS Browser + application and enter the access information as requested in the “AK Login” section. In the “Access Key ID” and “Secret Access Key” fields, enter the generated data in section 3.1. In “Service”, select “HUAWEI CLOUD OBS (default)”. In “Access Path” enter “obs://” followed by the name of the bucket created. In this example, the path will be “obs://ims-iso-tutorial”. Click on “Log In”. Click Upload . Select the “Standard” option in “Storage Class” and in “Add File” to add the iso of the instance to be created. In this case, the Windows Server 2019 ISO. Wait until the upload is complete before proceeding to the next steps. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#upload-iso-to-bucket",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#upload-iso-to-bucket"
  },"245": {
    "doc": "Creating a Private Windows Image",
    "title": "Creating the image in IMS",
    "content": "Access the Huawei Cloud console and go to the IMS section. Go to the “Private Images” section and click “Create Now”. Configure the parameters according to the instance image that will be created. In this case, the Windows Server 2019 Standard OS. For Windows images, select the “Bring your own license (BYOL)” option. Click “Next” after configuring all fields. Check if the information is correct and click “Submit”. Wait until the ISO image is created and click “Create ECS” to create an instance of the generated image. Configure the information required to create the ECS and click “OK” to create the ECS. The next steps will be important to configure the image with the software and settings required for the proper functioning of the instances created from this image. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#creating-the-image-in-ims",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#creating-the-image-in-ims"
  },"246": {
    "doc": "Creating a Private Windows Image",
    "title": "OS Installation",
    "content": "Access the Huawei Cloud console and go to the ECS service section. Click “Remote Login” to remotely access the instance created in step 4 of this document. Set the system language and click “Next” and “Install now”. Select the OS version to be installed, check that the option contains “Desktop Experience” so that a graphical interface is installed with the system, if desired, and click “Next”. Accept the terms and click “Next”. Select the “Custom: Install Windows only (advanced)” option. Click “Load driver” and then “Browse”. Select the following path: “C:\\vmtools-windows/upgrade/your-OS-version/drivers/viostor”. Note: For Windows Server 2019 and 2022, select the driver for Windows Server 2016. Click “Next” twice in a row and wait for Windows to install. . Set a password for the Windows Administrator profile and click “Finish” to complete the Windows installation. Go to the Windows desktop, open File Explorer, and navigate to the ejectable drive. Open the “vmtools-windows” folder and install the “setup” software, which corresponds to the VMTools drivers. Restart the computer when prompted. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#os-installation",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#os-installation"
  },"247": {
    "doc": "Creating a Private Windows Image",
    "title": "ECS Configuration",
    "content": " ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#ecs-configuration",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#ecs-configuration"
  },"248": {
    "doc": "Creating a Private Windows Image",
    "title": "EIP",
    "content": "To provide Internet access to the ECS, it is necessary to attach an EIP to the ECS. To do this, click “More” next to the desired ECS in the ECS section of the Huawei Cloud Console, “Manage Network” and “Bind EIP”. If no EIP is available, purchase an EIP by clicking “Buy EIP”. Click “Buy EIP again”. Select the parameters of the EIP that will be attached to the ECS, such as its bandwidth, and click “Next” and “Submit”. Select the purchased EIP to be attached to the ECS. If you want to install system updates, proceed to section 6.2. Otherwise, skip to section 6.3. Warning: It is important that system updates are performed before any other system configuration if chosen. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#eip",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#eip"
  },"249": {
    "doc": "Creating a Private Windows Image",
    "title": "System update",
    "content": "To update the system, click on Windows Search, type “update” and click on “Check for updates”. Click on “Check for updates” again and wait until all updates are performed. ECS may be restarted a few times in this process. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#system-update",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#system-update"
  },"250": {
    "doc": "Creating a Private Windows Image",
    "title": "Gpedit.msc",
    "content": "Click on Windows Search and type “gpedit.msc” to open the local group policy editor. Server Manager . Navigate to “Computer Configuration &gt; Administrative Templates &gt; System &gt; Server Manager”. Double-click on “Do not display Server Manager automatically at logon” and select “Enabled” to prevent Server Manager from opening automatically when starting the instance. Shut down . Navigate to “Computer Configuration &gt; Windows Settings &gt; Security Settings &gt; User Rights Assignment“ and double-click on the “Shut down the system” option. Click “Add User or Group”. Click “Object Types”. Enable the “Groups” option and click “OK”. In “Enter the object names to select”, type “Users” and press the Enter key. Click “OK”. Firewall . Navigate to “Computer Configuration &gt; Network &gt; Network Connections &gt; Domain Profile”, double-click “Windows Firewall: Protect all network connections” and select the “Disabled” option. Navigate to “Computer Configuration &gt; Network &gt; Network Connections &gt; Standard Profile”, double-click “Windows Firewall: Protect all network connections” and select the “Disabled” option. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#gpeditmsc",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#gpeditmsc"
  },"251": {
    "doc": "Creating a Private Windows Image",
    "title": "Services",
    "content": "Note: For Windows Server 2019, skip section 6.4. Click on Windows Search and type “services” to open the Windows services management window. Navigate to “Windows Firewall” and double-click it. In “Startup type” select “Disabled”. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#services",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#services"
  },"252": {
    "doc": "Creating a Private Windows Image",
    "title": "DHCP",
    "content": "Check if the instance’s NICs are configured as DHCP. To do this, navigate to the “Control Panel” through Windows Search, go to “Network and Internet Connections”, click on ”Network and Sharing Center”. . Click on the network adapter available in your instance and click on “Properties”. Select the network protocol used by the instance, in this case IPv4, and click “Properties”. Check whether the enabled option for both options is related to obtain the IP address and DNS automatically. Click “Ok” to save. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#dhcp",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#dhcp"
  },"253": {
    "doc": "Creating a Private Windows Image",
    "title": "Remote Desktop",
    "content": "To enable remote access to the instance, open Windows Search and type “Allow remote access to your computer”. Enable the “Allow remote connections to this computer” option and click “OK” to confirm the change. Check if the Windows firewall allows incoming and outgoing traffic for the remote access service by navigating to Windows Firewall . Click “Allow an app or feature through Windows Defender Firewall”. Enable remote access through the firewall by enabling the “Remote Desktop” service options. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#remote-desktop",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#remote-desktop"
  },"254": {
    "doc": "Creating a Private Windows Image",
    "title": "PV Driver",
    "content": "The PV Driver is responsible for managing instances with Xen virtualization. Although this type of virtualization technology has been discontinued in Huawei Cloud, it is still important that the drivers are installed. Download them through the following link in the instance: https://support.huaweicloud.com/intl/en-us/usermanual-ims/ims_01_0317.html. Extract the downloaded file and launch the “pvdriver-win” installer. Accept the terms of service and click “Install”. Click “Finish” after the installation is complete. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#pv-driver",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#pv-driver"
  },"255": {
    "doc": "Creating a Private Windows Image",
    "title": "One-click reset password plugin",
    "content": "This plugin allows the instance password to be reset via the Huawei Cloud console. To install it, download it from the following link on the instance: https://cn-north-1-cloud-reset-pwd.obs.cn-north-1.myhuaweicloud.com/windows/reset_pwd_agent/CloudResetPwdAgent.zip. Extract the downloaded “CloudResetPwdAgent.zip” file. Before installing it, however, port 80 needs to be enabled in the ECS security group for the installation to be successful. Navigate to the Huawei Cloud console and go to the ECS section. Under “Network and Security”, click “Security Groups”. Select the security group to which the ECS instance is attached. In “Outbound Rules”, add the rule to allow access to the TCP protocol to port 80 from the following destination: “169.254.0.0/16”. Return to ECS and run the “Setup” file present in the previously extracted folder. To verify the successful installation of the plugin, open the task manager in the services section and check if the “cloudResetPwdAgent” service is present. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#one-click-reset-password-plugin",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#one-click-reset-password-plugin"
  },"256": {
    "doc": "Creating a Private Windows Image",
    "title": "Cloudbase-Init",
    "content": "Cloudbase-init is an important software that manages virtual machines. To download it, access the following link through the ECS browser: https://www.cloudbase.it/downloads/CloudbaseInitSetup_Stable_x64.msi. After downloading it, open the “CloudbaseInitSetup” installer and click “Next” three times in a row until the user settings screen appears. Set the “Username” to “Administrator” and select “COM1” in the “Serial port for logging” option. Click “Next” to continue and “Install” to install the software. Finally, disable the two available options and click “Finish”. Finally, cloudbase-init needs to be configured. Navigate to the following path: “C:\\Program Files\\Cloudbase Solutions\\Cloudbase-Init\\conf” and open the “cloudbase-init.conf” file using notepad. Add the following settings to the end of the file: . netbios_host_name_compatibility=false metadata_services=cloudbaseinit.metadata.services.httpservice.HttpService plugins=cloudbaseinit.plugins.common.localscripts.LocalScriptsPlugin,cloudbaseinit.plugins.common.mtu.MTUPlugin,cloudbaseinit.plugins.windows.createuser.CreateUserPlugin,cloudbaseinit.plugins.common.setuserpassword.SetUserPasswordPlugin,cloudbaseinit.plugins.common.sshpublickeys.SetUserSSHPublicKeysPlugin,cloudbaseinit.plugins.common.sethostname.SetHostNamePlugin,cloudbaseinit.plugins.windows.extendvolumes.ExtendVolumesPlugin,cloudbaseinit.plugins.common.userdata.UserDataPlugin,cloudbaseinit.plugins.windows.licensing.WindowsLicensingPlugin first_logon_behaviour=no . Optionally, also add the following settings: . plugins=cloudbaseinit.plugins.windows.winrmlistener.ConfigWinRMListenerPlugin,cloudbaseinit.plugins.windows.winrmcertificateauth.ConfigWinRMCertificateAuthPlugin retry_count=40 retry_count_interval=5 real_time_clock_utc=true [openstack] add_metadata_private_ip_route=False . For a better understanding of how each of the configurations performed here works, please refer to the official IMS documentation at the following link: https://support.huaweicloud.com/intl/en-us/usermanual-ims/en-us_topic_0030730602.html. Open Windows cmd to clear the currently configured DHCP address. This step will limit the instance’s internet access until it is restarted. Open Windows Search and type “cmd”. Type the following command: “ipconfig /release”. Also, type the following sequence of commands: “diskpart” and “san policy=onlineall”. Check if the configuration was applied by typing the “san” command. Type “exit” twice consecutively to exit the cmd. Restart the instance so that the instance can resume internet access. Please note that when you log in to the Administrator account, ECS will automatically restart. After the second restart, you will notice that the password you previously set no longer works for the administrator profile. This is due to the installation of cloudbase-init, which will randomize the profile password after the first system restart after its installation. To set the password again, go to the Huawei Cloud console in the ECS section, click “More” and “Reset password” next to the desired instance. Set the password again, enable the “Auto Restart” box and click “OK”. After the instance automatically restarts, you will notice how the Administrator profile password has been changed to the password defined in the console. Now, perform the other desired configurations in ECS to generate the final instance image. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#cloudbase-init",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#cloudbase-init"
  },"257": {
    "doc": "Creating a Private Windows Image",
    "title": "Creating the image",
    "content": "After performing all the above adjustments and those chosen by you, navigate to the ECS section in the Huawei Cloud console, click “More” next to the desired instance, and click “Stop” to shut down the instance. Select “Yes”. Navigate to the IMS section in the Huawei Cloud Console . Click “Create Now” under “Image creation”. Select “Create Image” in “Type” and “System disk image” in “Image Type”. Select the desired ECS, give the image a name and click “Next”, after checking the box to accept the terms. Click “Submit”. After the image creation is complete, new instances can now be created from the ISO file downloaded in step 2! . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#creating-the-image",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#creating-the-image"
  },"258": {
    "doc": "Creating a Private Windows Image",
    "title": "References:",
    "content": ". | IMS documentation: https://support.huaweicloud.com/intl/en-us/usermanual-ims/ims_01_0220.html. | Workspace documentation: https://support.huaweicloud.com/intl/en-us/usermanual-workspace/workspace_06_0510.html. | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#references",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#references"
  },"259": {
    "doc": "Creating a Private Windows Image",
    "title": "Creating a Private Windows Image",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image"
  },"260": {
    "doc": "Remote Login Bricked Error",
    "title": "Remote Login Bricked Error",
    "content": "V1.0 – March 2024 . | Version | Author | Description | . | V1.0 – 2024-03-13 | Yangqiang 1153592 | Initial Version in Chinese | . | V1.0 – 2024-03-13 | Gaowei 1074902 | Document Translation to English | . | V1.0 – 2024-03-14 | Diogo Hatz 50037923 | Document Translation to Portuguese | . | V1.0 – 2024-03-14 | Wisley da Silva 00830850 | Document Review | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/remote-login-bricked-error#remote-login-bricked-error",
    
    "relUrl": "/docs/compute/ecs/remote-login-bricked-error#remote-login-bricked-error"
  },"261": {
    "doc": "Remote Login Bricked Error",
    "title": "Introduction",
    "content": "SMS is a virtual machine migration service provided by Huawei Cloud. With this service, you can migrate VMs from other cloud providers or from on-premises environments to the cloud. SMS migrates virtual machines to ECSs, which correspond to the virtual machine service in Huawei Cloud. This document aims to list optimizations for VMs migrated from the Azure Cloud provider to Huawei Cloud, as well as to solve the error of a frozen screen in ECSs for the Remote Login functionality in the HWC console. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/remote-login-bricked-error#introduction",
    
    "relUrl": "/docs/compute/ecs/remote-login-bricked-error#introduction"
  },"262": {
    "doc": "Remote Login Bricked Error",
    "title": "Configurations",
    "content": "The error in question for the Remote Login to freeze is related to VNC, software for remote access to other computers. Linux VMs created in Azure Cloud have modified kernels, which may cause conflict issues with VNC software. To make the necessary changes, follow the steps below: . | Connect to the instance via SSH and modify the following parameters: 1.1 Comment out the line GRUB_TIMEOUT_STYLE=hidden 1.2 Modify GRUB_TIMEOUT to 10: GRUB_TIMEOUT=10 | . Delete the file . rm -rf /etc/default/grub.d/50* . After deleting the files, run the following command to update the grub settings. update-grub2 . Modify the Yum repository to point to the Huawei repository: . sed -i 's/azure.archive.ubuntu.com/repo.huaweicloud.com/g' /etc/apt/sources.list apt autoclean &amp;&amp; apt update . Install the Ubuntu public kernel: . apt install linux-image-generic . After the installation is complete, reboot the ECS and select the generic kernel in the grub screen. Note: It is possible to modify the GRUB_DEFAULT parameter to point to the generic kernel instead of manually selecting the generic kernel when booting the ECS. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/remote-login-bricked-error#configurations",
    
    "relUrl": "/docs/compute/ecs/remote-login-bricked-error#configurations"
  },"263": {
    "doc": "Remote Login Bricked Error",
    "title": "Optional Configurations",
    "content": "In addition to the configurations performed above, it is also recommended that the Azure agent, which is installed by default on Azure VMs, be uninstalled, since the agent constantly reports logs to the VNC console, which can affect VNC performance: . Type the following command to uninstall the Azure agent: . sudo apt -y remove walinuxagent . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/remote-login-bricked-error#optional-configurations",
    
    "relUrl": "/docs/compute/ecs/remote-login-bricked-error#optional-configurations"
  },"264": {
    "doc": "Remote Login Bricked Error",
    "title": "References",
    "content": ". | https://learn.microsoft.com/en-us/azure/virtual-machines/linux/disable-provisioning. | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/remote-login-bricked-error#references",
    
    "relUrl": "/docs/compute/ecs/remote-login-bricked-error#references"
  },"265": {
    "doc": "Remote Login Bricked Error",
    "title": "Remote Login Bricked Error",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/remote-login-bricked-error",
    
    "relUrl": "/docs/compute/ecs/remote-login-bricked-error"
  },"266": {
    "doc": "Resources Discovery",
    "title": "Resources Discovery",
    "content": "V1.0 – May 2024 . | Version | Author | Description | . | V1.0 – 2024-05-21 | Diogo Hatz 50037923 | Document Translation | . | V1.0 – 2024-05-21 | Wisley da Silva 00830850 | Document Review | . ",
    "url": "/huaweicloud-knowledge-base/docs/migration/mgc/resources-discovery#resources-discovery",
    
    "relUrl": "/docs/migration/mgc/resources-discovery#resources-discovery"
  },"267": {
    "doc": "Resources Discovery",
    "title": "Introduction",
    "content": "Migration Center (MgC) is a tool provided by Huawei Cloud that centralizes the migration, modernization, and optimization of applications on a single platform using services based on Huawei Cloud migration methodologies and best practices. In addition to migration, MgC also enables the discovery and assessment of on-premises resources or those of other cloud vendors. This document aims to describe the methodology for discovering resources in third-party cloud providers on Huawei Cloud using MgC. ",
    "url": "/huaweicloud-knowledge-base/docs/migration/mgc/resources-discovery#introduction",
    
    "relUrl": "/docs/migration/mgc/resources-discovery#introduction"
  },"268": {
    "doc": "Resources Discovery",
    "title": "AK/SK",
    "content": "To perform resource discovery in other cloud providers, it is first necessary to generate an AK/SK or ID and Key with read-only and list permissions for all resources in the respective cloud for the following services: EC2, RDS, S3, and EFS. Below is an example of the policies and read-only permissions required for the EC2 service: . ",
    "url": "/huaweicloud-knowledge-base/docs/migration/mgc/resources-discovery#aksk",
    
    "relUrl": "/docs/migration/mgc/resources-discovery#aksk"
  },"269": {
    "doc": "Resources Discovery",
    "title": "Performing Resource Discovery over the Internet",
    "content": "Important: This step must be performed for each account whose resources will be analyzed by MgC. To perform resource discovery for a given account, first log in to the MgC service section in the Huawei Cloud console. In the lower left corner, choose the Settings option and then Migration Projects. Click Create Project. Choose a name for the project to be created and choose the project type Complex, in which there are several applications running whose dependencies are not well defined. Then click Confirm to create a project. In the menu on the left, choose the Application Discovery option and click Discover Over Internet to perform resource discovery over the Internet. If a discovery task has already been created previously, the discovery option will be located in the Discover option and then Over Internet. Fill in a name for the discovery task and the cloud provider in which the account whose resources will be analyzed is located. Then, in Credential, click on the Create option. Fill in a name for the credential and in Authentication select the AK/SK or ID and Key option. Then, enter the key obtained in item 2.0 of this material and click Verify and Save. Select the registered credential. In the regions field, select all in Select All. For Resource Type, select Select all and click Confirm. Wait for the discovery task to finish, and then go back to a previous page . On this page, you can view the analyzed resource types and click on them to see in detail all the discovered resources. ",
    "url": "/huaweicloud-knowledge-base/docs/migration/mgc/resources-discovery#performing-resource-discovery-over-the-internet",
    
    "relUrl": "/docs/migration/mgc/resources-discovery#performing-resource-discovery-over-the-internet"
  },"270": {
    "doc": "Resources Discovery",
    "title": "References",
    "content": ". | MgC Documentation: https://support.huaweicloud.com/intl/en-us/productdesc-mgc/mgc_01_0001.html. | . ",
    "url": "/huaweicloud-knowledge-base/docs/migration/mgc/resources-discovery#references",
    
    "relUrl": "/docs/migration/mgc/resources-discovery#references"
  },"271": {
    "doc": "Resources Discovery",
    "title": "Resources Discovery",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/migration/mgc/resources-discovery",
    
    "relUrl": "/docs/migration/mgc/resources-discovery"
  },"272": {
    "doc": "Resources Monitoring",
    "title": "Resources Monitoring",
    "content": "V1.1 – December 2023 . | Version | Author | Description | . | V1.0 – 2023-12-20 | Diogo Hatz 50037923 | Initial Version | . | V1.0 – 2023-12-21 | Wisley da Silva 00830850 | Document Review | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/resources-monitoring#resources-monitoring",
    
    "relUrl": "/docs/management-and-governance/ces/resources-monitoring#resources-monitoring"
  },"273": {
    "doc": "Resources Monitoring",
    "title": "Introduction",
    "content": "Cloud Eye (CES) is a free tool for monitoring Huawei Cloud resources. In addition to resource monitoring, Cloud Eye can also be used to create event- or metric-based alarms, identify resource malfunctions, and quickly react to resource changes. It is worth noting that, although Cloud Eye is a free service, charges for sending notifications when alarms are triggered are charged. This document aims to describe the main functionalities of the Cloud Eye service and guide the reader to use CES for monitoring cloud resources, such as ECSs, VPNs, and CBRs, etc. In addition, it also describes how to create event- or metric-based alarms and customize dashboards for resource monitoring. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/resources-monitoring#introduction",
    
    "relUrl": "/docs/management-and-governance/ces/resources-monitoring#introduction"
  },"274": {
    "doc": "Resources Monitoring",
    "title": "Cloud Eye on the console",
    "content": " ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/resources-monitoring#cloud-eye-on-the-console",
    
    "relUrl": "/docs/management-and-governance/ces/resources-monitoring#cloud-eye-on-the-console"
  },"275": {
    "doc": "Resources Monitoring",
    "title": "Overview",
    "content": "When you open Cloud Eye on the console, the home page that will load is the Overview, where you can see an overview of all resources used in Huawei Cloud, the overall network, CPU, memory, and disk utilization, and which resources have recently triggered alarms and need further attention. | Resource Overview: Allows you to view the total number of monitored resources and the alarms generated for these resources. | Alarm Statistics: Shows the alarms triggered in the last seven days by alarm severity. | Server Monitoring: Allows you to view the overall CPU and memory utilization of monitored servers and a list of the top 5 ECSs ranked by CPU or memory utilization. | Network Monitoring: Shows the overall bandwidth utilization of EIPs and a list of the top 5 EIPs ranked by bandwidth utilization. | Storage Monitoring: Allows you to view the overall disk utilization (EVS) by read and write IOPS and a list of the top 5 disks ranked by IOPS. | . You can see what the Cloud Eye home page looks like in the images below: . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/resources-monitoring#overview",
    
    "relUrl": "/docs/management-and-governance/ces/resources-monitoring#overview"
  },"276": {
    "doc": "Resources Monitoring",
    "title": "Server Monitoring",
    "content": "Server Monitoring (ECSs and BMSs) can be viewed in the Server Monitoring section. It is worth noting that for server monitoring, installing the agent (Telescope) is recommended, since it provides more specific and accurate metrics, according to appendix 4.1. The agent can be installed in three different ways: manually, automatically, or in batch mode. Regardless of the installation method chosen, you must configure the permissions for the agent in advance: in the server monitoring section, click Configure on the warning that the agent permission has not been configured for the current region. Automatic: . To install the agent automatically, simply click on the puzzle piece in the server monitoring section and in the agent status column in the corresponding ECS/BMS and wait for the agent to install. Manual: . To install the agent manually, first go to the section related to ECS or BMS, depending on the type of server on which the agent will be installed. Select Remote Login to log in to the desired server . Log in to the server by entering the username and password configured when the server was created and then enter the following command, if the region where the server is located is LA-Santiago: . cd /usr/local &amp;&amp; curl -k -O https://uniagent-la-south-2.obs.la-south-2.myhuaweicloud.com/script/agent_install.sh &amp;&amp; bash agent_install.sh . If the region where the server is located is different from LA-Santiago, you can find the list of commands by region in the following link: https://support.huaweicloud.com/intl/en-us/usermanual-ces/ces_01_0029.html . If the red message above appears at the end of the installation, the agent has been successfully installed. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/resources-monitoring#server-monitoring",
    
    "relUrl": "/docs/management-and-governance/ces/resources-monitoring#server-monitoring"
  },"277": {
    "doc": "Resources Monitoring",
    "title": "Dashboard",
    "content": "The Dashboard section concerns the area where custom charts can be created for monitoring selected services and resources, with the chosen metrics. To create a dashboard, navigate to the My Dashboards section in Dashboards and click Create Dashboard. Choose a name for the dashboard in Name and click OK. To add graphs for monitoring specific metrics, graphs can be added to dashboards. To add a graph, click on the created dashboard and click Add Graph. Choose the type of chart to create and click OK. Certain settings can be made when adding a chart to a dashboard, such as whether the same chart will have multiple metrics or only one metric, the period in which the data was collected, the type of data to be displayed (raw data, maximum, minimum, average or sum) and the metrics to be displayed. Under Metric Display, select One graph for a single metric to add a single metric to the graph, or select One graph for multiple metrics to add multiple metrics to the graph. Click Select Resource and Metric to select the resource to be monitored and the metric for that resource. Select the type of service to be monitored on the left side of the Select Resource and Metric page, the specific resource to be monitored in the middle area of ​​the page, and the metrics for that resource on the right. In this example, CPU, disk, memory, and network usage will be monitored on “ecs-9152”. Adjust the data collection time in the upper right corner of the page Add Graph. A sample of the generated graph will appear on the page. Click Save to confirm and add the graph to the dashboard. On the dashboard, you can create a legend for the graph, edit it, make it full screen, reload the data shown in the graph, and move the graph. In Cloud Eye, you can create numerous dashboards with several graphs in each dashboard, and each graph can show multiple monitoring metrics. In addition, as described in topic 3.1, in the CES Overview section, you can have an overview of the monitored resources with the main metrics used, such as CPU, memory and disk usage on servers; network usage and a total of alarms triggered in Cloud Eye. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/resources-monitoring#dashboard",
    
    "relUrl": "/docs/management-and-governance/ces/resources-monitoring#dashboard"
  },"278": {
    "doc": "Resources Monitoring",
    "title": "Cloud service monitoring",
    "content": "In the Cloud Service Monitoring section, dashboards for each resource of the ECS, EIP and bandwidth, NAT and VPN services are automatically created during the creation of these resources. The main monitoring metrics of these services are added in the form of a graph in this section for quick and general monitoring of these services. In addition to viewing the graphs related to the main monitored metrics, it is also possible to export the collected data by clicking the Export Data button. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/resources-monitoring#cloud-service-monitoring",
    
    "relUrl": "/docs/management-and-governance/ces/resources-monitoring#cloud-service-monitoring"
  },"279": {
    "doc": "Resources Monitoring",
    "title": "Attachments",
    "content": " ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/resources-monitoring#attachments",
    
    "relUrl": "/docs/management-and-governance/ces/resources-monitoring#attachments"
  },"280": {
    "doc": "Resources Monitoring",
    "title": "Server Monitoring Metrics",
    "content": "| Metrics | Agentless | Agent Installed | . | CPU Usage | Yes | Yes / Dedicated | . | Disk Usage | Yes | Yes | . | Memory Usage | Yes | Yes / Dedicated | . | Disk Write Bandwidth | Yes | Yes | . | Disk Read Bandwidth | Yes | Yes | . | Disk Write IOPS | Yes | Yes | . | Disk Read IOPS | Yes | Yes | . | Bandwidth Input Rate | Yes | Yes | . | In-band egress rate | Yes | Yes | . | Out-of-band egress rate | Yes | Yes | . | Out-of-band egress rate | Yes | Yes | . | CPU credit usage | Yes | Yes | . | CPU credit balancing | Yes | Yes | . | CPU credit balancing surplus | Yes | Yes | . | CPU credit loaded surplus | Yes | Yes | . | Network connections | Yes | Yes | . | Inbound bandwidth per server | Yes | Yes | . | Outbound bandwidth per server | Yes | Yes | . | Inbound PPS | Yes | Yes | . | Outbound PPS | Yes | Yes | . | New connections | Yes | Yes | . | Aggregate ECC uncorrectable errors | Yes | Yes | . | Pages retired with single bit errors | Yes | Yes | . | Pages retired with double bit errors | Yes | Yes | . | GPU health status | Yes | Yes | . | GPU encoder usage | Yes | Yes | . | GPU decoder usage | Yes | Yes | . | ECC volatile correctable errors | Yes | Yes | . | ECC volatile uncorrectable errors | Yes | Yes | . | Idle CPU | No | Yes / Dedicated | . | User space CPU usage | No | Yes / Dedicated | . | Kernel space CPU usage | No | Yes / Dedicated | . | Other processes CPU usage | No | Yes / Dedicated | . | Optimal processes CPU usage | No | Yes / Dedicated | . | Time CPU is waiting for I/O operations | No | Yes / Dedicated | . | CPU interrupt time | No | Yes / Dedicated | . | Software CPU interrupt time | No | Yes / Dedicated | . | Available memory | No | Yes / Dedicated | . | Idle memory | No | Yes / Dedicated | . | Buffer | No | Yes / Dedicated | . | Cache | No | Yes / Dedicated | . | Inbound bandwidth per NIC | No | Yes / Dedicated | . | Outbound bandwidth per NIC | No | Yes / Dedicated | . | Packet rate sent per NIC | No | Yes / Dedicated | . | Packet rate received per NIC | No | Yes / Dedicated | . | Packet rate with error received per NIC | No | Yes / Dedicated | . | Packet rate with error transmitted per NIC | No | Yes / Dedicated | . | Packet rate received dropped per NIC | No | Yes / Dedicated | . | Packet rate transmitted dropped per NIC | No | Yes / Dedicated | . | Processes running | No | Yes / Dedicated | . | Idle processes | No | Yes / Dedicated | . | Zombie processes | No | Yes / Dedicated | . | Blocked processes | No | Yes / Dedicated | . | Sleeping processes | No | Yes / Dedicated | . | Total processes | No | Yes / Dedicated | . | TCP retransmission rate | No | Yes / Dedicated | . | TCP SYS_SENT | No | Yes / Dedicated | . | TCP SYS_RECV | No | Yes / Dedicated | . | TCP FIN_WAIT1 | No | Yes / Dedicated | . | TCP FIN_WAIT2 | No | Yes / Dedicated | . | TCP CLOSE | No | Yes / Dedicated | . | TCP LAST_ACK | No | Yes / Dedicated | . | TCP LISTEN | No | Yes / Dedicated | . | TCP CLOSING | No | Yes / Dedicated | . | Average CPU load in the last minute | No | Yes / Dedicated | . | Average CPU load in the last 15 minutes | No | Yes / Dedicated | . | Average CPU load in the last 5 minutes | No | Yes / Dedicated | . | TCP ESTABLISHED | No | Yes / Dedicated | . | TCP TOTAL | No | Yes / Dedicated | . | UDP TOTAL | No | Yes / Dedicated | . | NTP Offset | No | Yes / Dedicated | . | Total files processed | No | Yes / Dedicated | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/resources-monitoring#server-monitoring-metrics",
    
    "relUrl": "/docs/management-and-governance/ces/resources-monitoring#server-monitoring-metrics"
  },"281": {
    "doc": "Resources Monitoring",
    "title": "VPN Gateway Monitoring Metrics",
    "content": "| Metrics | Supported | . | Inbound Packet Rate | Yes | . | Outbound Packet Rate | Yes | . | Inbound Bandwidth | Yes | . | Outbound Bandwidth | Yes | . | Inbound Bandwidth Usage | Yes | . | Number of Connections | Yes | . | Outbound Bandwidth Usage | Yes | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/resources-monitoring#vpn-gateway-monitoring-metrics",
    
    "relUrl": "/docs/management-and-governance/ces/resources-monitoring#vpn-gateway-monitoring-metrics"
  },"282": {
    "doc": "Resources Monitoring",
    "title": "VPN Connection Monitoring Metrics",
    "content": "| Metrics | Supported | . | Tunnel Average RTT | Yes | . | Tunnel Max RTT | Yes | . | Tunnel Packet Loss Rate | Yes | . | Link Average RTT | Yes | . | Link Max RTT | Yes | . | Link Packet Loss Rate | Yes | . | VPN Connection Status | Yes | . | Packet Receive Rate | Yes | . | Packet Send Rate | Yes | . | Traffic Receive Rate | Yes | . | Traffic Send Rate | Yes | . | SA Packet Send Rate | Yes | . | SA Packet Receive Rate | Yes | . | SA Traffic Send Rate | Yes | . | SA Traffic Receive Rate | Yes | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/resources-monitoring#vpn-connection-monitoring-metrics",
    
    "relUrl": "/docs/management-and-governance/ces/resources-monitoring#vpn-connection-monitoring-metrics"
  },"283": {
    "doc": "Resources Monitoring",
    "title": "NAT Monitoring Metrics",
    "content": "| Metrics | Supported | . | SNAT Connections | Yes | . | Inbound Bandwidth | Yes | . | Outbound Bandwidth | Yes | . | Inbound PPS | Yes | . | Outbound PPS | Yes | . | Inbound Traffic | Yes | . | Outbound Traffic | Yes | . | SNAT Connection Usage Rate | Yes | . | Ingress bandwidth usage rate | Yes | . | Egress bandwidth usage rate | Yes | . | Total egress bandwidth (UDP) | Yes | . | Total egress bandwidth (TCP) | Yes | . | Total ingress bandwidth (UDP) | Yes | . | Total ingress bandwidth (TCP) | Yes | . | Packets lost due to excessive SNAT connections | Yes | . | Packets lost due to excessive PPS | Yes | . | Packets lost by all allocated EIP ports | Yes | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/resources-monitoring#nat-monitoring-metrics",
    
    "relUrl": "/docs/management-and-governance/ces/resources-monitoring#nat-monitoring-metrics"
  },"284": {
    "doc": "Resources Monitoring",
    "title": "References",
    "content": ". | CES documentation: https://support.huaweicloud.com/intl/en-us/function-ces/index.html | CES limitations: https://support.huaweicloud.com/intl/en-us/productdesc-ces/ces_07_0007.html | FAQ: https://support.huaweicloud.com/intl/en-us/ces_faq/ces_faq_0059.html | CES agent batch installation: https://support.huaweicloud.com/intl/en-us/usermanual-ces/ces_01_0033.html | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/resources-monitoring#references",
    
    "relUrl": "/docs/management-and-governance/ces/resources-monitoring#references"
  },"285": {
    "doc": "Resources Monitoring",
    "title": "Resources Monitoring",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/resources-monitoring",
    
    "relUrl": "/docs/management-and-governance/ces/resources-monitoring"
  },"286": {
    "doc": "Slow AWS CLI S3 Upload Rate on Windows ECSs",
    "title": "Slow AWS CLI S3 Upload Rate on Windows ECSs",
    "content": "V1.0 – August 2024 . | Version | Author | Description | . | V1.0 – 2024-08-09 | Diogo Hatz 50037923 | Document Translation | . | V1.0 – 2024-08-10 | Wisley Paulo 00830850 | Document Review | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/slow-aws-cli-s3-upload-rate-on-windows#slow-aws-cli-s3-upload-rate-on-windows-ecss",
    
    "relUrl": "/docs/compute/ecs/slow-aws-cli-s3-upload-rate-on-windows#slow-aws-cli-s3-upload-rate-on-windows-ecss"
  },"287": {
    "doc": "Slow AWS CLI S3 Upload Rate on Windows ECSs",
    "title": "Symptom",
    "content": "The upload speed of S3 AWS CLI will get stuck at 9 MiB/s, regardless of how large the bandwidth may be, on Windows Server ECSs: . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/slow-aws-cli-s3-upload-rate-on-windows#symptom",
    
    "relUrl": "/docs/compute/ecs/slow-aws-cli-s3-upload-rate-on-windows#symptom"
  },"288": {
    "doc": "Slow AWS CLI S3 Upload Rate on Windows ECSs",
    "title": "Solution",
    "content": "Modify the file: “C:\\Users\\Administrator\\.aws\\config” and add the following parameter: . After the modification, the upload speed will increase according to the purchased bandwidth: . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/slow-aws-cli-s3-upload-rate-on-windows#solution",
    
    "relUrl": "/docs/compute/ecs/slow-aws-cli-s3-upload-rate-on-windows#solution"
  },"289": {
    "doc": "Slow AWS CLI S3 Upload Rate on Windows ECSs",
    "title": "References",
    "content": ". | AWS CLI S3 documentation, available at: https://awscli.amazonaws.com/v2/documentation/api/latest/topic/s3-config.html#preferred-transfer-client. | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/slow-aws-cli-s3-upload-rate-on-windows#references",
    
    "relUrl": "/docs/compute/ecs/slow-aws-cli-s3-upload-rate-on-windows#references"
  },"290": {
    "doc": "Slow AWS CLI S3 Upload Rate on Windows ECSs",
    "title": "Slow AWS CLI S3 Upload Rate on Windows ECSs",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/slow-aws-cli-s3-upload-rate-on-windows",
    
    "relUrl": "/docs/compute/ecs/slow-aws-cli-s3-upload-rate-on-windows"
  },"291": {
    "doc": "Terraform Startup",
    "title": "Terraform Startup",
    "content": "V1.0 – November 2024 . | Version | Author | Description | . | V1.0 – 2024-11-21 | Diogo Hatz d50037923 | Initial Version | . | V1.0 – 2024-11-21 | Wisley da Silva Paulo 00830850 | Document Review | . | V1.0 – 2024-11-21 | Gustavo Scovini 00918380 | Document Review | . ",
    "url": "/huaweicloud-knowledge-base/docs/huawei-cloud-stack/hcso/terraform-startup#terraform-startup",
    
    "relUrl": "/docs/huawei-cloud-stack/hcso/terraform-startup#terraform-startup"
  },"292": {
    "doc": "Terraform Startup",
    "title": "Objective",
    "content": "This document aims to present the procedures required to configure the Huawei Cloud provider in the Terraform infrastructure-as-code tool for Huawei Cloud Stack Online (HCSO) deployments. ",
    "url": "/huaweicloud-knowledge-base/docs/huawei-cloud-stack/hcso/terraform-startup#objective",
    
    "relUrl": "/docs/huawei-cloud-stack/hcso/terraform-startup#objective"
  },"293": {
    "doc": "Terraform Startup",
    "title": "IAM",
    "content": "To delegate permissions for creating resources using the Terraform tool, it is necessary to create an AK/SK access key in the Huawei Cloud console, which will be used to authenticate with the Huawei Cloud account. To do this, access the Huawei Cloud console, hover over the account name in the upper right corner and click “My Credentials”. Once done, click “Access Keys” and “Create Access Key”. If a warning window appears, accept the credential creation and click “Create” followed by “Download” to download the AK/SK key pair. Note: The permissions of the created AK/SK key will be inherited from the user who created it. If you encounter any permission-related issues, refer to the following IAM permissions documentation to delegate the necessary permissions: https://support.huaweicloud.com/intl/en-us/productdesc-iam/iam_01_0036.html. ",
    "url": "/huaweicloud-knowledge-base/docs/huawei-cloud-stack/hcso/terraform-startup#iam",
    
    "relUrl": "/docs/huawei-cloud-stack/hcso/terraform-startup#iam"
  },"294": {
    "doc": "Terraform Startup",
    "title": "Terraform",
    "content": "First, download and install the Terraform tool, available at the following hyperlink: https://developer.hashicorp.com/terraform/install?product_intent=terraform. After installing the tool, create a .tf file in the desired directory where the infrastructure code will be stored. Once this is done, edit the file and insert both code snippets below related to the Terraform registry provider, replacing the highlighted parameters: . terraform { required_providers { huaweicloud = { source = \"huaweicloud/huaweicloud\" version = \"&gt;= 1.36.0\" } } } provider \"huaweicloud\" { region = \"{region}\" access_key = \"{AK}\" secret_key = \"{SK}\" cloud = \"{domain}\" auth_url=\"https://iam-pub.{region}.{domain}\" insecure = true } . | region: HCSO region where the resources will be created; . | AK: access Key created in item 2.0 of this document; . | SK: secret Key created in item 2.0 of this document; . | domain: HCSO console domain; . | insecure: optional parameter, only required in case of errors arising from HCSO certificates. | . After configuring the terraform and provider fields, create a resource to validate the tool’s operation. Below is a sample code snippet to create a VPC: . resource \"huaweicloud_vpc\" \"vpc-hcso\" { name = \"vpc-hcso\" cidr = \"10.0.0.0/8\" } . Note: Below is the official registry of the Huawei Cloud Terraform provider, compatible with both the Huawei Cloud public cloud and HCSO implementations: https://registry.terraform.io/providers/huaweicloud/huaweicloud/latest/docs. Alternatively, there is also the following registry that can be used exclusively for HCSO implementations: https://registry.terraform.io/providers/huaweicloud/hcso/latest/docs. ",
    "url": "/huaweicloud-knowledge-base/docs/huawei-cloud-stack/hcso/terraform-startup#terraform",
    
    "relUrl": "/docs/huawei-cloud-stack/hcso/terraform-startup#terraform"
  },"295": {
    "doc": "Terraform Startup",
    "title": "Example",
    "content": "Below is an example of validating the configuration performed in the Terraform tool, as well as the result in the HCSO console: . Using the terraform init command to initialize the Terraform repository: . Using the terraform plan command to verify the code developed by Terraform: . Using the terraform apply command to apply the modifications made, in this case the creation of the resource VPC: . Result of creating VPC in HCSO console: . ",
    "url": "/huaweicloud-knowledge-base/docs/huawei-cloud-stack/hcso/terraform-startup#example",
    
    "relUrl": "/docs/huawei-cloud-stack/hcso/terraform-startup#example"
  },"296": {
    "doc": "Terraform Startup",
    "title": "References",
    "content": ". | Huawei Cloud Terraform Registry: https://registry.terraform.io/providers/huaweicloud/huaweicloud/latest/docs. | Huawei Cloud HCSO Terraform Registry: https://registry.terraform.io/providers/huaweicloud/hcso/latest/docs. | . ",
    "url": "/huaweicloud-knowledge-base/docs/huawei-cloud-stack/hcso/terraform-startup#references",
    
    "relUrl": "/docs/huawei-cloud-stack/hcso/terraform-startup#references"
  },"297": {
    "doc": "Terraform Startup",
    "title": "Terraform Startup",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/huawei-cloud-stack/hcso/terraform-startup",
    
    "relUrl": "/docs/huawei-cloud-stack/hcso/terraform-startup"
  },"298": {
    "doc": "User Federation with Keycloak (OpenID)",
    "title": "User Federation with Keycloak (OpenID)",
    "content": "V1.0 – October 2024 . | Version | Author | Description | . | V1.0 – 2024-10-15 | Diogo Hatz d50037923 | Initial Version | . | V1.0 – 2024-10-15 | Wisley da Silva Paulo 00830850 | Document Review | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iam/user-federation-with-keycloak-openid#user-federation-with-keycloak-openid",
    
    "relUrl": "/docs/management-and-governance/iam/user-federation-with-keycloak-openid#user-federation-with-keycloak-openid"
  },"299": {
    "doc": "User Federation with Keycloak (OpenID)",
    "title": "Objective",
    "content": "This document aims to present the procedures required to implement identity federation configuration in Huawei Cloud (Service Provider) through an identity provider (IdP), such as RedHat SSO or Keycloak. In this example, the protocol used for identity federation will be OpenID, mapping users from the identity provider to virtual users in Huawei Cloud. In the diagram below, you can see the authentication process flow in Huawei Cloud using an IdP. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iam/user-federation-with-keycloak-openid#objective",
    
    "relUrl": "/docs/management-and-governance/iam/user-federation-with-keycloak-openid#objective"
  },"300": {
    "doc": "User Federation with Keycloak (OpenID)",
    "title": "Keycloak",
    "content": "First, you need to configure the identity provider (IdP). To do this, access the IdP (Keycloak) configuration page and navigate to the “Clients” section. Click “Create” to create a new client. Select “Client Protocol” as “openid-connect” and enter “hws-oidc” in the “Client ID” field. Once done, click “Save” to create the client. Navigate to the Huawei Cloud client you created and click “Edit” to edit the client settings. Enable the “Implicit Flow Enabled” option, change the “Access Type” field to “confidential” and insert the following hyperlink in the “Valid Redirect URIs” field: https://auth.huaweicloud.com/authui/oidc/post. Once done, click “Save” to save the changes made. Navigate to the “Mappers” section, still in the Huawei Cloud client settings, and click “Create” to create a mapper for the username. Select the “Mapper Type” as “User Property” and fill in the remaining fields as shown in the image below. Navigate once again to the “Mappers” section, still in the Huawei Cloud client settings, and click “Create” to create a mapper for the group. Select the “Mapper Type” as “Group Membership”, disable the “Full group path” option and fill in the remaining fields as shown in the image below. To perform Huawei Cloud user federation, users must first exist. If there is no user created in Keycloak, create a user. Navigate to the “Realm Settings” section and click on “OpenID Endpoint Configuration” in the “Endpoints” subsection. Note the following parameters, which will need to be configured on the service provider (Huawei Cloud) side: “authorization_endpoint” and “jwks_uri”. In the web browser, navigate to the hyperlink for the “jwks_uri” parameter copied above and make a note of the key. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iam/user-federation-with-keycloak-openid#keycloak",
    
    "relUrl": "/docs/management-and-governance/iam/user-federation-with-keycloak-openid#keycloak"
  },"301": {
    "doc": "User Federation with Keycloak (OpenID)",
    "title": "IAM",
    "content": "Access the IAM service in the Huawei Cloud console and navigate to the “Identity Providers” section. Click “Create Identity Provider” to create an identity federation configuration. Select the OpenID-Connect protocol and the “SSO Type” as “Virtual User”. Click the “OK” button to save the IdP creation settings. Once done, select the “Modify” option next to the created identity provider and fill in the fields as shown in the figure below. . | Identity Provider URL: Hyperlink relative to the realm in which the client was configured in keycloak. Example: ; . | Client ID: Same parameter configured in the “Client ID” field of Keycloak; . | Authorization Endpoint: Parameter “authorization_endpoint” present in the Open-ID endpoint configuration file in Keycloak; . | Response Mode: “form_post”; . | Signing Key: Contents of the “jwks_uri” parameter, present in the Open-ID endpoint configuration file in Keycloak. | . Important: The Open-ID protocol necessarily requires an SSL certificate to be configured in the identity provider to enable communication via the HTTPS protocol. The SSL certificate can be a self-signed certificate. Finally, in the “Identity Conversion Rules” section, click “Create Rule” to create a rule for converting users and groups from the IdP to the corresponding users and groups in Huawei Cloud. You can use the following example conversion rule. Important: The conversion rule below maps all Keycloak users to IAM groups in Huawei Cloud that have the same names as the groups configured in Keycloak. For example: In Keycloak, the user “Test” belonging to the “admin” group will be mapped, in Huawei Cloud, to the virtual user “Test” in the “admin” group. It is not necessary for the “Test” user to be previously created in Huawei Cloud. However, it is mandatory for the “admin” group to be previously created in Huawei Cloud with the appropriate access control policies. [ { \"remote\": [ { \"type\": \"username\" }, { \"type\": \"Group\" } ], \"local\": [ { \"user\": { \"name\": \"{0}\" } }, { \"group\": { \"name\": \"{1}\" } } ] } ] . Once done, click “OK” to save the changes made to the IdP. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iam/user-federation-with-keycloak-openid#iam",
    
    "relUrl": "/docs/management-and-governance/iam/user-federation-with-keycloak-openid#iam"
  },"302": {
    "doc": "User Federation with Keycloak (OpenID)",
    "title": "Example",
    "content": "The following is an example of validating login to the Huawei Cloud console through identity federation. Accessing the Huawei Cloud console and selecting the option to log in through a federated user. Entering the account name and selecting the configured IdP from the dropdown. Logging in to the configured identity provider. Authentication successful, redirecting to the Huawei Cloud console. Important: You can also log in to the console through identity federation using the hyperlink generated in the Identity Provider configuration in the Huawei Cloud console. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iam/user-federation-with-keycloak-openid#example",
    
    "relUrl": "/docs/management-and-governance/iam/user-federation-with-keycloak-openid#example"
  },"303": {
    "doc": "User Federation with Keycloak (OpenID)",
    "title": "References",
    "content": ". | IAM Documentation: https://support.huaweicloud.com/intl/en-us/usermanual-iam/iam_08_0002.html . | Huawei Cloud Blog: https://bbs.huaweicloud.com/blogs/401343 . | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iam/user-federation-with-keycloak-openid#references",
    
    "relUrl": "/docs/management-and-governance/iam/user-federation-with-keycloak-openid#references"
  },"304": {
    "doc": "User Federation with Keycloak (OpenID)",
    "title": "User Federation with Keycloak (OpenID)",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iam/user-federation-with-keycloak-openid",
    
    "relUrl": "/docs/management-and-governance/iam/user-federation-with-keycloak-openid"
  },"305": {
    "doc": "User Federation with Keycloak (SAML 2.0)",
    "title": "User Federation with Keycloak (SAML 2.0)",
    "content": "V1.0 – October 2024 . | Version | Author | Description | . | V1.0 – 2024-10-25 | Diogo Hatz d50037923 | Initial Version | . | V1.0 – 2024-10-25 | Wisley da Silva Paulo 00830850 | Document Review | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#user-federation-with-keycloak-saml-20",
    
    "relUrl": "/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#user-federation-with-keycloak-saml-20"
  },"306": {
    "doc": "User Federation with Keycloak (SAML 2.0)",
    "title": "Objective",
    "content": "This document aims to present the procedures required to implement identity federation configuration in Huawei Cloud (Service Provider) through an identity provider (IdP), such as RedHat SSO or Keycloak. In this example, the protocol used for identity federation will be SAML 2.0, mapping users from the identity provider to IAM users in Huawei Cloud. The diagram below shows the flow of the authentication process in Huawei Cloud using an IdP. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#objective",
    
    "relUrl": "/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#objective"
  },"307": {
    "doc": "User Federation with Keycloak (SAML 2.0)",
    "title": "Keycloak Endpoint",
    "content": "To integrate Huawei Cloud with an Identity Provider, you must first obtain the XML configuration file for the protocol to be used from the Identity Provider. Access the Keycloak portal and navigate to the “Realm Settings” section. Click “SAML 2.0 Identity Provider Metadata” in the “Endpoints” subsection, and save the opened web page locally as an XML file. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#keycloak-endpoint",
    
    "relUrl": "/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#keycloak-endpoint"
  },"308": {
    "doc": "User Federation with Keycloak (SAML 2.0)",
    "title": "IIC",
    "content": " ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#iic",
    
    "relUrl": "/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#iic"
  },"309": {
    "doc": "User Federation with Keycloak (SAML 2.0)",
    "title": "External Identity Provider",
    "content": "Access the IIC service in the Huawei Cloud console and navigate to the “Settings” section. Click “Change to external identity provider” to create an identity federation configuration. Click “Download Metadata File” to download the XML configuration file of the protocol to be used (SAML 2.0) of the Service Provider. Click “Select File” in the “Identity Provider Details” subsection and select the XML file downloaded in item 2.0 of this document. Once done, just click “Next” followed by “OK” to finish the configuration. Note: The next three subsections (3.2, 3.3 and 3.4) are related to user, group, permission set and Organization account configurations. If these configurations have already been configured, ignore the aforementioned subsections. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#external-identity-provider",
    
    "relUrl": "/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#external-identity-provider"
  },"310": {
    "doc": "User Federation with Keycloak (SAML 2.0)",
    "title": "Users and Groups",
    "content": "To perform identity federation using an Identity Provider, users and user groups must be created in the Service Provider. To do this, select the “Groups” section and click “Create Group” to create a user group. Give the group a name and select “OK” to finish creating the user group. To create users, access the “Users” section and click “Create User”. Fill in the relevant user information, such as username and email, and click “Next” to proceed. Select a user group to which the user will belong and click “Next” followed by “OK” to finish creating the user. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#users-and-groups",
    
    "relUrl": "/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#users-and-groups"
  },"311": {
    "doc": "User Federation with Keycloak (SAML 2.0)",
    "title": "Permission Sets",
    "content": "In addition to users and groups, permission sets are also required to delegate permissions to the users created. To do this, navigate to the “Permission Sets” subsection in the “Multi-Account Permissions” section, and click “Create Permission Set”. Fill in the fields related to the user’s session time and the permission set name and click “Next” to continue. Select the permissions that the permission set will have and select “Next” followed by “OK” to finish creating the permission set. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#permission-sets",
    
    "relUrl": "/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#permission-sets"
  },"312": {
    "doc": "User Federation with Keycloak (SAML 2.0)",
    "title": "Accounts",
    "content": "Finally, you will need to configure a triple for the user, permission set and account, in order to delegate permissions to users to specific Organizations accounts. To do this, navigate to the “Accounts” subsection in the “Multi-Account Permissions” section, and click “Assign User/Group” for the desired account. Select the users that will have access to the selected account and click “Next” to proceed. Select the permission sets that the aforementioned users will have access to in the selected account and click “Next” followed by “OK” to finish delegating permissions to users. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#accounts",
    
    "relUrl": "/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#accounts"
  },"313": {
    "doc": "User Federation with Keycloak (SAML 2.0)",
    "title": "Keycloak Client",
    "content": "To integrate Huawei Cloud with Keycloak, you must first create a Client in the IdP. To do this, go to the IdP (Keycloak) settings page and navigate to the “Clients” section. Click “Create” to create a new client. Click “Select file” to import the Huawei Cloud XML configuration file saved in item 3.1 of this document, and click “Save”. Navigate to the Huawei Cloud client you created and click “Edit” to edit the client settings. Turn off the “Client Signature Required” option, enable the “Force Name ID Format” option, select the “Name ID Format” field as “username” and click “Save” to save the changes made. Navigate to the “Mappers” section, still in the Huawei Cloud client settings, and click “Create” to create a mapper for the username. Select the “Mapper Type” as “User Property” and fill in the fields as shown in the image below. Navigate once again to the “Mappers” section, still in the Huawei Cloud client settings, and click “Create” to create a mapper for the group. Select the “Mapper Type” as “Group list” and fill in the fields as shown in the image below. Note: To perform Huawei Cloud user federation, users must first exist. If there is no user created in Keycloak, create a user. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#keycloak-client",
    
    "relUrl": "/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#keycloak-client"
  },"314": {
    "doc": "User Federation with Keycloak (SAML 2.0)",
    "title": "Example",
    "content": "The following is an example of validating login to the Huawei Cloud console through identity federation. Accessing the IAM Identity Center portal hyperlink. Redirection to the Identity Provider login page. Redirection to the Huawei Cloud console after authentication is successful. Click “Access Console” next to the desired permission set to log in to the desired account. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#example",
    
    "relUrl": "/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#example"
  },"315": {
    "doc": "User Federation with Keycloak (SAML 2.0)",
    "title": "References",
    "content": ". | IIC Documentation: https://support.huaweicloud.com/intl/en-us/productdesc-identitycenter/iic_01_0002.html | Huawei Cloud Blog: https://bbs.huaweicloud.com/blogs/429838 | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#references",
    
    "relUrl": "/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#references"
  },"316": {
    "doc": "User Federation with Keycloak (SAML 2.0)",
    "title": "User Federation with Keycloak (SAML 2.0)",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2",
    
    "relUrl": "/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2"
  },"317": {
    "doc": "User Federation with Keycloak (SAML 2.0)",
    "title": "User Federation with Keycloak (SAML 2.0)",
    "content": "V1.2 – October 2024 . | Version | Author | Description | . | V1.0 – 2024-10-14 | Diogo Hatz d50037923 | Initial Version | . | V1.0 – 2024-10-14 | Wisley da Silva Paulo 00830850 | Document Review | . | V1.1 – 2024-11-11 | Diogo Hatz d50037923 | Document Update | . | V1.2 – 2024-12-19 | Diogo Hatz d50037923 | Document Update | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iam/user-federation-with-keycloak-saml-2#user-federation-with-keycloak-saml-20",
    
    "relUrl": "/docs/management-and-governance/iam/user-federation-with-keycloak-saml-2#user-federation-with-keycloak-saml-20"
  },"318": {
    "doc": "User Federation with Keycloak (SAML 2.0)",
    "title": "Objective",
    "content": "This document aims to present the procedures required to implement identity federation configuration in Huawei Cloud (Service Provider) through an identity provider (IdP), such as RedHat SSO or Keycloak. In this example, the protocol used for identity federation will be SAML 2.0, mapping users from the identity provider to virtual users in Huawei Cloud. In the diagram below, you can see the authentication process flow in Huawei Cloud using an IdP. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iam/user-federation-with-keycloak-saml-2#objective",
    
    "relUrl": "/docs/management-and-governance/iam/user-federation-with-keycloak-saml-2#objective"
  },"319": {
    "doc": "User Federation with Keycloak (SAML 2.0)",
    "title": "Keycloak",
    "content": "First, you need to obtain the XML configuration file from the Huawei Cloud service provider (SP) to perform the configuration in Keycloak. In a web browser, go to the following page and save its contents in an XML file: https://auth.huaweicloud.com/authui/saml/metadata.xml. Note: For private cloud-based deployments, such as HCSO, the public endpoint to obtain SAML 2.0 XML will have the following structure: . Once done, go to the IdP (Keycloak) settings page and navigate to the “Clients” section. Click “Create” to create a new client. Click “Select file” to import the Huawei Cloud XML configuration file saved in the previous step, and then click “Save”. Navigate to the Huawei Cloud client you created, and then click “Edit” to edit the client settings. Turn off the “Encrypt Assertions” option and click “Save” to save the changes made. Navigate to the “Mappers” section, still in the Huawei Cloud client settings, and click “Create” to create a mapper for the username. Select the “Mapper Type” as “User Property” and fill in the fields as shown in the image below. Navigate once again to the “Mappers” section, still in the Huawei Cloud client settings, and click “Create” to create a mapper for the group. Select the “Mapper Type” as “Group list” and fill in the fields as shown in the image below. To federate Huawei Cloud users, you must first create users. If no user has been created in Keycloak, create a new user. Navigate to the “Realm Settings” section and click “SAML 2.0 Identity Provider Metadata” in the “Endpoints” subsection. Save the opened web page locally as an XML file. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iam/user-federation-with-keycloak-saml-2#keycloak",
    
    "relUrl": "/docs/management-and-governance/iam/user-federation-with-keycloak-saml-2#keycloak"
  },"320": {
    "doc": "User Federation with Keycloak (SAML 2.0)",
    "title": "IAM",
    "content": "Access the IAM service in the Huawei Cloud console and navigate to the “Identity Providers” section. Click “Create Identity Provider” to create an identity federation configuration. Select the SAML protocol and “SSO Type” as “Virtual User”. Click the “OK” button to save the IdP creation settings. Once done, select the “Modify” option next to the identity provider you created and click “Select File” to upload the saved XML configuration file for the identity provider (Keycloak). After selecting the file, select “Upload” to upload the XML file and load the IdP settings. After confirming the file upload, click “OK” on the settings extracted from Keycloak by the XML file to save. Finally, in the “Identity Conversion Rules” section, click “Create Rule” to create users and groups conversion rule from the IdP to the corresponding users and groups in Huawei Cloud. You can use the example translation rule below. Important: The translation rule below maps all Keycloak users to IAM groups in Huawei Cloud that have the same names as the groups configured in Keycloak. For example: In Keycloak, the user “Test” belonging to the “admin” group will be mapped to the virtual user “Test” in the “admin” group in Huawei Cloud. It is not necessary to create the “Test” user in Huawei Cloud in advance. However, it is mandatory to create the “admin” group in Huawei Cloud with the appropriate access control policies. [ { \"remote\": [ { \"type\": \"UserName\" }, { \"type\": \"Group\" } ], \"local\": [ { \"user\": { \"name\": \"{0}\" } }, { \"group\": { \"name\": \"{1}\" } } ] } ] . Once done, click “OK” to save the changes made to the IdP. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iam/user-federation-with-keycloak-saml-2#iam",
    
    "relUrl": "/docs/management-and-governance/iam/user-federation-with-keycloak-saml-2#iam"
  },"321": {
    "doc": "User Federation with Keycloak (SAML 2.0)",
    "title": "Example",
    "content": "The following is an example of validating login to the Huawei Cloud console through identity federation. Accessing the Huawei Cloud console and selecting the option to log in through a federated user. Entering the account name and selecting the configured IdP from the dropdown. Logging in to the configured identity provider. Authentication successful, redirecting to the Huawei Cloud console. Important: You can also log in to the console via identity federation using the hyperlink generated in the Identity Provider configuration in the Huawei Cloud console. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iam/user-federation-with-keycloak-saml-2#example",
    
    "relUrl": "/docs/management-and-governance/iam/user-federation-with-keycloak-saml-2#example"
  },"322": {
    "doc": "User Federation with Keycloak (SAML 2.0)",
    "title": "References",
    "content": ". | IAM Documentation: https://support.huaweicloud.com/intl/en-us/usermanual-iam/iam_08_0002.html | Huawei Cloud Blog: https://bbs.huaweicloud.com/blogs/393396 | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iam/user-federation-with-keycloak-saml-2#references",
    
    "relUrl": "/docs/management-and-governance/iam/user-federation-with-keycloak-saml-2#references"
  },"323": {
    "doc": "User Federation with Keycloak (SAML 2.0)",
    "title": "User Federation with Keycloak (SAML 2.0)",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iam/user-federation-with-keycloak-saml-2",
    
    "relUrl": "/docs/management-and-governance/iam/user-federation-with-keycloak-saml-2"
  },"324": {
    "doc": "VPN Client to Site Startup",
    "title": "VPN Client to Site Startup",
    "content": "V1.0 – September 2024 . | Version | Author | Description | . | V1.0 – 2024-09-10 | Diogo Hatz d50037923 | Initial Version | . | V1.0 – 2024-09-10 | Wisley da Silva Paulo 00830850 | Document Review | . ",
    "url": "/huaweicloud-knowledge-base/docs/networking/vpn/vpn-client-to-site-startup#vpn-client-to-site-startup",
    
    "relUrl": "/docs/networking/vpn/vpn-client-to-site-startup#vpn-client-to-site-startup"
  },"325": {
    "doc": "VPN Client to Site Startup",
    "title": "Objective",
    "content": "This document aims to present the procedures required to provision a Client-to-Site VPN using Huawei Cloud’s P2C VPN service and accessing it through the OpenVPN client. ",
    "url": "/huaweicloud-knowledge-base/docs/networking/vpn/vpn-client-to-site-startup#objective",
    
    "relUrl": "/docs/networking/vpn/vpn-client-to-site-startup#objective"
  },"326": {
    "doc": "VPN Client to Site Startup",
    "title": "Considerations",
    "content": ". | At the time of writing this document, Huawei Cloud’s P2C VPN is only available in the São Paulo region and with the yearly/monthly billing method; . | An SSL certificate is required to authenticate the VPN, which can be generated free of charge using the EasyRSA tool. | . ",
    "url": "/huaweicloud-knowledge-base/docs/networking/vpn/vpn-client-to-site-startup#considerations",
    
    "relUrl": "/docs/networking/vpn/vpn-client-to-site-startup#considerations"
  },"327": {
    "doc": "VPN Client to Site Startup",
    "title": "Certificate",
    "content": "To authenticate the P2C VPN, it is first necessary to generate an SSL certificate that will be hosted on Huawei Cloud’s CCM service. In this example, the tool that will be used to generate the certificate will be Easy-RSA, however, all other tools are also supported, such as Let’s Encrypt. Note: If another certificate issuing tool is used, it is necessary to include the certificate chain in the certificate. Download the Easy-RSA tool through the following hyperlink: https://github.com/OpenVPN/easy-rsa/releases/download/v3.1.7/EasyRSA-3.1.7-win64.zip. After extracting the downloaded file, open CMD and navigate to the extracted folder of the downloaded file. After navigating to the EasyRSA folder, run the “EasyRSA-Start.bat” file using the “.\\EasyRSA-Start.bat” command . Enter the “./easyrsa init-pki” command to initialize the PKI environment . Copy the “vars.example” file from the C:\\EasyRSA-3.1.7 directory to the C:\\EasyRSA-3.1.7\\pki and then rename the file to “vars”. . Go back to CMD and use the command “./easyrsa build-ca nopass” to generate a CA certificate. | By default, the CA certificate will be stored in the C:\\EasyRSA-3.1.7\\pki directory. In this example, the “ca.crt” certificate was generated. | By default, the private key of the CA certificate will be stored in the C:\\EasyRSA-3.1.7\\pki\\private directory. In this example, the “ca.key” certificate was generated. | . Use the “./easyrsa build-server-full p2cserver.com nopass” command to generate a server certificate and its private key. Note that the “p2cserver.com” argument will be the common name (CN) of the generated certificate. | By default, the server certificate will be stored in the C:\\EasyRSA-3.1.7\\pki\\issued directory. In this example, the “p2cserver.com.crt” certificate was generated. | By default, the server certificate’s private key will be stored in the C:\\EasyRSA-3.1.7\\pki\\private directory. In this example, the “p2cserver.com.key” certificate was generated. | . Note: There are two ways to perform client authentication, one is through a username and password defined in the HWC console and the other is through an SSL certificate. For the second option, follow the step below. Otherwise, skip this step. Use the command ./easyrsa build-client-full p2cclient.com nopass” to generate a client certificate and its private key. | By default, the client certificate will be stored in the C:\\EasyRSA-3.1.7\\pki\\issued directory. In this example, the “p2cclient.com.crt” certificate was generated. | By default, the server certificate’s private key will be stored in the C:\\EasyRSA-3.1.7\\pki\\private directory. In this example, the “p2cclient.com.key” certificate was generated. | . ",
    "url": "/huaweicloud-knowledge-base/docs/networking/vpn/vpn-client-to-site-startup#certificate",
    
    "relUrl": "/docs/networking/vpn/vpn-client-to-site-startup#certificate"
  },"328": {
    "doc": "VPN Client to Site Startup",
    "title": "CCM",
    "content": "After issuing the certificate(s) in the previous section, you need to publish the server certificate to the service Huawei Cloud Certificate Manager (CCM). To do this, navigate to the CCM service in the HWC console. Click on the “Hosted Certificates” section and select the “Upload Certificate” option. In the “Certificate File” field, you must enter both the server and CA certificates, in that order. Therefore, enter the server certificate first and then, in the same text box, the CA certificate. In the “Private Key” field, simply enter the content of the server’s private key. After entering both fields, simply click “Submit” to save the certificate. ",
    "url": "/huaweicloud-knowledge-base/docs/networking/vpn/vpn-client-to-site-startup#ccm",
    
    "relUrl": "/docs/networking/vpn/vpn-client-to-site-startup#ccm"
  },"329": {
    "doc": "VPN Client to Site Startup",
    "title": "P2C VPN",
    "content": "Navigate to the VPN service in the Huawei Cloud console and click the “Enterprise – VPN Gateways” section, followed by “P2C VPN Gateways” and “Buy P2C VPN Gateway”. Fill in the information regarding the VPN Gateway, such as its name, VPC and Subnet where it will be located. Additionally, specify an EIP for the gateway, as well as its bandwidth. After that, simply click “Buy Now”. Click on the VPN Gateway you purchased and navigate to the “Server” section to configure the server certificate and client authentication method. Fill in the information regarding the local CIDR, client CIDR, server certificate, and client authentication method. Note: The local CIDR corresponds to the network block of the cloud where the VPN will be closed, while the client CIDR corresponds to the virtual address block used by the client. It is important that there is no overlap between the local and client network blocks. If the client authentication method is done through username and password, it is also necessary to configure a username and password in the “User Management” section. Create a username and password and define a user group for the user. To delegate permissions to a group of users, navigate to the “Access Policies” section and click “Create Policy”. Enter the name of the policy, as well as the local CIDR filled in previously and the group of users who will be allowed to access the specified network blocks. Once done, return to the P2C Gateway VPN service page and click on the “More” option followed by “Download Client Configuration”. ",
    "url": "/huaweicloud-knowledge-base/docs/networking/vpn/vpn-client-to-site-startup#p2c-vpn",
    
    "relUrl": "/docs/networking/vpn/vpn-client-to-site-startup#p2c-vpn"
  },"330": {
    "doc": "VPN Client to Site Startup",
    "title": "OpenVPN",
    "content": "To access the created P2C VPN, you must download the OpenVPN client through the following hyperlink: https://openvpn.net/downloads/openvpn-connect-v3-windows.msi. After downloading OpenVPN, run its standard installation. After installing the OpenVPN client, run it and click Upload File to configure the VPN. Upload the .OVPN file downloaded in item 5.0 of this document. Enter the username and password configured in item 5.0 of this document and click “Connect”. If a warning window appears requesting an external certificate, just click “Continue”. If all steps have been followed correctly, the OpenVPN client will connect to the created VPN. ",
    "url": "/huaweicloud-knowledge-base/docs/networking/vpn/vpn-client-to-site-startup#openvpn",
    
    "relUrl": "/docs/networking/vpn/vpn-client-to-site-startup#openvpn"
  },"331": {
    "doc": "VPN Client to Site Startup",
    "title": "References",
    "content": ". | P2C VPN documentation: https://support.huaweicloud.com/intl/en-us/admin-vpn/p2cvpn_admin_00001.html . | P2C VPN documentation: https://support.huaweicloud.com/intl/en-us/usermanual-vpn/vpn_ug_p2c_00016.html. | . ",
    "url": "/huaweicloud-knowledge-base/docs/networking/vpn/vpn-client-to-site-startup#references",
    
    "relUrl": "/docs/networking/vpn/vpn-client-to-site-startup#references"
  },"332": {
    "doc": "VPN Client to Site Startup",
    "title": "VPN Client to Site Startup",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/networking/vpn/vpn-client-to-site-startup",
    
    "relUrl": "/docs/networking/vpn/vpn-client-to-site-startup"
  }
}
