{"0": {
    "doc": "Automatizar o Ciclo de Vida de Recursos",
    "title": "Automatizar o Ciclo de Vida de Recursos",
    "content": "V1.0 – Setembro 2024 . | Versão | Autor | Descrição | . | V1.0 – 2024-09-10 | Diogo Hatz d50037923 | Versão Inicial | . | V1.0 – 2024-09-10 | Wisley da Silva Paulo 00830850 | Revisão do Documento | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/coc/automate-resources-lifecycle#automatizar-o-ciclo-de-vida-de-recursos",
    
    "relUrl": "/docs/management-and-governance/coc/automate-resources-lifecycle#automatizar-o-ciclo-de-vida-de-recursos"
  },"1": {
    "doc": "Automatizar o Ciclo de Vida de Recursos",
    "title": "Objetivo",
    "content": "Este documento objetiva apresentar os procedimentos necessários para a criação de uma task automatizada para ligar e desligar recursos na Huawei Cloud de forma periódica através do serviço Cloud Operations Center (COC). ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/coc/automate-resources-lifecycle#objetivo",
    
    "relUrl": "/docs/management-and-governance/coc/automate-resources-lifecycle#objetivo"
  },"2": {
    "doc": "Automatizar o Ciclo de Vida de Recursos",
    "title": "COC",
    "content": "Para criar uma task automatizada para ligar e desligar os recursos de uma conta na Huawei Cloud, primeiramente, acesse o serviço COC através do console da HWC e permita a delegação de permissões para a agency relativa ao serviço do COC. Obs: As agencies criadas para o serviço do COC serão utilizadas somente para delegar permissões ao serviço COC. Navegue até a seção “Resource O\\&amp;M” e acesse a subseção “Automated O\\&amp;M”. Selecione a rotina de “Scheduled O\\&amp;M” para definir uma política automatizada de ligamento e desligamento de recursos e clique em “Create Task”. Insira informações pertinentes à task, como o seu nome e o enterprise project a qual a task pertencerá. Ademais, insira, também, um fuzo horário para a definição periódica da task. Selecione a opção “Periodic execution” para definir uma data e horário para a execução da função periódica, assim como a data de expiração da função. Selecione o tipo de task como “Jobs” e “Common Jobs” e selecione o job desejado. Neste exemplo, será criada uma tarefa para a inicialização de ECSs automaticamente. Selecione a agency “ServiceLinkedAgencyForCOC” em “IAM Agency” e a região utilizada. Clique em “+Add” para adicionar instâncias de ECSs que farão parte da task periódica e selecione as respectivas instâncias. Após isso, basta desabilitar a opção de Batch Policy e Manual Review e clicar em “Submit” para salvar a task criada. Obs: A opção de batch policy serve para delimitar grupos distintos de recursos para a task, ao passo em que a opção manual review serve para forçar a autorização da execução da task por um aprovador delimitado. É possível ver o status da task como “Enabled” no console do COC. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/coc/automate-resources-lifecycle#coc",
    
    "relUrl": "/docs/management-and-governance/coc/automate-resources-lifecycle#coc"
  },"3": {
    "doc": "Automatizar o Ciclo de Vida de Recursos",
    "title": "Exemplo",
    "content": "Após a definição da task criada no item 2.0 deste documento, é possível ver que, no momento em que o dia e horário especificados na task foram atingidos, a ECS delimitada na task foi inicializada. Também é possível ver o status de execução da task pelo console do COC . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/coc/automate-resources-lifecycle#exemplo",
    
    "relUrl": "/docs/management-and-governance/coc/automate-resources-lifecycle#exemplo"
  },"4": {
    "doc": "Automatizar o Ciclo de Vida de Recursos",
    "title": "Referências",
    "content": ". | Documentação do COC: https://support.huaweicloud.com/intl/en-us/usermanual-coc/coc_um_05_03_01.html. | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/coc/automate-resources-lifecycle#refer%C3%AAncias",
    
    "relUrl": "/docs/management-and-governance/coc/automate-resources-lifecycle#referências"
  },"5": {
    "doc": "Automatizar o Ciclo de Vida de Recursos",
    "title": "Automatizar o Ciclo de Vida de Recursos",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/coc/automate-resources-lifecycle",
    
    "relUrl": "/docs/management-and-governance/coc/automate-resources-lifecycle"
  },"6": {
    "doc": "ECS Travada Após Migração",
    "title": "ECS Travada Após Migração",
    "content": "V1.0 – Julho 2024 . | Versão | Autor | Descrição | . | V1.0 – 2024-07-30 | Diogo Hatz 50037923 | Versão Inicial | . | V1.0 – 2024-07-30 | Wisley da Silva 00830850 | Revisão do Documento | . ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#ecs-travada-ap%C3%B3s-migra%C3%A7%C3%A3o",
    
    "relUrl": "/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#ecs-travada-após-migração"
  },"7": {
    "doc": "ECS Travada Após Migração",
    "title": "Introdução",
    "content": "O SMS é um serviço de migração de máquinas virtuais disponibilizado na Huawei Cloud. Com esse serviço, é possível migrar VMs de outras provedoras cloud ou de ambientes on-premises para a nuvem. O SMS migra máquinas virtuais para ECSs, que correspondem ao serviço de máquinas virtuais na Huawei Cloud. Este documento tem como objetivo apresentar uma solução para VMs migradas utilizando o serviço de migração SMS em que não é possível nem acessar a máquina através do “remote login”, pelo console, e nem por acesso remoto através de protocolos como o SSH. ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#introdu%C3%A7%C3%A3o",
    
    "relUrl": "/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#introdução"
  },"8": {
    "doc": "ECS Travada Após Migração",
    "title": "Considerações",
    "content": "Importante: É possível que inúmeros fatores distintos causem o congelamento de ECSs após a sua migração por meio do SMS. Neste documento será abordada a questão de compatibilidade de certas versões do cloud-init com o serviço de ECS, que é um dos fatores que pode causar o congelamento da ECS. ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#considera%C3%A7%C3%B5es",
    
    "relUrl": "/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#considerações"
  },"9": {
    "doc": "ECS Travada Após Migração",
    "title": "Sintomas",
    "content": "Ao tentar acessar a ECS por meio de “remote login” ou SSH, os seguintes erros ocorrem: . ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#sintomas",
    
    "relUrl": "/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#sintomas"
  },"10": {
    "doc": "ECS Travada Após Migração",
    "title": "ECS temporária",
    "content": "Como a ECS não pode ser acessada, será necessário remover o seu disco de sistema e o acoplar a uma ECS temporária para poder acessar o seu menu de boot. Para isso, primeiramente, crie uma ECS temporária com o mesmo sistema operacional e mesma AZ da máquina congelada. Após isso, remova o disco de sistema da ECS congelada e o coloque na ECS temporária como um disco de dados. Removendo o disco de sistema da ECS congelada: . Acoplando o disco de sistema da ECS congelada na ECS temporária como um disco de dados: . Após isso, acesse remotamente a ECS temporária e use o comando “fdisk -l” para listar os discos acoplados na máquina. Ao identificar o disco que foi acoplado à ECS temporária, realize a montagem do disco com o comando mount. Por exemplo: “mount /dev/vdb1 /mnt”. Feito a montagem, realize os seguintes passos: . | Delete o arquivo de configurações do grub com o comando: . | rm /mnt/boot/grub/grub.cfg . | . | Copie o kernel genérico da ECS temporária para o diretório /boot da ECS congelada: . | . cp /boot/vmlinuz-5.4.0-170-generic /mnt/boot/vmlinuz-5.4.0-170-generic . Importante: O nome do kernel utilizado foi somente um exemplo, é necessário copiar o kernel utilizado pela ECS temporária. Em caso de dúvida, utilize o comando “uname -r” para listar a versão do kernel em execução. | Copie o initrd da ESC temporária para o diretório /boot da ECS congelada: . | . cp /boot/initrd.img-5.4.0-170-generic /mnt/boot/initrd.img-5.4.0-170-generic . Importante: Copie o initrd relativo ao kernel copiado no item 2.0. Caso não haja nenhum initrd, gere um com o comando “update-initramfs -u”. Remova o disco de dados com o comando “umount /dev/vdb1”. Feito isso, coloque o disco de sistema da ECS congelada de volta na ECS original, seguindo o passo-a-passo do item 4.0 deste documento. Feito isso, inicie a máquina e faça “remote login” nela através do console. ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#ecs-tempor%C3%A1ria",
    
    "relUrl": "/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#ecs-temporária"
  },"11": {
    "doc": "ECS Travada Após Migração",
    "title": "Grub shell",
    "content": ". Execute o comando “ls” para listar as partições de disco vistas pelo Grub. Para identificar qual é a partição correta a ser utilizada, execute o comando “ls (hd0,gpt1)/” até encontrar a partição com o conteúdo do disco de sistema, substituindo “hd0,gpt1” pelas partições vistas pelo comando “ls”. Ao encontrar a partição correta, efetue os seguintes passos para dar boot em modo single-user no kernel da ECS temporária: . | Substituindo (hd0,gpt1) pela partição encontrada acima; set root=(hd0,gpt1) . | Substituindo “vmlinuz-5.4.0-170-generic” pelo kernel copiado da ECS temporária no item 4.0 deste documento e substituindo “vda1” de acordo com a partição encontrada. Exemplo: (hd0,gp1) = vda1, (hd1,gpt1) = vdb1, (hd3,gpt2) = /dev/vdd2, e assim por diante; linux /boot/vmlinuz-5.4.0-170-generic root=/dev/vda1 ro single . | Substituindo “initrd.img-5.4.0-170-generic” pelo initrd copiado da ECS temporária no item 4.0 deste documento; initrd /boot/initrd.img-5.4.0-170-generic . | Finalize dando boot. boot . | . Após digitar o comando boot, a ECS será inicializada em modo single-user. Digite a senha root da ECS quando requisitado. ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#grub-shell",
    
    "relUrl": "/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#grub-shell"
  },"12": {
    "doc": "ECS Travada Após Migração",
    "title": "Single-user",
    "content": "Utilize o comando “apt-get remove cloud-init -y” para desinstalar o cloud-init. Utilize o comando “update-grub” para gerar o arquivo de configurações do grub previamente deletado. Utilize o comando “grep ‘menuentry ‘ /boot/grub/grub.cfg” para listar as versões do kernel existentes no sistema e copie a versão desejada para que o Grub dê boot por padrão. Utilize o comando “vim /etc/default/grub” para modificar o arquivo de configurações do grub. Altere os parâmetros grub_default={nome do kernel copiado acima}, “grub_timeout_style=menu” e “grub_timeout=10”. Utilize o comando “update-grub” para atualizar o arquivo de configurações do grub novamente. Utilize o comando “reboot” para reiniciar a ECS. Note que agora a máquina inicializará normalmente. ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#single-user",
    
    "relUrl": "/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#single-user"
  },"13": {
    "doc": "ECS Travada Após Migração",
    "title": "Configurações",
    "content": "Verifique a conectividade da ECS com o comando “ip a”. Caso a ECS não possua a interface eth0 configurada corretamente, é possível que haja um conflito na configuração do programa netplan. Caso a ECS possua conectividade normalmente, pule a seção 7.1 deste documento. ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#configura%C3%A7%C3%B5es",
    
    "relUrl": "/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#configurações"
  },"14": {
    "doc": "ECS Travada Após Migração",
    "title": "Netplan",
    "content": "Digite o comando “vim /etc/netplan/50-cloud-init.yaml” para abrir o arquivo de configurações de rede da ECS e adicione a interface eth0 da seguinte forma: . Feito isso, aplique as configurações feitas com o comando “netplan apply” . Caso a conectividade ainda não tenha retornado ao normal, verifique a instalação dos drivers KVM a partir da seguinte documentação: https://support.huaweicloud.com/intl/en-us/usermanual-ims/ims_01_0326.html#ims_01_0326__section1865536911274. ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#netplan",
    
    "relUrl": "/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#netplan"
  },"15": {
    "doc": "ECS Travada Após Migração",
    "title": "Config",
    "content": "Caso a VM tenha sido migrada da Azure, será necessário alterar os repositórios do Yum da máquina para apontar para o repositório da Huawei: . sed -i 's/azure.archive.ubuntu.com/repo.huaweicloud.com/g' /etc/apt/sources.list apt autoclean &amp;&amp; apt update . Feito a troca dos repositórios, reinstale o cloud-init com o comando: . apt-get install cloud-init . Importante: Não instale a versão 23.3.3 do cloud-init. Instale uma nova versão do kernel do Linux com o comando: . apt-get install linux-image-generic . Utilize o comando “grep ‘menuentry ‘ /boot/grub/grub.cfg” para listar as versões do kernel existentes no sistema e copie a versão mais recente instalada. Utilize o comando “vim /etc/default/grub” para modificar o arquivo de configurações do grub. Altere os parâmetros grub_default={nome do kernel copiado acima}. Utilize o comando “update-grub” para atualizar o arquivo de configurações do grub novamente. Utilize o comando “reboot” para reiniciar a ECS no kernel atualizado. ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#config",
    
    "relUrl": "/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#config"
  },"16": {
    "doc": "ECS Travada Após Migração",
    "title": "Configurações (Opcional)",
    "content": "Além das configurações realizadas acima, também é recomendado que o agente da Azure, que é instalado por padrão em VMs da Azure, seja desinstalado, uma vez que o agente reporta logs para o console da VNC constantemente, o que pode afetar a performance do VNC: . Digite o seguinte comando para desinstalar o agente da Azure: . sudo apt -y remove walinuxagent apt-get remove -y linux-azure-* apt-get remove -y *azure . ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#configura%C3%A7%C3%B5es-opcional",
    
    "relUrl": "/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#configurações-opcional"
  },"17": {
    "doc": "ECS Travada Após Migração",
    "title": "Referências",
    "content": ". | Instalação dos drivers KVM: https://support.huaweicloud.com/intl/en-us/usermanual-ims/ims_01_0326.html#ims_01_0326__section1865536911274. | . ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#refer%C3%AAncias",
    
    "relUrl": "/docs/migration/sms/bricked-ecs-after-migration-troubleshooting#referências"
  },"18": {
    "doc": "ECS Travada Após Migração",
    "title": "ECS Travada Após Migração",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/bricked-ecs-after-migration-troubleshooting",
    
    "relUrl": "/docs/migration/sms/bricked-ecs-after-migration-troubleshooting"
  },"19": {
    "doc": "Criando e Gerenciando Alarmes",
    "title": "Criando e Gerenciando Alarmes",
    "content": "V1.1 – Dezembro 2023 . | Versão | Autor | Descrição | . | V1.0 – 2023-12-20 | Diogo Hatz 50037923 | Versão Inicial | . | V1.0 – 2023-12-21 | Wisley da Silva 00830850 | Revisão do Documento | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/creating-and-managing-alarms#criando-e-gerenciando-alarmes",
    
    "relUrl": "/docs/management-and-governance/ces/creating-and-managing-alarms#criando-e-gerenciando-alarmes"
  },"20": {
    "doc": "Criando e Gerenciando Alarmes",
    "title": "Introdução",
    "content": "O Cloud Eye (CES) é uma ferramenta gratuita para o monitoramento de recursos da Huawei Cloud. Além do monitoramento de recursos, o Cloud Eye também pode ser utilizado para criar alarmes baseados em eventos ou métricas, identificar o mau funcionamento de recursos e rapidamente reagir à mudança de recursos. Vale ressaltar que, por mais que o Cloud Eye seja um serviço gratuito, as cobranças geradas pelo envio de notificações ao disparar alarmes são cobradas. Este documento tem como objetivo descrever as principais funcionalidades do serviço Cloud Eye e guiar o leitor a utilizar o CES para o monitoramento de recursos da nuvem, como ECSs, VPNs e CBRs etc. Ademais, também é descrito como criar alarmes baseados em eventos ou métricas e customizar dashboards para o monitoramento de recursos. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/creating-and-managing-alarms#introdu%C3%A7%C3%A3o",
    
    "relUrl": "/docs/management-and-governance/ces/creating-and-managing-alarms#introdução"
  },"21": {
    "doc": "Criando e Gerenciando Alarmes",
    "title": "Cloud Eye no console",
    "content": " ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/creating-and-managing-alarms#cloud-eye-no-console",
    
    "relUrl": "/docs/management-and-governance/ces/creating-and-managing-alarms#cloud-eye-no-console"
  },"22": {
    "doc": "Criando e Gerenciando Alarmes",
    "title": "Overview",
    "content": "Ao abrir o Cloud Eye no console, a página inicial que será carregada é a Overview, na qual é possível ter uma visão geral de todos os recursos utilizados na Huawei Cloud, a utilização geral de rede, CPU, memória e disco e quais recursos dispararam alarmes recentemente e precisam de uma maior atenção. | Visão geral dos recursos: Permite a visualização do número total de recursos monitorados e os alarmes gerados para esses recursos. | Estatística dos alarmes: Mostra os alarmes disparados nos últimos sete dias por severidade do alarme. | Monitoramento de servidores: Permite a visualização da utilização geral de CPU e memória dos servidores monitorados e uma lista do top 5 ECSs ranqueados pela utilização de CPU ou memória. | Monitoramento de rede: Mostra a utilização geral de largura de banda de EIPs e uma lista do top 5 EIPs ranqueados por utilização de largura de banda. | Monitoramento de armazenamento: Permite a visualização da utilização geral de disco (EVS) por IOPS de leitura e escrita e uma lista do top 5 discos ranqueados por IOPS. | . É possível ter uma visão de como a página inicial do Cloud Eye é nas imagens abaixo: . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/creating-and-managing-alarms#overview",
    
    "relUrl": "/docs/management-and-governance/ces/creating-and-managing-alarms#overview"
  },"23": {
    "doc": "Criando e Gerenciando Alarmes",
    "title": "Grupos de recurso",
    "content": "Os grupos de recursos viabilizam o agrupamento de diversos recursos da Huawei Cloud para o seu monitoramento em conjunto, além de facilitar a gestão de alarmes para diversos recursos em lote. Um grupo de recursos pode ser criado na seção Resource Groups, clicando em Create Resource Group. Na página carregada, escolha um nome para o grupo de recursos em Name e selecione os recursos a serem adicionados ao grupo por serviço. Após adicionar todos os recursos desejados, clique em Create. É possível criar alarmes para um grupo de recursos específico, facilitando a criação de alarmes em lote para múltiplos recursos que compartilhem um mesmo contexto. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/creating-and-managing-alarms#grupos-de-recurso",
    
    "relUrl": "/docs/management-and-governance/ces/creating-and-managing-alarms#grupos-de-recurso"
  },"24": {
    "doc": "Criando e Gerenciando Alarmes",
    "title": "Gestão de alarmes",
    "content": "A seção relativa à gestão de alarmes possui as seguintes subseções: . | Regras de alarme: Subseção utilizada para visualizar e criar alarmes baseados em métricas ou eventos. | Histórico de alarmes: Subseção utilizada para visualizar os alarmes disparados. | Template de alarmes: Subseção relativa à visualização de templates para alarmes. | Monitoramento em um clique: Subseção que permite a habilitação de monitoramento para eventos comuns de serviços . | Máscara de alarme: Subseção que permite a criação de máscaras de alarmes para que alarmes disparados não sejam notificados. | . Criação de um alarme . Para criar um alarme para determinado recurso baseado em um evento ou métrica, navegue para a seção Alarm Rules, em Alarm Management e clique em Create Alarm Rule. Configure os ajustes básicos do alarme, como o nome do alarme em Name e o tipo de recurso que será monitorado em Resource Type, assim como o seu escopo em Dimension. Para configurar um alarme para uma ECS, por exemplo, o Resource Type é Elastic Cloud Server e a Dimension é ECSs. Caso a condição de disparo do alarme seja uma métrica, como por exemplo a taxa de utilização da CPU ou memória da ECS, selecione Metric em Alarm Type. Já caso a condição de disparo do alarme seja um evento, como por exemplo o evento de uma GPU não instalada, selecione Event no campo Alarm Type. Neste exemplo, a métrica para disparar o alarme será a utilização da CPU da ECS acima de 80%. Em Monitoring Scope, o recurso específico que irá disparar o alarme precisa ser configurado. É possível selecionar o recurso de três formas distintas: . | All resources: Selecione essa opção caso o alarme poderá ser disparado por todas as instâncias do recurso selecionado. | Rresource groups: Selecione essa opção caso o alarme poderá ser disparado por todos os recursos presentes em um grupo de recursos. Ver seção 3.3. | Specific resources: Selecione essa opção para escolher uma instância específica do serviço selecionado para disparar o alarme. | . Neste exemplo, a ECS “ecs-4194” será selecionada como a instância que poderá disparar o alarme no campo Specific resources em Monitoring Scope. Há três formas distintas de configurar a métrica que irá disparar o alarme em Method: . | Associate template: Nesta opção, a métrica para disparar o alarme será configurada com base em um template já existente. | Use existing template: Nesta opção, a métrica para disparar o alarme será configurada com base em um template já existente. | Configure manually: Nesta opção, a métrica para disparar o alarme será configurada manualmente, o que permite uma maior flexibilidade. | . Neste exemplo, a métrica que será configurada para disparar o alarme será caso a utilização de CPU da ECS seja superior ou igual a 80%. Em Metric Name é possível selecionar a métrica que poderá disparar o alarme, como neste caso é (Agent) CPU Usage (Recommended). Para esta opção ser selecionada, é necessário que o agente do Cloud Eye seja instalado, como feito na seção 3.5. É importante que o agente seja instalado em servidores monitorados para obter uma melhor precisão no monitoramento dos dados e uma gama maior de métricas de monitoramento. Em Alarm Policy é possível selecionar o tipo de dado que será analisado, como dados brutos, média, máximo, mínimo, variância ou soma dos dados ingeridos; assim como a porcentagem que irá disparar o alarme e a forma de comparação, como maior ou igual, maior, menor, menor ou igual, aumento em relação à ou decremento em relação à. Na seção Alarm Notification é possível configurar uma notificação para os alarmes disparados por e-mail, SMS, requests HTTP e HTTPS ou então por meio de um trigger no FunctionGraph. Caso a notificação somente precise ser encaminhada no e-mail do dono da conta do console da Huawei Cloud, é possível selecionar a opção Account contact em Notification Object diretamente. Neste exemplo, um segundo e-mail será configurado para receber as notificações dos alarmes do Cloud Eye. Para isso, é necessário primeiro ativar o serviço Short Message Notification (SMN). Clique em Topics para visualizar os tópicos de notificação criados. Clique em Create Topic para criar um tópico de notificações. Digite o nome do tópico das notificações em Topic Name e clique em OK. Em seguida, clique em Add Subscription para adicionar um canal de comunicações pelo qual a notificação será enviada. Em seguida, escolha o protocolo de envio da notificação, neste caso Email, e digite o e-mail escolhido em Endpoints. Clique em OK. Um e-mail será enviado para o endpoint selecionado. Para que o serviço SMN funcione corretamente, faz-se necessário que o usuário confirme o seu e-mail através de uma confirmação que será enviada assim que a Subscription for configurada. Voltando para a criação do alarme, selecione o tópico criado nas etapas anteriores em Notification Object e configure a janela de horários em que a notificação pode ser enviada em Notification Window. Ademais, também selecione as ocasiões em que a notificação será enviada na seção Trigger Condition: quando o alarme é gerado ou quando o alarme é limpo. Após configurado, selecione Create para criar o alarme. Em Alarm Rules é possível ver os alarmes criados e os seus status, assim como o recurso que é monitorado e a política de ativação do alarme. Após um alarme ser disparado, é possível consulta-lo na seção Alarm Records em Alarm Management. Também é possível visualizar a notificação gerada pelo alarme no endpoint escolhido para o envio da notificação no serviço SMN. Em um outro contexto, o seguinte e-mail foi gerado para o monitoramento de um bucket no serviço OBS para armazenamento de objetos na Huawei Cloud: . As tabelas referentes às métricas e eventos monitorados para os serviços de ECS, VPN, NAT e CBR da Huawei Cloud foram incluídas na seção 4.0 de anexos deste documento. Para criar alarmes baseados em eventos ou métricas para esses serviços, o procedimento é o mesmo do descrito acima. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/creating-and-managing-alarms#gest%C3%A3o-de-alarmes",
    
    "relUrl": "/docs/management-and-governance/ces/creating-and-managing-alarms#gestão-de-alarmes"
  },"25": {
    "doc": "Criando e Gerenciando Alarmes",
    "title": "Anexos",
    "content": " ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/creating-and-managing-alarms#anexos",
    
    "relUrl": "/docs/management-and-governance/ces/creating-and-managing-alarms#anexos"
  },"26": {
    "doc": "Criando e Gerenciando Alarmes",
    "title": "Métricas de monitoramento de servidores",
    "content": "| Métricas | Sem agente | Agente instalado | . | Uso de CPU | Sim | Sim / Dedicado | . | Uso de disco | Sim | Sim | . | Uso de memória | Sim | Sim / Dedicado | . | Largura de banda de escrita em disco | Sim | Sim | . | Largura de banda de leitura em disco | Sim | Sim | . | IOPS de escrita em disco | Sim | Sim | . | IOPS de leitura em disco | Sim | Sim | . | Taxa de entrada em banda | Sim | Sim | . | Taxa de saída em banda | Sim | Sim | . | Taxa de entrada fora de banda | Sim | Sim | . | Taxa de saída fora de banda | Sim | Sim | . | Uso de crédito de CPU | Sim | Sim | . | Balanceamento de crédito de CPU | Sim | Sim | . | Excedente de balanceamento de crédito de CPU | Sim | Sim | . | Excedente de crédito carregado de CPU | Sim | Sim | . | Conexões de rede | Sim | Sim | . | Largura de banda de entrada por servidor | Sim | Sim | . | Largura de banda de saída por servidor | Sim | Sim | . | PPS de entrada | Sim | Sim | . | PPS de saída | Sim | Sim | . | Novas conexões | Sim | Sim | . | Erros incorrigíveis agregados de ECC | Sim | Sim | . | Páginas aposentadas com erros de bit único | Sim | Sim | . | Páginas aposentadas com erros de bit duplos | Sim | Sim | . | Status de saúde da GPU | Sim | Sim | . | Uso de encoder da GPU | Sim | Sim | . | Uso de decoder da GPU | Sim | Sim | . | Erros corrigíveis voláteis de ECC | Sim | Sim | . | Erros incorrigíveis voláteis de ECC | Sim | Sim | . | CPU ociosa | Não | Sim / Dedicado | . | Uso de CPU de espaço de usuário | Não | Sim / Dedicado | . | Uso de CPU de espaço de kernel | Não | Sim / Dedicado | . | Uso de CPU de outros processos | Não | Sim / Dedicado | . | Uso de CPU de processos ótimos | Não | Sim / Dedicado | . | Tempo em que a CPU está esperando por operações de E/S | Não | Sim / Dedicado | . | Tempo de interrupção de CPU | Não | Sim / Dedicado | . | Tempo de interrupção de CPU por software | Não | Sim / Dedicado | . | Memória disponível | Não | Sim / Dedicado | . | Memória ociosa | Não | Sim / Dedicado | . | Buffer | Não | Sim / Dedicado | . | Cache | Não | Sim / Dedicado | . | Largura de banda de entrada por NIC | Não | Sim / Dedicado | . | Largura de banda de saída por NIC | Não | Sim / Dedicado | . | Taxa de pacotes enviados por NIC | Não | Sim / Dedicado | . | Taxa de pacotes recebidos por NIC | Não | Sim / Dedicado | . | Taxa de pacotes com erro recebidos por NIC | Não | Sim / Dedicado | . | Taxa de pacotes com erro transmitidos por NIC | Não | Sim / Dedicado | . | Taxa de pacotes recebidos largados por NIC | Não | Sim / Dedicado | . | Taxa de pacotes transmitidos largados por NIC | Não | Sim / Dedicado | . | Processos em execução | Não | Sim / Dedicado | . | Processos ociosos | Não | Sim / Dedicado | . | Processos zombies | Não | Sim / Dedicado | . | Processos bloqueados | Não | Sim / Dedicado | . | Processos dormindo | Não | Sim / Dedicado | . | Total de processos | Não | Sim / Dedicado | . | Taxa de retransmissão TCP | Não | Sim / Dedicado | . | TCP SYS_SENT | Não | Sim / Dedicado | . | TCP SYS_RECV | Não | Sim / Dedicado | . | TCP FIN_WAIT1 | Não | Sim / Dedicado | . | TCP FIN_WAIT2 | Não | Sim / Dedicado | . | TCP CLOSE | Não | Sim / Dedicado | . | TCP LAST_ACK | Não | Sim / Dedicado | . | TCP LISTEN | Não | Sim / Dedicado | . | TCP CLOSING | Não | Sim / Dedicado | . | Média de carga da CPU no último minuto | Não | Sim / Dedicado | . | Média de carga da CPU nos últimos 15 minutos | Não | Sim / Dedicado | . | Média de carga da CPU nos últimos 5 minutos | Não | Sim / Dedicado | . | TCP ESTABLISHED | Não | Sim / Dedicado | . | TCP TOTAL | Não | Sim / Dedicado | . | UDP TOTAL | Não | Sim / Dedicado | . | NTP Offset | Não | Sim / Dedicado | . | Total de arquivos processados | Não | Sim / Dedicado | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/creating-and-managing-alarms#m%C3%A9tricas-de-monitoramento-de-servidores",
    
    "relUrl": "/docs/management-and-governance/ces/creating-and-managing-alarms#métricas-de-monitoramento-de-servidores"
  },"27": {
    "doc": "Criando e Gerenciando Alarmes",
    "title": "Métricas de monitoramento de VPN Gateway",
    "content": "| Métricas | Suportado | . | Taxa de pacotes de entrada | Sim | . | Taxa de pacotes de saída | Sim | . | Largura de banda de entrada | Sim | . | Largura de banda de saída | Sim | . | Uso de largura de banda de entrada | Sim | . | Número de conexões | Sim | . | Uso de largura de banda de saída | Sim | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/creating-and-managing-alarms#m%C3%A9tricas-de-monitoramento-de-vpn-gateway",
    
    "relUrl": "/docs/management-and-governance/ces/creating-and-managing-alarms#métricas-de-monitoramento-de-vpn-gateway"
  },"28": {
    "doc": "Criando e Gerenciando Alarmes",
    "title": "Métricas de monitoramento da conexão VPN",
    "content": "| Métricas | Suportado | . | Média de RTT do túnel | Sim | . | Máximo de RTT do túnel | Sim | . | Taxa de perda de pacotes do túnel | Sim | . | Média de link RTT | Sim | . | Máximo de link RTT | Sim | . | Taxa de perda de pacotes do link | Sim | . | Status da conexão VPN | Sim | . | Taxa de recebimento de pacotes | Sim | . | Taxa de envio de pacotes | Sim | . | Taxa de recebimento de tráfego | Sim | . | Taxa de envio de tráfego | Sim | . | Taxa de envio de pacote SA | Sim | . | Taxa de recebimento de pacote SA | Sim | . | Taxa de envio de tráfego SA | Sim | . | Taxa de recebimento de tráfego SA | Sim | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/creating-and-managing-alarms#m%C3%A9tricas-de-monitoramento-da-conex%C3%A3o-vpn",
    
    "relUrl": "/docs/management-and-governance/ces/creating-and-managing-alarms#métricas-de-monitoramento-da-conexão-vpn"
  },"29": {
    "doc": "Criando e Gerenciando Alarmes",
    "title": "Métricas de monitoramento de NAT",
    "content": "| Métricas | Suportado | . | Conexões SNAT | Sim | . | Largura de banda de entrada | Sim | . | Largura de banda de saída | Sim | . | PPS de entrada | Sim | . | PPS de saída | Sim | . | Tráfego de entrada | Sim | . | Tráfego de saída | Sim | . | Taxa de uso de conexões SNAT | Sim | . | Taxa de uso de largura de banda de entrada | Sim | . | Taxa de uso de largura de banda de saída | Sim | . | Total de largura de banda de saída (UDP) | Sim | . | Total de largura de banda de saída (TCP) | Sim | . | Total de largura de banda de entrada (UDP) | Sim | . | Total de largura de banda de entrada (TCP) | Sim | . | Pacotes perdidos por conexões SNAT excessivas | Sim | . | Pacotes perdidos por excesso de PPS | Sim | . | Pacotes perdidos por todos os portes EIP alocados | Sim | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/creating-and-managing-alarms#m%C3%A9tricas-de-monitoramento-de-nat",
    
    "relUrl": "/docs/management-and-governance/ces/creating-and-managing-alarms#métricas-de-monitoramento-de-nat"
  },"30": {
    "doc": "Criando e Gerenciando Alarmes",
    "title": "Eventos monitorados para alarme de CBR",
    "content": "| Eventos | Suportado | . | Agente online | Sim | . | Agente offline | Sim | . | Falha ao criar o backup | Sim | . | Falha ao restaurar o recurso usando um backup | Sim | . | Falha ao deletar o backup | Sim | . | Falha ao deletar o vault | Sim | . | O backup foi feito com sucesso | Sim | . | Restaurar o recursando usando um backup foi feito com sucesso | Sim | . | O backup foi deletado com sucesso | Sim | . | O vault foi deletado com sucesso | Sim | . | Erro durante replicação | Sim | . | Replicação feita com sucesso | Sim | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/creating-and-managing-alarms#eventos-monitorados-para-alarme-de-cbr",
    
    "relUrl": "/docs/management-and-governance/ces/creating-and-managing-alarms#eventos-monitorados-para-alarme-de-cbr"
  },"31": {
    "doc": "Criando e Gerenciando Alarmes",
    "title": "Eventos monitorados para alarme de servidores",
    "content": "| Eventos | Suportado | . | Reimplantação agendada para ser autorizada | Sim | . | Troca de disco local cancelada | Sim | . | Troca de disco local para ser executada | Sim | . | Alarme de evento xid disparado na GPU | Sim | . | Modificação de especificações agendada para ser executada | Sim | . | Migração agendada para ser executada | Sim | . | Encerramento agendado para ser executado | Sim | . | Reinicialização agendada para ser executada | Sim | . | Reimplantação agendada para ser executada | Sim | . | Erros ECC irrecuperáveis gerados pela SRAM da GPU | Sim | . | Alarme inforom gerado na GPU | Sim | . | Alarme de bit duplo ECC gerado na GPU | Sim | . | Páginas aposentadas em excesso | Sim | . | Alarme ECC gerado na GPU a100 | Sim | . | Falha ECC na aposentadoria de página de memória da GPU | Sim | . | Falha ECC na aposentadoria de página de GPU | Sim | . | Erros ECC demasiados de bit único na GPU | Sim | . | Placa de vídeo não encontrada | Sim | . | Link de GPU com defeito | Sim | . | Placa de vídeo perdida | Sim | . | Página de memória da GPU com defeito | Sim | . | Imagem de engine da GPU com defeito | Sim | . | Temperatura da GPU muito alta | Sim | . | NVLink da GPU com defeito | Sim | . | Suspensão da nvidia-smi | Sim | . | ECS apagada | Sim | . | ECS reiniciada | Sim | . | ECS desligada | Sim | . | NIC deletada | Sim | . | ECS redimensionada | Sim | . | Reinicialização por erro de hardware | Sim | . | Reinicialização por erro de hardware feita com sucesso | Sim | . | Timeout de auto recuperação | Sim | . | Erro na inicialização | Sim | . | Erro no link da GPU | Sim | . | Erro no link da FPGA | Sim | . | Erro na ECS por processos anormais no host | Sim | . | GuestOS reiniciado | Sim | . | Migração iniciada | Sim | . | Migração finalizada com sucesso | Sim | . | Erro durante migração | Sim | . | Risco de quebra de host | Sim | . | Erros irrecuperáveis de ECC: NPU | Sim | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/creating-and-managing-alarms#eventos-monitorados-para-alarme-de-servidores",
    
    "relUrl": "/docs/management-and-governance/ces/creating-and-managing-alarms#eventos-monitorados-para-alarme-de-servidores"
  },"32": {
    "doc": "Criando e Gerenciando Alarmes",
    "title": "Referências",
    "content": ". | Documentação do CES: https://support.huaweicloud.com/intl/en-us/function-ces/index.html . | Limitações do CES: https://support.huaweicloud.com/intl/en-us/productdesc-ces/ces_07_0007.html . | FAQ: https://support.huaweicloud.com/intl/en-us/ces_faq/ces_faq_0059.html . | Instalação do agente do CES em lote: https://support.huaweicloud.com/intl/en-us/usermanual-ces/ces_01_0033.html . | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/creating-and-managing-alarms#refer%C3%AAncias",
    
    "relUrl": "/docs/management-and-governance/ces/creating-and-managing-alarms#referências"
  },"33": {
    "doc": "Criando e Gerenciando Alarmes",
    "title": "Criando e Gerenciando Alarmes",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/creating-and-managing-alarms",
    
    "relUrl": "/docs/management-and-governance/ces/creating-and-managing-alarms"
  },"34": {
    "doc": "Funções Baseadas em Imagens Customizadas de Containers",
    "title": "Funções Baseadas em Imagens Customizadas de Containers",
    "content": "V1.0 – Julho 2024 . | Versão | Autor | Descrição | . | V1.0 – 2024-07-11 | Diogo Hatz d50037923 | Versão Inicial | . | V1.0 – 2024-07-11 | Wisley da Silva Paulo 00830850 | Revisão do Documento | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/custom-container-image-function#fun%C3%A7%C3%B5es-baseadas-em-imagens-customizadas-de-containers",
    
    "relUrl": "/docs/compute/functiongraph/custom-container-image-function#funções-baseadas-em-imagens-customizadas-de-containers"
  },"35": {
    "doc": "Funções Baseadas em Imagens Customizadas de Containers",
    "title": "Objetivo",
    "content": "Este documento objetiva apresentar os procedimentos necessários para a criação de uma função no serviço serverless FunctionGraph da Huawei Cloud com runtime baseado em uma imagem de container. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/custom-container-image-function#objetivo",
    
    "relUrl": "/docs/compute/functiongraph/custom-container-image-function#objetivo"
  },"36": {
    "doc": "Funções Baseadas em Imagens Customizadas de Containers",
    "title": "Considerações",
    "content": "Importante: Para a execução de funções baseadas em imagens de containers no FunctionGraph, os seguintes critérios precisam ser cumpridos: . | Um servidor HTTP ouvindo na porta 8000 precisa ser configurado e estar rodando no container criado; . | O usuário USER que irá rodar o container não pode ser o root. É necessário criar um novo usuário para rodar o container com UID diferente de 0, 1000 e 1002. O UID padrão do FunctionGraph é 1003, portanto, se um UID diferente for configurado, é necessário alterar na configuração da função no FunctionGraph; . | É necessário que as seguintes variáveis de ambiente existam dentro do container: . | HOME: Path onde o código-fonte da função se encontrará; | GROUP_ID: GID do grupo do usuário que irá executar o container; | GROU_NAME: Nome do grupo do usuário que irá executar o container; | USER_ID: UID do usuário que irá executar o container; | USER_NAME: Nome do usuário que irá executar o container. | . | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/custom-container-image-function#considera%C3%A7%C3%B5es",
    
    "relUrl": "/docs/compute/functiongraph/custom-container-image-function#considerações"
  },"37": {
    "doc": "Funções Baseadas em Imagens Customizadas de Containers",
    "title": "SWR",
    "content": "Para criar uma função com base em uma imagem de container, primeiramente se faz necessário realizar o upload dessa imagem no serviço de repositório da Huawei Cloud SWR (Software Repository for Container). Aviso: Para os itens 2.0 e 3.0 deste documento, também é possível se referir ao seguinte vídeo da HWC para configuração do SWR: https://developer.huaweicloud.com/intl/en-us/forum/topic/02117151603960362356. Acesse o painel do serviço SWR no console da HWC e clique em “Create Organization”. Preencha o campo relativo ao nome da organização e confirme a sua criação clicando em “OK”. Criada a Organization, clique no botão relativo a “Generate Login Command” e copie o comando gerado que será utilizado para realizar a autenticação do Docker com o repositório SWR. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/custom-container-image-function#swr",
    
    "relUrl": "/docs/compute/functiongraph/custom-container-image-function#swr"
  },"38": {
    "doc": "Funções Baseadas em Imagens Customizadas de Containers",
    "title": "Docker",
    "content": "Acesse a máquina que possui a imagem do container localmente que irá rodar no FunctionGraph e cole o comando copiado no item 2.0 deste documento, relativo à autenticação do Docker com o serviço SWR da HWC. Feito o login no repositório SWR através do Docker, copie o seguinte comando, alterando os campos [image name 1:tag 1], [Image repository address], [Organization name] e [Image name 2:tag 2] de acordo com a lista abaixo: . | [Image name 1:tag 1]: {nome:tag} da imagem que será feito o upload; . | [Image repository address]: Domínio do SWR. Pode ser obtido no comando de login obtido no item 2.0 deste documento; . | [Organization name]: Nome da organização criada no item 2.0 deste documento; . | [Image name 2:tag 2]: {nome:tag} da imagem que aparecerá no SWR. Similar a uma renomeação, o mesmo nome e tag podem ser mantidos. | . docker tag {Image name 1:tag 1} {Image repository address} {Organization name} {Image name 2:tag 2} . Exemplo: . docker tag novo:1.0 swr.sa-brazil-1.myhuaweicloud.com/functiongraph/helloworld:1.0 . Agora bata realizar o upload da imagem com o seguinte comando: . ddocker push {Image repository address} {Organization name} {Image name 2:tag 2} . Exemplo: . docker push swr.sa-brazil-1.myhuaweicloud.com/functiongraph/helloworld:1.0 . Na página do serviço do SWR no console da HWC é possível ver que a imagem foi publicada com sucesso no repositório: . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/custom-container-image-function#docker",
    
    "relUrl": "/docs/compute/functiongraph/custom-container-image-function#docker"
  },"39": {
    "doc": "Funções Baseadas em Imagens Customizadas de Containers",
    "title": "Agency",
    "content": "Para delegar permissões do serviço SWR para o FunctionGraph, faz-se necessário criar uma agency com permissões sobre o SWR. Navegue até o serviço IAM no console da Huawei Cloud e clique na página “Agencies”. Clique para criar uma agency em “Create Agency”. Dê um nome para a agency, selecione o tipo de agency como “Cloud Service” e selecione o serviço FunctionGraph. Clique em “Next” para avançar. Delegue permissões de “SWR FullAccess” e “SWR Admin” para a agency e clique em “Next” e, então, em “OK” para concluir. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/custom-container-image-function#agency",
    
    "relUrl": "/docs/compute/functiongraph/custom-container-image-function#agency"
  },"40": {
    "doc": "Funções Baseadas em Imagens Customizadas de Containers",
    "title": "FunctionGraph",
    "content": "Acesse o serviço FunctionGraph no console da Huawei Cloud e navegue até a página Functions &gt; Function List. Clique em “Create Function”. Selecione a opção “Container Image”, “HTTP Function”, dê um nome para a função, selecione a agency criada no item 4.0 deste documento e selecione a imagem do SWR. Também é possível configurar opções adicionais do container, como o comando CMD de startup, argumentos de execução, User ID e Group ID. Importante: O User ID padrão utilizado é o 1003, e o User ID relativo ao usuário root de sistemas UNIX não pode ser utilizado. Para a execução de funções baseadas em imagens de containers, recomenda-se criar um novo usuário com UID = 1003 e definir esse usuário como sendo o USER no momento de build da imagem. Tendo criada a função, clique em “Test” para testar a função criada. Confirme o exemplo de requisição HTTP recebida e clique em “Create”. Clique novamente em “Test” para realizar o teste da função criada. Importante: Caso a execução da função apresente o erro “runtime process is exited”, verifique a memória alocada para a função em “Configuration” e “Memory(MB)”, alocando mais memória. Por último, basta configurar um trigger para a função. Neste exemplo, o trigger que irá chamar a função do FunctionGraph será uma API Gateway do serviço APIG da HWC. Para criar um trigger, basta clicar em “+ Create Trigger” e configurar a instância do APIG, preenchendo o API Group, Environment, Security Authentication, protocolo e timeout. . Vale ressaltar que na configuração da API relativa à chamada da função, deve ser explicitada a referida função como backend da API. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/custom-container-image-function#functiongraph",
    
    "relUrl": "/docs/compute/functiongraph/custom-container-image-function#functiongraph"
  },"41": {
    "doc": "Funções Baseadas em Imagens Customizadas de Containers",
    "title": "Exemplo",
    "content": "Neste exemplo, uma função escrita em .NET 8.0 foi desenvolvida com um trigger pelo API Gateway (APIG) da HWC para que, toda vez que for chamada, a função fazer uma requisição GET em um servidor HTTP remoto. Chamando a API através do painel do API Gateway no console da HWC: . Listener do servidor HTTP remoto: . Resultado da execução da API: . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/custom-container-image-function#exemplo",
    
    "relUrl": "/docs/compute/functiongraph/custom-container-image-function#exemplo"
  },"42": {
    "doc": "Funções Baseadas em Imagens Customizadas de Containers",
    "title": "Referências",
    "content": ". | Documentação do FunctionGraph: https://support.huaweicloud.com/intl/en-us/qs-functiongraph/functiongraph_04_0103.html. | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/custom-container-image-function#refer%C3%AAncias",
    
    "relUrl": "/docs/compute/functiongraph/custom-container-image-function#referências"
  },"43": {
    "doc": "Funções Baseadas em Imagens Customizadas de Containers",
    "title": "Funções Baseadas em Imagens Customizadas de Containers",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/custom-container-image-function",
    
    "relUrl": "/docs/compute/functiongraph/custom-container-image-function"
  },"44": {
    "doc": "Falha ao iniciar o agente, erro：Current quota is not enough, please use MgC",
    "title": "Falha ao iniciar o agente, erro: Current quota is not enough, please use MgC",
    "content": "V1.0 – Maio 2024 . | Versão | Autor | Descrição | . | V1.0 – 2024-05-21 | Diogo Hatz 50037923 | Tradução do Documento | . | V1.0 – 2024-05-22 | Wisley Paulo 00830850 | Revisão do Documento | . Motivo: . Esta mensagem é exibida porque o número de servidores de origem relatados ao SMS atingiu o limite superior (mais de 10) e a tarefa de migração não pode ser adicionada manualmente. Solução: . | O sistema operacional é o Windows. | . Você pode ir para o seguinte diretório: C:\\SMS-Agent-Py3\\config   ou C:\\SMS-Agent-Py2\\config. Em seguida, abra o arquivo conforme mostrado na imagem: g-property.cfg . Em seguida, altere ‘start_type = MANUAL’ para ‘start_type = MGC’ no arquivo. antes: . depois: . Finalmente, reinicie o agente. | O sistema operacional é Linux. | . Você pode abrir o arquivo :SMS-Agent/agent/config/g-property.cfg . Então altere ‘start_type = MANUAL’ para ‘start_type = MGC’ no arquivo. Por último, reinicie o agente. ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/failed-to-start-agent-error-quota-is-not-enough#falha-ao-iniciar-o-agente-erro-current-quota-is-not-enough-please-use-mgc",
    
    "relUrl": "/docs/migration/sms/failed-to-start-agent-error-quota-is-not-enough#falha-ao-iniciar-o-agente-erro-current-quota-is-not-enough-please-use-mgc"
  },"45": {
    "doc": "Falha ao iniciar o agente, erro：Current quota is not enough, please use MgC",
    "title": "Falha ao iniciar o agente, erro：Current quota is not enough, please use MgC",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/failed-to-start-agent-error-quota-is-not-enough",
    
    "relUrl": "/docs/migration/sms/failed-to-start-agent-error-quota-is-not-enough"
  },"46": {
    "doc": "Cloud Eye Service (CES)",
    "title": "Cloud Eye Service (CES)",
    "content": "Cloud Eye monitora serviços e recursos na nuvem para manter você informado sobre quaisquer problemas em tempo real. Página do Produto · Central de Ajuda . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces#cloud-eye-service-ces",
    
    "relUrl": "/docs/management-and-governance/ces#cloud-eye-service-ces"
  },"47": {
    "doc": "Cloud Eye Service (CES)",
    "title": "Cloud Eye Service (CES)",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces",
    
    "relUrl": "/docs/management-and-governance/ces"
  },"48": {
    "doc": "IAM Identity Center (IIC)",
    "title": "IAM Identity Center (IIC)",
    "content": "IAM Identity Center ajuda você a gerenciar centralmente identidades e seu acesso em todas as contas. Você pode criar identidades para toda a sua empresa de uma só vez e dar a elas acesso de logon único (SSO) com permissões gerenciadas. Central de Ajuda . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iic#iam-identity-center-iic",
    
    "relUrl": "/docs/management-and-governance/iic#iam-identity-center-iic"
  },"49": {
    "doc": "IAM Identity Center (IIC)",
    "title": "IAM Identity Center (IIC)",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iic",
    
    "relUrl": "/docs/management-and-governance/iic"
  },"50": {
    "doc": "Cloud Operations Center (COC)",
    "title": "Cloud Operations Center (COC)",
    "content": "Fornece uma plataforma de O&amp;M segura, eficiente e alimentada por IA, permitindo que você gerencie perfeitamente todos os seus recursos de nuvem em um só lugar. Página do Produto · Central de Ajuda . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/coc#cloud-operations-center-coc",
    
    "relUrl": "/docs/management-and-governance/coc#cloud-operations-center-coc"
  },"51": {
    "doc": "Cloud Operations Center (COC)",
    "title": "Cloud Operations Center (COC)",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/coc",
    
    "relUrl": "/docs/management-and-governance/coc"
  },"52": {
    "doc": "Identity and Access Management (IAM)",
    "title": "Identity and Access Management (IAM)",
    "content": "Autentique identidades e gerencie de forma segura o acesso aos seus serviços e recursos. Página do Produto · Central de Ajuda . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iam#identity-and-access-management-iam",
    
    "relUrl": "/docs/management-and-governance/iam#identity-and-access-management-iam"
  },"53": {
    "doc": "Identity and Access Management (IAM)",
    "title": "Identity and Access Management (IAM)",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iam",
    
    "relUrl": "/docs/management-and-governance/iam"
  },"54": {
    "doc": "Gerenciamento e Governança",
    "title": "Gerenciamento e Governança",
    "content": " ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance",
    
    "relUrl": "/docs/management-and-governance"
  },"55": {
    "doc": "Cloud Container Engine (CCE)",
    "title": "Cloud Container Engine (CCE)",
    "content": "Um serviço de Kubernetes totalmente hospedado que permite criar, executar e escalar aplicações conteinerizadas. Página do Produto · Central de Ajuda . ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce#cloud-container-engine-cce",
    
    "relUrl": "/docs/containers/cce#cloud-container-engine-cce"
  },"56": {
    "doc": "Cloud Container Engine (CCE)",
    "title": "Cloud Container Engine (CCE)",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce",
    
    "relUrl": "/docs/containers/cce"
  },"57": {
    "doc": "Containers",
    "title": "Containers",
    "content": " ",
    "url": "/huaweicloud-knowledge-base/docs/containers",
    
    "relUrl": "/docs/containers"
  },"58": {
    "doc": "Server Migration Service (SMS)",
    "title": "Server Migration Service (SMS)",
    "content": "Server Migration Service (SMS) ajuda você a migrar cargas de trabalho de servidores físicos x86, VMs locais ou em outra nuvem pública/privada para ECSs na Huawei Cloud. Página do Produto · Central de Ajuda . ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms#server-migration-service-sms",
    
    "relUrl": "/docs/migration/sms#server-migration-service-sms"
  },"59": {
    "doc": "Server Migration Service (SMS)",
    "title": "Server Migration Service (SMS)",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms",
    
    "relUrl": "/docs/migration/sms"
  },"60": {
    "doc": "Migration Center (MgC)",
    "title": "Migration Center (MgC)",
    "content": "Migre e modernize aplicações e dados com o MgC para otimizar custos e impulsionar a inovação. Página do Produto · Central de Ajuda . ",
    "url": "/huaweicloud-knowledge-base/docs/migration/mgc#migration-center-mgc",
    
    "relUrl": "/docs/migration/mgc#migration-center-mgc"
  },"61": {
    "doc": "Migration Center (MgC)",
    "title": "Migration Center (MgC)",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/migration/mgc",
    
    "relUrl": "/docs/migration/mgc"
  },"62": {
    "doc": "Migração",
    "title": "Migração",
    "content": " ",
    "url": "/huaweicloud-knowledge-base/docs/migration",
    
    "relUrl": "/docs/migration"
  },"63": {
    "doc": "Virtual Private Network (VPN)",
    "title": "Virtual Private Network (VPN)",
    "content": "Tenha tranquilidade com conexões criptografadas que são seguras, confiáveis e econômicas, integrando sua rede local, data center ou terminais a uma VPC da Huawei Cloud. Página do Produto · Central de Ajuda . ",
    "url": "/huaweicloud-knowledge-base/docs/networking/vpn#virtual-private-network-vpn",
    
    "relUrl": "/docs/networking/vpn#virtual-private-network-vpn"
  },"64": {
    "doc": "Virtual Private Network (VPN)",
    "title": "Virtual Private Network (VPN)",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/networking/vpn",
    
    "relUrl": "/docs/networking/vpn"
  },"65": {
    "doc": "Redes",
    "title": "Redes",
    "content": " ",
    "url": "/huaweicloud-knowledge-base/docs/networking",
    
    "relUrl": "/docs/networking"
  },"66": {
    "doc": "Huawei Cloud Stack Online (HCSO)",
    "title": "Huawei Cloud Stack Online (HCSO)",
    "content": "HUAWEI CLOUD Stack Online (HCS Online) oferece uma série de soluções de isolamento de recursos para computação, armazenamento, redes e serviços em nuvem. Página do Produto . ",
    "url": "/huaweicloud-knowledge-base/docs/huawei-cloud-stack/hcso#huawei-cloud-stack-online-hcso",
    
    "relUrl": "/docs/huawei-cloud-stack/hcso#huawei-cloud-stack-online-hcso"
  },"67": {
    "doc": "Huawei Cloud Stack Online (HCSO)",
    "title": "Huawei Cloud Stack Online (HCSO)",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/huawei-cloud-stack/hcso",
    
    "relUrl": "/docs/huawei-cloud-stack/hcso"
  },"68": {
    "doc": "Huawei Cloud Stack",
    "title": "Huawei Cloud Stack",
    "content": " ",
    "url": "/huaweicloud-knowledge-base/docs/huawei-cloud-stack",
    
    "relUrl": "/docs/huawei-cloud-stack"
  },"69": {
    "doc": "FunctionGraph",
    "title": "FunctionGraph",
    "content": "FunctionGraph permite que você execute seu código sem provisionar nem gerenciar servidores e garantindo alta disponibilidade e escalabilidade. Basta carregar seu código e definir as condições de execução: o FunctionGraph cuidará do resto. Página do Produto · Central de Ajuda . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph#functiongraph",
    
    "relUrl": "/docs/compute/functiongraph#functiongraph"
  },"70": {
    "doc": "FunctionGraph",
    "title": "FunctionGraph",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph",
    
    "relUrl": "/docs/compute/functiongraph"
  },"71": {
    "doc": "Image Management Service (IMS)",
    "title": "Image Management Service (IMS)",
    "content": "Crie e gerencie imagens de disco e servidores em nuvem facilmente. Página do Produto · Central de Ajuda . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims#image-management-service-ims",
    
    "relUrl": "/docs/compute/ims#image-management-service-ims"
  },"72": {
    "doc": "Image Management Service (IMS)",
    "title": "Image Management Service (IMS)",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims",
    
    "relUrl": "/docs/compute/ims"
  },"73": {
    "doc": "Elastic Cloud Server (ECS)",
    "title": "Elastic Cloud Server (ECS)",
    "content": "Fornece recursos computacionais seguros, escaláveis e sob demanda, possibilitando que você implemente aplicações e cargas de trabalho de forma flexível. Página do Produto · Central de Ajuda . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs#elastic-cloud-server-ecs",
    
    "relUrl": "/docs/compute/ecs#elastic-cloud-server-ecs"
  },"74": {
    "doc": "Elastic Cloud Server (ECS)",
    "title": "Elastic Cloud Server (ECS)",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs",
    
    "relUrl": "/docs/compute/ecs"
  },"75": {
    "doc": "Computação",
    "title": "Computação",
    "content": " ",
    "url": "/huaweicloud-knowledge-base/docs/compute/",
    
    "relUrl": "/docs/compute/"
  },"76": {
    "doc": "Database and Application Migration (UGO)",
    "title": "Database and Application Migration (UGO)",
    "content": "Database and Application Migration UGO (UGO) avalia o seu banco de dados, migra objetos e converte automaticamente a sintaxe. UGO é uma ferramenta simples e com bom custo-benefício para migrar bancos de dados. Página do Produto · Central de Ajuda . ",
    "url": "/huaweicloud-knowledge-base/docs/databases/ugo#database-and-application-migration-ugo",
    
    "relUrl": "/docs/databases/ugo#database-and-application-migration-ugo"
  },"77": {
    "doc": "Database and Application Migration (UGO)",
    "title": "Database and Application Migration (UGO)",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/databases/ugo",
    
    "relUrl": "/docs/databases/ugo"
  },"78": {
    "doc": "Bancos de Dados",
    "title": "Bancos de Dados",
    "content": " ",
    "url": "/huaweicloud-knowledge-base/docs/databases",
    
    "relUrl": "/docs/databases"
  },"79": {
    "doc": "Home",
    "title": "Links úteis",
    "content": ". | Console da nuvem | Central de Ajuda - Documentação oficial da Huawei Cloud, tutoriais, conteúdo de vídeo, boas práticas e muito mais | Infraestrutura global - verifique quais serviços estão disponíveis em cada região | Calculadora de custos | Comparação de serviços de nuvem pública - veja como os serviços da Huawei Cloud são denominados em outros provedores de nuvem | . Para desenvolvedores: . | Huawei Cloud API Explorer | Terraform HuaweiCloud Provider | . ",
    "url": "/huaweicloud-knowledge-base/#links-%C3%BAteis",
    
    "relUrl": "/#links-úteis"
  },"80": {
    "doc": "Home",
    "title": "Home",
    "content": ". Este site é uma base de conhecimento pública e colaborativa para os serviços da Huawei Cloud. Neste site, você pode encontrar guias técnicos para cenários específicos. Use a barra de pesquisa acima ou no menu de navegação do lado esquerdo para navegar nesta base de conhecimento. ",
    "url": "/huaweicloud-knowledge-base/",
    
    "relUrl": "/"
  },"81": {
    "doc": "Instalando GUI em Imagens Públicas Linux",
    "title": "Instalando GUI em Imagens Públicas Linux",
    "content": "V1.0 – Janeiro 2024 . | Versão | Autor | Descrição | . | V1.0 – 2024-01-05 | Diogo Hatz 50037923 | Versão Inicial | . | V1.0 – 2024-01-07 | Wisley Paulo 00830850 | Revisão do Documento | . | Instalando GUI em Imagens Públicas Linux . | Introdução | ECS | Configurando a ECS | . | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/installing-gui-on-public-linux-images",
    
    "relUrl": "/docs/compute/ecs/installing-gui-on-public-linux-images"
  },"82": {
    "doc": "Instalando GUI em Imagens Públicas Linux",
    "title": "Introdução",
    "content": "O Image Management Service (IMS) é um serviço disponibilizado na Huawei Cloud que permite a administração de imagens. Imagens são nada mais que servidores em cloud ou templates de disco que contêm um sistema operacional (SO), dados de serviço ou software. Este documento tem como finalidade discorrer o passo-a-passo de como realizar a instalação de uma interface gráfica (GUI) em imagens públicas Linux disponibilizadas no IMS. Vale ressaltar que para disfrutar da interface gráfica, a instância deve ser acessada através de ferramentas exteriores à console da Huawei Cloud, como o Remote Desktop do Windows. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/installing-gui-on-public-linux-images#introdu%C3%A7%C3%A3o",
    
    "relUrl": "/docs/compute/ecs/installing-gui-on-public-linux-images#introdução"
  },"83": {
    "doc": "Instalando GUI em Imagens Públicas Linux",
    "title": "ECS",
    "content": "Acesse o console da Huawei Cloud, navegue até a seção relativa à ECS e crie uma instância Linux com a imagem pública Linux desejada. Vale ressaltar que para acessar a instância de ferramentas exteriores à console, um EIP deve ser vinculado com a ECS. . Garanta que o acesso às portas 22 e 3389 do security group em que a instância está atrelada estão abertas. . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/installing-gui-on-public-linux-images#ecs",
    
    "relUrl": "/docs/compute/ecs/installing-gui-on-public-linux-images#ecs"
  },"84": {
    "doc": "Instalando GUI em Imagens Públicas Linux",
    "title": "Configurando a ECS",
    "content": "Acesse a ECS através da console da Huawei Cloud clicando em “Remote Login” e faça login com o usuário “root” e senha configurada na criação da ECS. Atualize os pacotes da ECS digitando o seguinte comando: . apt update &amp;&amp; apt upgrade -y . Instale o pacote XRDP, que permite que instâncias Linux sejam acessadas através do Remote Desktop do Windows. apt install xrdp -y . O gerenciador de interfaces GDM3 é utilizado por padrão em instâncias Linux. Caso for desejado, outros gerenciadores mais leves podem ser instalados, como o SLiM ou LightDM. Caso seja perguntado, altere o SLiM ou LightDM para o gerenciador padrão. apt install lightdm -y . Instale a interface visual desejada. Neste passo-a-passo, a interface visual instalada será a Ubuntu Desktop. apt install ubuntu-desktop . Reinicie o serviço XRDP para permitir acesso remoto do Remote Desktop. service xrdp restart . Habilite o serviço XRDP para habilitar o serviço XRDP para iniciar na inicialização do sistema. systemctl enable xrdp . Inicie o gerenciador de interfaces instalado. systemctl start lightdm.service . Faça login na instância através do Remote Desktop. Em “Session”, selecione “Xorg”. . Importante: Vale ressaltar que a interface gráfica instalada no Linux não funciona bem com o Remote Login da console da Huawei Cloud. É recomendado que o Remote Login da console seja utilizada somente com o terminal do Linux. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/installing-gui-on-public-linux-images#configurando-a-ecs",
    
    "relUrl": "/docs/compute/ecs/installing-gui-on-public-linux-images#configurando-a-ecs"
  },"85": {
    "doc": "Instalando SQL Server no Ubuntu",
    "title": "Instalando SQL Server no Ubuntu",
    "content": "V1.0 – Janeiro 2024 . | Versão | Autor | Descrição | . | V1.0 – 2024-01-05 | Diogo Hatz 50037923 | Versão Inicial | . | V1.0 – 2024-01-05 | Wisley Paulo 00830850 | Revisão do Documento | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/installing-sql-server-ubuntu",
    
    "relUrl": "/docs/compute/ecs/installing-sql-server-ubuntu"
  },"86": {
    "doc": "Instalando SQL Server no Ubuntu",
    "title": "Introdução",
    "content": "O SQL Server é uma ferramenta de banco de dados relacional desenvolvido pela Microsoft. Neste documento encontra-se o passo-a-passo de como fazer a instalação do SQL Server em uma instância Linux na distribuição do Ubuntu. Para este tutorial, foi utilizado o Ubuntu 20.04 e SQL Server 2019, no entanto, demais versionamentos serão disponibilizados também abaixo. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/installing-sql-server-ubuntu#introdu%C3%A7%C3%A3o",
    
    "relUrl": "/docs/compute/ecs/installing-sql-server-ubuntu#introdução"
  },"87": {
    "doc": "Instalando SQL Server no Ubuntu",
    "title": "Criação da ECS",
    "content": "Navegue até a seção relativa à ECS no console da Huawei Cloud. Compre uma nova instância com o SO desejado para a instalação do SQL Server. Navegue até a seção relativa aos Security Groups no console da Huawei Cloud. Clique no security group atrelado à ECS criada e adicione uma regra para a porta 1433 padrão do SQL Server. Retorne à seção da ECS no console da Huawei Cloud e acesse a instância criada clicando em “Remote Login”. Faça login como usuário “root” com a senha configurada no momento de criação da instância. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/installing-sql-server-ubuntu#cria%C3%A7%C3%A3o-da-ecs",
    
    "relUrl": "/docs/compute/ecs/installing-sql-server-ubuntu#criação-da-ecs"
  },"88": {
    "doc": "Instalando SQL Server no Ubuntu",
    "title": "Instalação do SQL Server",
    "content": "Importe as chaves GPG do repositório público da Microsoft através do seguinte comando: . curl https://packages.microsoft.com/keys/microsoft.asc | sudo tee /etc/apt/trusted.gpg.d/microsoft.asc . Registre o repositório do Ubuntu do SQL Server: . | SQL Server 2019 (Ubuntu 20.04) | . sudo add-apt-repository \"$(wget -qO- https://packages.microsoft.com/config/ubuntu/20.04/mssql-server-2019.list)\" . | SQL Server 2017 (Ubuntu 18.04) | . sudo add-apt-repository \"$(wget -qO- https://packages.microsoft.com/config/ubuntu/18.04/mssql-server-2017.list)\" . | SQL Server 2022 (Ubuntu 20.04) | . sudo add-apt-repository \"$(wget -qO- https://packages.microsoft.com/config/ubuntu/20.04/mssql-server-2022.list)\" . Execute o seguinte comando para atualizar os repositórios dos pacotes do sistema: . sudo apt-get update . Execute o seguinte comando para instalar o SQL Server: . sudo apt-get install -y mssql-server . Após instalado, execute o seguinte comando para realizar a configuração do SQL Server: . sudo /opt/mssql/bin/mssql-conf setup . Selecione a edição do SQL Server a ser instalada, aceite os termos de serviço e defina uma senha para a conta de administrador do SQL Server. Para verificar se o SQL Server está em execução, execute o seguinte comando: . systemctl status mssql-server --no-pager . O serviço do SQL Server estar rodando é denotado pelo status “active (running)”. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/installing-sql-server-ubuntu#instala%C3%A7%C3%A3o-do-sql-server",
    
    "relUrl": "/docs/compute/ecs/installing-sql-server-ubuntu#instalação-do-sql-server"
  },"89": {
    "doc": "Instalando SQL Server no Ubuntu",
    "title": "Conectar no SQL Server",
    "content": "Para conectar ao SQL Server, outras ferramentas precisam ser instaladas. Para instâncias Windows, é possível se conectar utilizando o SQL Management Studio. Para instâncias Linux, através da ferramenta SQLcmd Utility. Linux . Importe as chaves GPG do repositório público da Microsoft: . curl https://packages.microsoft.com/keys/microsoft.asc | sudo tee /etc/apt/trusted.gpg.d/microsoft.asc . Registre o repositório do Microsoft Ubuntu: . | Ubuntu 22.04 | . curl https://packages.microsoft.com/config/ubuntu/22.04/prod.list | sudo tee /etc/apt/sources.list.d/mssql-release.list . | Ubuntu 20.04 | . curl https://packages.microsoft.com/config/ubuntu/20.04/prod.list | sudo tee /etc/apt/sources.list.d/mssql-release.list . | Ubuntu 18.04 | . curl https://packages.microsoft.com/config/ubuntu/18.04/prod.list | sudo tee /etc/apt/sources.list.d/mssql-release.list . | Ubuntu 16.04 | . curl https://packages.microsoft.com/config/ubuntu/16.04/prod.list | sudo tee /etc/apt/sources.list.d/mssql-release.list . Atualize os repositórios do sistema: . sudo apt-get update . Instale o sqlcmd utility: . sudo apt-get install mssql-tools18 unixodbc-dev . Adicione o sqlcmd às variáveis de ambiente: . echo 'export PATH=\"$PATH:/opt/mssql-tools18/bin\"' &gt;&gt; ~/.bash_profile . Adicione o sqlcmd às variáveis de ambiente: . echo 'export PATH=\"$PATH:/opt/mssql-tools18/bin\"' &gt;&gt; ~/.bashrc source ~/.bashrc . Para se conectar localmente à instância do SQL Server, digite o seguinte comando: . sqlcmd -S localhost -U sa -P '&lt;SuaSenha&gt;' -C . Windows . Faça download da ferramenta SQL Management Studio e faça a instalação: . https://learn.microsoft.com/en-us/sql/ssms/download-sql-server-management-studio-ssms?view=sql-server-ver16 . Para realizar o login na instância do SQL Server rodando na instância do Linux, selecione a opção de autenticação por “SQL Server Authentication” e Server Type de “Database Engine”. O usuário padrão configurado durante a instalação do SQL Server é “sa”. Clique em “Connect” quando os dados de login forem inseridos. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/installing-sql-server-ubuntu#conectar-no-sql-server",
    
    "relUrl": "/docs/compute/ecs/installing-sql-server-ubuntu#conectar-no-sql-server"
  },"90": {
    "doc": "Migrando Azure AKS para Huawei CCE",
    "title": "Migrando Azure AKS para Huawei CCE",
    "content": "V1.0 – Janeiro 2024 . | Versão | Autor | Descrição | . | V1.0 – 2024-01-16 | Diogo Hatz 50037923 | Tradução do documento | . | V1.0 – 2024-01-16 | Wisley Paulo 00830850 | Revisão do documento | . ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce/migrating-azure-aks-to-huawei-cce#migrando-azure-aks-para-huawei-cce",
    
    "relUrl": "/docs/containers/cce/migrating-azure-aks-to-huawei-cce#migrando-azure-aks-para-huawei-cce"
  },"91": {
    "doc": "Migrando Azure AKS para Huawei CCE",
    "title": "Migração de cluster Kubernetes de AKS para CCE",
    "content": " ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce/migrating-azure-aks-to-huawei-cce#migra%C3%A7%C3%A3o-de-cluster-kubernetes-de-aks-para-cce",
    
    "relUrl": "/docs/containers/cce/migrating-azure-aks-to-huawei-cce#migração-de-cluster-kubernetes-de-aks-para-cce"
  },"92": {
    "doc": "Migrando Azure AKS para Huawei CCE",
    "title": "Introdução",
    "content": "Realizar a migração do serviço de Kubernetes AKS, da provedora Microsoft Azure, para o serviço gerenciado de clusters Cloud Container Engine (CCE) da Huawei Cloud é uma decisão estratégica que pode empoderar organizações a refinar a sua estratégia de orquestração de containers em resposta às crescentes demandas do cenário de cloud. A transição representa uma oportunidade para otimizar operações, aumentar a escalabilidade e analisar o ecossistema da Huawei Cloud. Crucialmente, a jornada de migração é guiada e facilitada pela poderosa ferramenta de backup e migração de containers Velero, garantindo a integridade dos dados e minimizando a interrupção dos serviços. Seja a migração motivada por custo-benefício, o anseio por uma integração suave com os serviços da Huawei Cloud, ou a jornada por uma maior performance, este guia oferece um passo-a-passo detalhado para uma transição bem-sucedida, permitindo que a sua empresa abrace a era cloud-native com confiança, juntamente com o suporte imensurável da ferramenta Velero. ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce/migrating-azure-aks-to-huawei-cce#introdu%C3%A7%C3%A3o",
    
    "relUrl": "/docs/containers/cce/migrating-azure-aks-to-huawei-cce#introdução"
  },"93": {
    "doc": "Migrando Azure AKS para Huawei CCE",
    "title": "Processo da Operação",
    "content": "Para a migração do serviço Microsoft Azure Kubernetes Service (AKS) para a Huawei Cloud Container Engine (CCE), uma operação meticulosa foi executada. Primeiramente, uma análise detalhada foi conduzida para identificar todos os workloads, configurações e dependências dentro do cluster AKS. Os recursos necessários foram provisionados dentro da Huawei CCE, garantindo a compatibilidade e escalabilidade para acomodar os workloads. Em seguida, as preparações para a migração dos dados foram realizadas, incluindo a transferência de imagens do container, volumes persistentes e arquivos de configuração, tudo resguardado pelo Velero para backup e restauração confiáveis. A migração por si foi executada com cautela para minimizar downtime, com monitoramento contínuo ao longo de toda a transição para abordar quaisquer desafios prontamente. Após a conclusão da migração, workloads na Huawei CCE foram validados para garantir uma operação estável. Configurações foram otimizados conforme o necessário, e práticas de monitoramento e manutenção foram estabelecidas para garantir o sucesso contínuo da operação de aplicações em container no ambiente Huawei CCE. O processo dessa operação garantiu uma migração suave e bem-sucedida, alinhando a infraestrutura com as necessidades crescentes e estratégias na Huawei Cloud Container Engine. ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce/migrating-azure-aks-to-huawei-cce#processo-da-opera%C3%A7%C3%A3o",
    
    "relUrl": "/docs/containers/cce/migrating-azure-aks-to-huawei-cce#processo-da-operação"
  },"94": {
    "doc": "Migrando Azure AKS para Huawei CCE",
    "title": "Implementação",
    "content": " ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce/migrating-azure-aks-to-huawei-cce#implementa%C3%A7%C3%A3o",
    
    "relUrl": "/docs/containers/cce/migrating-azure-aks-to-huawei-cce#implementação"
  },"95": {
    "doc": "Migrando Azure AKS para Huawei CCE",
    "title": "Microsoft Azure",
    "content": "VPC para os Nodes . Neste exemplo, o AKS tem 1 VPC com 1 subnet. Redes virtuais foram utilizadas para o gerenciamento dos endereços de IP, segurança, integração com os serviços da Azure e demais funcionalidades relacionadas à rede para os nodes do AKS. Eles são uma parte essencial na implementação e gerenciamento dos clusters AKS na Azure. AKS – Cluster . | Primeiramente, é necessário checar os recursos essenciais do Kubernetes, como os workloads, namespaces, armazenamento, nodes, pods e serviços. | Navegue até a home, Kubernetes services e clique no serviço de Kubernetes para migrar. | Conecte no cluster utilizando a ferramenta de comandos por texto para interagir diretamente com o cluster utilizando o kubectl, a ferramenta de comandos por texto do Kubernetes. Kubectl está disponível dentro do Azure Cloud Shell por padrão e pode, também, ser instalado localmente. | . | Após abrir o cloud shell, também é necessário configurar a subscription do cluster e fazer download das credenciais. | . | Após conectar ao cluster, é possível checar os deployments, namespaces, pods e as informações do cluster para analisar o cluster. | . Preparação dos Clusters . Neste exemplo, há um nodepool no AKS. Configurações Adicionais para Pods e ELB . Para utilizar os serviços de PV e ELB no AKS, algumas configurações adicionais precisam ser realizadas. Não é necessário instalar o driver CSI ou o plugin kubenet, somente é necessário ativá-los. Igualmente, é possível ver as imagens dos containers em execução no Kubernetes utilizando: . Instalando o Velero e realizando configurações adicionais . | Primeiramente, verifique o cluster AKS e o resource group através do seguinte comando: | . | Configure o arquivo kubeconfig: | . | Cheque se a conta de storage está configurada ou não. Em caso negativo, crie uma conta de storage através do seguinte comando: | . | Instale o Velero no Azure Cloud Shell: | . | Instale o Velero Server no cluster AKS: | . | A este ponto, o arquivo “credentials-velero” precisa estar preenchido com certos parâmetros, como “Azure_Client_ID”, “Azure_Subscription_ID”, “Azure_Tenant_ID”, “Azure_Client_Secret” e “Azure_Resource_Group”. Essas configurações podem ser obtidas na etapa 5 acima. | . | Somente o parâmetro “Azure_Client_ID” é obtido através do console da Azure. Para obter esse parâmetro, navegue até “Azure AD” e clique em “APP Registrations”, selecione “All Aplications” e “Storage account” para conseguir o Client ID. | Azure AD &gt; APP Registrations &gt; All Applications &gt; Storage Account . | . | Por fim, instale o Velero na AKS. Cheque todas as variáveis e valores antes de iniciar o Velero. | . | Cheque se os pods, deployments e replicasets estão criados ou não. | . Criando um backup utilizando o Velero . | Crie um novo backup através do comando: “./velero backup create $Backup_Name” e espere alguns minutos até que o backup esteja concluído. | . | Cheque se o backup está completo ou não. É possível utilizar o seguinte comando para verificar: | ./velero backup describe newbackup2 . | Navegue até a seção relativa às storage accounts e cheque se o backup dos dados foi realizado com sucesso. Navegue até Home &gt; Storage Account &gt; Containers. | . ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce/migrating-azure-aks-to-huawei-cce#microsoft-azure",
    
    "relUrl": "/docs/containers/cce/migrating-azure-aks-to-huawei-cce#microsoft-azure"
  },"96": {
    "doc": "Migrando Azure AKS para Huawei CCE",
    "title": "Huawei Cloud",
    "content": "Criar uma VPC . Primeiramente, uma VPC precisa ser criada. Neste exemplo, a subnet com CIDR 192.168.0.0/16 será utilizada. Criar o Cluster no Console da Huawei Cloud . | Navegue até o console da CCE e clique em “Create CCE”; . | Selecione a AZ correspondente; . | Selecione as especificações de acordo com o cenário; . | Selecione a VPC e security group apropriados; . | Após a criação do CCE, faça login na instância da ECS criada; . | Teste a conexão e atrele um EIP se necessário. | . Criar os nodes . | Vá para a seção de Nodes no console do CCE; . | Clique em “Create a Node”; . | Selecione as especificações do Host do Node; . | Selecione o Container Engine, SO e armazenamento; . | Modifique a rede de acordo com o necessário. | . Instalar o Velero nos Clusters de Origem e de Destino (Mesmo Processo) . | É necessário fazer o download do kubectl e o seu arquivo de configurações, copiar o arquivo para o seu cliente e configure o kubectl. Após realizar a configuração, é possível utilizar o kubectl para acessar o cluster Kubernetes. | Copie “kubectl” e o seu arquivo de configurações para o diretório “/home” no seu client. Se o kubectl já tiver sido instalado, só é necessário copiar o arquivo kubeconfig. | . | Logue no seu client e configure o kubectl. Se o kubectl já tiver sido configurado, pule esta etapa. | . | Troque o modo de acesso do kubectl baseado no cenário de aplicação. Use o seguinte comando para habilitar intra-vpc-access. | . | Cheque as informações do cluster. | . | Execute os seguintes comandos: | . wget https://github.com/vmware-tanzu/velero/releases/download/v1.9.1/velero-v1.9.1-linux-amd64.tar.gz tar -xvf velero-v1.7.0-linux-amd64.tar.gz cd velero-v1.9.1-linux-amd64/ &amp;&amp; sudo chmod +x velero &amp;&amp; sudo mv velero /usr/local/bin . | Crie o arquivo de acesso credentials-velero para o armazenamento de objetos de backup. | . vim credentials-velero tar -xvf velero-v1.7.0-linux-amd64.tar.gz . | Configure as variáveis para o arquivo credentials-velero. Especifique todos os dados especificados abaixo: | . | Crie o arquivo de configurações velero-credentials e o preencha com as informações abaixo: | . | Abra o client do Velero. Mude o valor de credentials. Especifique –provider –plugins –bucket –secret-file –backup-location-config –snapshot-location-config –resource-group. Neste exemplo, o nome do bucket é velero. Mude a região e o url de acordo com o contexto de sua aplicação. | . | Verifique a instalação do Velero com o kubectl. | . kubectl get pod -n velero . Migrando os Recursos . Após realizar a instalação do Velero para ambos os clusters, é importante verificar o status do backup diretamente do servidor do Velero. Para fazer isso, é possível checar os backups atuais através do comando: “./velero get backup-locations”. Esse comando provê informações importantes em relação aos backups administrados pelo Velero, garantindo a segurança e disponibilidade dos recursos do Kubernetes. | Para ver todos os backups disponíveis, utilize o comando: “./velero get backup-locations”. | . | Verifique se todos os backups estão disponíveis e podem ser restaurados | . Restaurando Aplicações no Cluster de Destino . | Utilize a ferramenta do Velero para criar um restore e especificar um backup. Neste exemplo, o backup nomeado vpro-backup será utilizado para restaurar uma aplicação WordPress para o cluster CCE. | . Atualizar o Cluster de Destino e Validar a Migração . Atualize os campos de imagem nos arquivos yaml dentro do CCE cluster de acordo com o seu SWR. Edite os campos specs e annotations do arquivo yaml de entrada de acordo com as regras na documentação oficial da Huawei Cloud. Verifique e valide o cluster . ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce/migrating-azure-aks-to-huawei-cce#huawei-cloud",
    
    "relUrl": "/docs/containers/cce/migrating-azure-aks-to-huawei-cce#huawei-cloud"
  },"97": {
    "doc": "Migrando Azure AKS para Huawei CCE",
    "title": "Migrando Azure AKS para Huawei CCE",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce/migrating-azure-aks-to-huawei-cce",
    
    "relUrl": "/docs/containers/cce/migrating-azure-aks-to-huawei-cce"
  },"98": {
    "doc": "Migrando Cluster K8S Usando Velero",
    "title": "Migrando Cluster K8S Usando Velero",
    "content": "V1.1 – Janeiro 2024 . | Versão | Autoria | Descrição | . | V1.0 – 2023-11-29 | Wisley Paulo w0083850 | Versão inicial | . | V1.1 – 2024-01-22 | Diogo Hatz 50037923 | Atualização do documento | . | V1.1 – 2024-01-22 | Wisley Paulo w0083850 | Revisão do documento | . Este documento apresenta os procedimentos para criar um cluster CCE e implementar uma aplicação com ngix e wordpress no cluster, depois das aplicações serem testadas, realizar backup e restore do ambiente utilizando velero. ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce/migrating-k8s-cluster-using-velero#migrando-cluster-k8s-usando-velero",
    
    "relUrl": "/docs/containers/cce/migrating-k8s-cluster-using-velero#migrando-cluster-k8s-usando-velero"
  },"99": {
    "doc": "Migrando Cluster K8S Usando Velero",
    "title": "Criação cluster",
    "content": "Para iniciar acessamos o serviço do CCE e criamos o cluster conforme apresentado nas imagens abaixo (para esses teste o cluster de origem foi criado na região de Santiago e o cluster de destino na região de São Paulo): . ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce/migrating-k8s-cluster-using-velero#cria%C3%A7%C3%A3o-cluster",
    
    "relUrl": "/docs/containers/cce/migrating-k8s-cluster-using-velero#criação-cluster"
  },"100": {
    "doc": "Migrando Cluster K8S Usando Velero",
    "title": "Instalar e configurar kubectl (bastion)",
    "content": "Crie uma instância de bastion com serviço de ECS na mesma região do cluster com ip público e apenas com acesso ssh para os IPs públicos seguros para gestão do cluster. #install kubectl (Recomendado em bastion na mesma região) curl -LO \"https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl\" curl -LO \"https://dl.k8s.io/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl.sha256\" echo \"$(&lt;kubectl.sha256) kubectl\" | sha256sum --check sudo install -o root -g root -m 0755 kubectl /usr/local/bin/kubectl chmod +x kubectl mkdir -p ~/.local/bin/kubectl mv ./kubectl ~/.local/bin/kubectl cd ~/.local/bin/kubectl cp kubectl /home cd /home chmod +x kubectl mv -f kubectl /usr/local/bin cd /home mkdir -p $HOME/.kube #transferir o arquivo da console do cce para bastion mv -f cce-test-migration-kubeconfig.yaml $HOME/.kube/config #para external necessário ativar EIP (caso acesso de um bastion usar internal). Recomendamos o uso do bastion com as configurações acima kubectl config use-context internal #kubectl config use-context external kubectl cluster-info . ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce/migrating-k8s-cluster-using-velero#instalar-e-configurar-kubectl-bastion",
    
    "relUrl": "/docs/containers/cce/migrating-k8s-cluster-using-velero#instalar-e-configurar-kubectl-bastion"
  },"101": {
    "doc": "Migrando Cluster K8S Usando Velero",
    "title": "Criar cluster Nginx e Wordpress",
    "content": "https://support.huaweicloud.com/intl/en-us/qs-cce/cce_qs_0003.html . https://support.huaweicloud.com/intl/en-us/qs-cce/cce_qs_0009.html . https://res-static.hc-cdn.cn/cloudbu-site/intl/en-us/Video/cce/wordpress_en.mp4 . ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce/migrating-k8s-cluster-using-velero#criar-cluster-nginx-e-wordpress",
    
    "relUrl": "/docs/containers/cce/migrating-k8s-cluster-using-velero#criar-cluster-nginx-e-wordpress"
  },"102": {
    "doc": "Migrando Cluster K8S Usando Velero",
    "title": "Configurar os pods",
    "content": "Para realizar o snapshot de discos específicos do cluster, é preciso ser feito uma anotação no pod do disco em questão. kubectl -n &lt;namespace&gt; annotate &lt;pod/pod_name&gt; backup.velero.io/backup-volumes=&lt;volume_name_1&gt;,&lt;volume_name_2&gt;,... Exemplo: . kubectl annotate pod/wordpress-758fbf6fc7-s7fsr backup.velero.io/backup-volumes=wp-storage . ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce/migrating-k8s-cluster-using-velero#configurar-os-pods",
    
    "relUrl": "/docs/containers/cce/migrating-k8s-cluster-using-velero#configurar-os-pods"
  },"103": {
    "doc": "Migrando Cluster K8S Usando Velero",
    "title": "Instalar o Velero",
    "content": "Para esse procedimento ser realizado o workernode precisa ter um EIP, ou um NAT Gateway configurado ou as imagens do Velero no SWR. wget https://github.com/vmware-tanzu/velero/releases/download/v1.12.1/velero-v1.12.1-linux-amd64.tar.gz tar -xvf velero-v1.12.1-linux-amd64.tar.gz cp ./velero-v1.12.1-linux-amd64/velero /usr/local/bin nano credentials-velero #colocar no arquivo [default] aws_access_key_id = {AK} aws_secret_access_key = {SK} #execute o comando (para funcionar é necessário que a máquina tenha acesso a internet para baixar imagem (NAT ou EIP)). Obs: As configurações –uploader-type e –use-node-agent são relativos à criação de uma snapshot dos discos do cluster. velero install \\ --provider aws \\ --plugins velero/velero-plugin-for-aws:v1.7.1 \\ --bucket migration-velero-cce \\ --secret-file ./credentials-velero \\ --uploader-type=restic \\ --use-node-agent \\ --use-volume-snapshots=false \\ --backup-location-config region=la-south-2,s3ForcePathStyle=\"true\",s3Url=http://obs.la-south-2.myhuaweicloud.com #verifique se o pod está rodando kubectl get pod -n velero #verifique se a conexão com o bucket está ok velero backup-location get . ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce/migrating-k8s-cluster-using-velero#instalar-o-velero",
    
    "relUrl": "/docs/containers/cce/migrating-k8s-cluster-using-velero#instalar-o-velero"
  },"104": {
    "doc": "Migrando Cluster K8S Usando Velero",
    "title": "Backup com Velero",
    "content": "#Obs: A flag –default-volumes-to-fs-backup é relativa à criação de uma snapshot dos discos do cluster. velero backup create backup20231129 --default-volumes-to-fs-backup velero backup describe backup20231129 . ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce/migrating-k8s-cluster-using-velero#backup-com-velero",
    
    "relUrl": "/docs/containers/cce/migrating-k8s-cluster-using-velero#backup-com-velero"
  },"105": {
    "doc": "Migrando Cluster K8S Usando Velero",
    "title": "Restore backup do Velero",
    "content": "velero backup get velero restore create --from-backup=backup20231129 velero restore describe backup20231129-2376345178 . ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce/migrating-k8s-cluster-using-velero#restore-backup-do-velero",
    
    "relUrl": "/docs/containers/cce/migrating-k8s-cluster-using-velero#restore-backup-do-velero"
  },"106": {
    "doc": "Migrando Cluster K8S Usando Velero",
    "title": "Migrando Cluster K8S Usando Velero",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/containers/cce/migrating-k8s-cluster-using-velero",
    
    "relUrl": "/docs/containers/cce/migrating-k8s-cluster-using-velero"
  },"107": {
    "doc": "Migrando Múltiplos Discos",
    "title": "Migrando Múltiplos Discos",
    "content": "V2.0 – Maio 2024 . | Versão | Autor | Descrição | . | V1.0 – 2024-05-08 | Diogo Hatz 50037923 | Versão Inicial | . | V1.0 – 2024-05-08 | Wisley da Silva 00830850 | Revisão do Documento | . | V2.0 – 2024-05-16 | Diogo Hatz 50037923 | Atualização do Documento | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/migrating-multiple-disks#migrando-m%C3%BAltiplos-discos",
    
    "relUrl": "/docs/compute/ims/migrating-multiple-disks#migrando-múltiplos-discos"
  },"108": {
    "doc": "Migrando Múltiplos Discos",
    "title": "Introdução",
    "content": "O IMS é um serviço de gerenciamento de imagens disponível na Huawei Cloud. Além de disponibilizar uma gama de imagens públicas para livre utilização, através do IMS também é possível criar imagens privadas a partir de inúmeros formatos ou utilizar imagens disponíveis no marketplace. Este documento tem como objetivo descrever a metodologia que circunda a criação de imagens privadas a partir de discos de sistema e discos de dados. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/migrating-multiple-disks#introdu%C3%A7%C3%A3o",
    
    "relUrl": "/docs/compute/ims/migrating-multiple-disks#introdução"
  },"109": {
    "doc": "Migrando Múltiplos Discos",
    "title": "qemu-img",
    "content": "Para realizar a migração de VMs utilizando o IMS, faz-se necessário a instalação da ferramenta qemu-img para realizar a geração das imagens de sistema e disco. Instale a ferramenta através do seguinte comando: “yum install qemu-img -y”. Para verificar os paths dos discos a serem migrados, digite o comando “fdisk -l” para listar os discos presentes na VM. Importante: Tome nota do path do disco como um todo (vda), e não de somente uma partição do disco (vda1). Para exportar os discos para imagens, digite o seguinte comando “sudo qemu-img convert -f raw -O qcow2 /dev/vda /mnt/vdb/test.qcow2”, em que o parâmetro ”-O” corresponde ao formato em que a imagem será exportada (possíveis formatos: qcow2, vhd, vmdk, raw, etc), “/dev/vda” corresponde ao disco que será exportado e “/mnt/vdb/test.qcow2” corresponde à imagem que será gerada pela ferramenta. Exemplo: . sudo qemu-img convert -f raw -O qcow2 /dev/vda /mnt/vdb/test.qcow2 . Após a geração da imagem, será necessário exportar essa imagem para um bucket no OBS, o serviço de object storage da HWC. Para isso, uma das opções é a utilização da ferramenta obsutil, que permite o upload de arquivos de uma máquina Linux diretamente para um bucket do OBS através da CLI. Documentação do obsutil: https://support.huaweicloud.com/intl/en-us/utiltg-obs/obs_11_0003.html. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/migrating-multiple-disks#qemu-img",
    
    "relUrl": "/docs/compute/ims/migrating-multiple-disks#qemu-img"
  },"110": {
    "doc": "Migrando Múltiplos Discos",
    "title": "IMS",
    "content": "A fim de realizar a importação de imagens para o IMS, faz-se necessário que essas imagens estejam disponíveis em um bucket no serviço de Object Storage OBS da Huawei Cloud. Após realizar o upload dessas imagens para o bucket, navegue até a seção do serviço IMS no console da Huawei Cloud e selecione “Create Image”, na seção “Private Images”. Selecione a opção “Import Image”. Para discos de sistema, selecione, em seguida, a opção “System disk image” e clique no bucket em que a imagem está contida. Selecione a imagem do disco de sistema dentre os objetos contidos no bucket e selecione a opção “Enable automatic configuration”. Preencha, também, os campos relativos ao modo de Boot da máquina de origem, BIOS ou UEFI, o sistema operacional da máquina, o tamanho do disco de sistema e o nome da imagem a ser criada. Clique em “Next” para avançar e confirme a criação da imagem. . Aguarde até que a imagem termine de ser criada. Para realizar a criação dos discos de dados, repita o mesmo processo acima, selecionando a opção “Data disk image” em “Image Type” ao invés de “System disk image”. . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/migrating-multiple-disks#ims",
    
    "relUrl": "/docs/compute/ims/migrating-multiple-disks#ims"
  },"111": {
    "doc": "Migrando Múltiplos Discos",
    "title": "Criação da ECS",
    "content": "Após o término da criação das imagens, navegue até a imagem do disco de sistema criada e selecione “Apply for Server” para criar um servidor a partir da imagem gerada. Selecione a imagem do disco de sistema criada e preencha as demais configurações de criação da ECS. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/migrating-multiple-disks#cria%C3%A7%C3%A3o-da-ecs",
    
    "relUrl": "/docs/compute/ims/migrating-multiple-disks#criação-da-ecs"
  },"112": {
    "doc": "Migrando Múltiplos Discos",
    "title": "Criação da EVS",
    "content": "Após a criação do servidor a partir de seu disco de sistema, navegue até a imagem do disco de dados criada e selecione “Create Data Disk” para criar um disco de dados a partir da imagem gerada. Configure os parâmetros do disco a ser criado, como nome e tamanho do disco, e assinale a mesma AZ do servidor criado previamente. Caso contrário, não será possível montar o disco na ECS. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/migrating-multiple-disks#cria%C3%A7%C3%A3o-da-evs",
    
    "relUrl": "/docs/compute/ims/migrating-multiple-disks#criação-da-evs"
  },"113": {
    "doc": "Migrando Múltiplos Discos",
    "title": "Mount da EVS na ECS",
    "content": "Por último, para realizar o mount do disco de dados no servidor, navegue até a seção de ECS no console e clique na ECS criada. Após isso, clique na seção “Disks” e selecione “Attach Disk” . Selecione o disco criado e clique em “OK” para associar o disco à instância. Com o disco associado à instância, basta configurar o mount do disco através do terminal da instância. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/migrating-multiple-disks#mount-da-evs-na-ecs",
    
    "relUrl": "/docs/compute/ims/migrating-multiple-disks#mount-da-evs-na-ecs"
  },"114": {
    "doc": "Migrando Múltiplos Discos",
    "title": "Recuperar Sistema de Arquivos",
    "content": "Caso o filesystem das máquinas migradas esteja corrompido após a migração, será necessário restaura-lo através de uma VM intermediária. Para confirmar que o filesystem do disco de sistema está danificado, primeiro espere até que a seguinte mensagem apareça durante o boot. Esperar o seguinte erro aparecer antes de seguir para as próximas etapas é importante para o processo. Após a criação de uma nova ECS no console da HWC, monte os discos cujo filesystem precisarão ser restaurados na ECS intermediária. Primeiramente, remova os discos danificados da ECS original para depois os colocar na ECS intermediária. Após remover os discos da ECS original, monte-os na ECS intermediária . Faça login na ECS intermediária e digite o comando “fdisk -l” para listar os discos montados na ECS. Copie o path do device cujo filesystem está danificado, como “/dev/vdc” ou “/dev/vdb1”. Para recuperar o filesystem danificado, digite o comando “fsck /dev/vdb”, em que /dev/vdb será substituído pelo disco ou partição que precisa ser recuperada. Pressione “a” para recuperar todos os inodes corrompidos. Vale notar que o disco não precisa ser montado em um diretório para esse processo. Aguarde até que a recuperação de todos os inodes seja concluída. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/migrating-multiple-disks#recuperar-sistema-de-arquivos",
    
    "relUrl": "/docs/compute/ims/migrating-multiple-disks#recuperar-sistema-de-arquivos"
  },"115": {
    "doc": "Migrando Múltiplos Discos",
    "title": "Modificação do fstab",
    "content": "Caso a ECS apresente problemas durante a sua inicialização, siga os seguintes passos para editar a tabela de discos fstab do sistema. Vale a nota que para este passo também será necessário a utilização de uma ECS intermediária caso o filesystem da ECS original esteja definido como somente para leitura devido a uma má inicialização. Primeiramente, monte o disco de sistema em um diretório. Edite o arquivo “/etc/fstab” do disco de sistema da ECS original. Comente todas as passagens de antigos discos montados no fstab. Após isso, desmonte o disco do diretório em que foi montado e remova os discos da ECS para inserir na ECS original novamente . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/migrating-multiple-disks#modifica%C3%A7%C3%A3o-do-fstab",
    
    "relUrl": "/docs/compute/ims/migrating-multiple-disks#modificação-do-fstab"
  },"116": {
    "doc": "Migrando Múltiplos Discos",
    "title": "Referências",
    "content": ". | Documentação do SMS: https://support.huaweicloud.com/intl/en-us/bestpractice-sms/sms_05_0071.html. | Documentação do IMS: https://support.huaweicloud.com/intl/en-us/usermanual-ims/ims_01_0215.html. | Documentação do obsutil: https://support.huaweicloud.com/intl/en-us/utiltg-obs/obs_11_0003.html. | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/migrating-multiple-disks#refer%C3%AAncias",
    
    "relUrl": "/docs/compute/ims/migrating-multiple-disks#referências"
  },"117": {
    "doc": "Migrando Múltiplos Discos",
    "title": "Migrando Múltiplos Discos",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/migrating-multiple-disks",
    
    "relUrl": "/docs/compute/ims/migrating-multiple-disks"
  },"118": {
    "doc": "Migrando MySQL para GaussDB",
    "title": "Migrando MySQL para GaussDB",
    "content": "V1.0 – Abril 2024 . | Versão | Autor | Descrição | . | V1.0 – 2024-04-23 | Diogo Hatz 50037923 | Versão Inicial | . | V1.0 – 2024-04-24 | Wisley da Silva 00830850 | Revisão do Documento | . ",
    "url": "/huaweicloud-knowledge-base/docs/databases/ugo/migrating-mysql-to-gaussdb#migrando-mysql-para-gaussdb",
    
    "relUrl": "/docs/databases/ugo/migrating-mysql-to-gaussdb#migrando-mysql-para-gaussdb"
  },"119": {
    "doc": "Migrando MySQL para GaussDB",
    "title": "Introdução",
    "content": "O Database and Application Migration (UGO) é uma ferramenta gratuita disponível na Huawei Cloud para a migração de schemas de bancos de dados heterogêneos. O UGO pode converter statements em DDL para aqueles compatíveis com os bancos de dados disponíveis na Huawei Cloud, como o GaussDB e RDS. Além da migração de schemas e da avaliação da migração, o UGO pode converter automaticamente a sintaxe do banco de origem para ser compatível com o banco de destino. Este documento tem como objetivo guiar o leitor a utilizar a ferramenta UGO para a migração de bancos de dados heterogêneos para instâncias RDS ou GaussDB na HWC através de um cenário de migração de um banco de dados MySQL para GaussDB. O dataset utilizado é um dos datasets de teste do MySQL, Sakila, disponível publicamente no website do MySQL. ",
    "url": "/huaweicloud-knowledge-base/docs/databases/ugo/migrating-mysql-to-gaussdb#introdu%C3%A7%C3%A3o",
    
    "relUrl": "/docs/databases/ugo/migrating-mysql-to-gaussdb#introdução"
  },"120": {
    "doc": "Migrando MySQL para GaussDB",
    "title": "UGO",
    "content": "Para a migração do banco de dados MySQL para o GaussDB, faz-se necessário utilizar o serviço UGO disponível na HWC para a avaliação da migração e conversão da sintaxe do banco de origem para uma sintaxe compatível com o banco de destino, além da checagem da compatibilidade da engine de origem com a engine de destino. Para acessar o serviço UGO, basta pesquisar por “UGO” na lista de serviços disponíveis no console da HWC. Vale notar que o serviço somente está disponível nas regiões de Santiago e Singapura. ",
    "url": "/huaweicloud-knowledge-base/docs/databases/ugo/migrating-mysql-to-gaussdb#ugo",
    
    "relUrl": "/docs/databases/ugo/migrating-mysql-to-gaussdb#ugo"
  },"121": {
    "doc": "Migrando MySQL para GaussDB",
    "title": "DB Evaluation",
    "content": "Para realizar a migração do banco, primeiramente é necessário fazer a avaliação dos bancos de origem e destino para checar a compatibilidade entre eles. Para isso, acesse a janela “DB Evaluation”, no item “Schema Migration”, e selecione “Create Project”. Preencha as informações relativas ao banco de dados de origem, como IP público, porta, usuário e senha do banco. Vale notar que, atualmente, a ferramenta UGO não permite a migração do banco através de VPN, portanto um IP público precisa ser fornecido. Ademais, é necessário que o usuário informado à ferramenta tenha permissão de DBA no banco de origem. A caixa de opção “Skip Target DB Evaluation” precisa ser selecionada caso o banco de dados de destino já tenha sido escolhido. Caso contrário, deixe essa opção desabilitada para que o UGO faça uma análise da compatibilidade do banco de origem com o banco de destino. Após o preenchimento, realize o teste de conexão com o banco de origem e clique em “Next”. Caso o teste de conexão falhe, verifique se a porta 3306 está aberta no security group da instância do banco de origem. Após o pre-check ser feito, clique em “Next” novamente. Nesta janela, selecione os objetos do banco de origem a serem migrados, como tabelas, schemas, triggers, procedures, etc. Após isso, selecione a engine do banco de dados de destino, neste caso o GaussDB 8.1 Primary/Standby Enterprise Edition. Selecione o dataset a ser migrado. Neste caso, o dataset Sakila. Clique em “Next” para continuar. Confirme a avaliação do banco de dados de origem clicando em “Create”. Aguarde o final da avaliação do banco de dados de origem e clique em “Confirm Target DB Pending”. Confirme a engine do banco de dados de destino e clique em “Confirm DB Selection”. Clique em “Create Now” para criar um projeto de migração. Preencha as informações relativas ao banco de dados de destino, como a instância do banco de dados, o nome do banco de dados, o usuário e senha; e clique em “Test Connection” para testar a conectividade com o banco de dados de destino. Caso a conexão falhe, verifique se a porta 8000 está aberta no security group do banco de destino. Clique em “Next” para continuar. Nesta janela alguns itens de risco para a migração do banco de dados são mostrados. Clique em “View Details” para ver os detalhes dos riscos encontrados pelo UGO e confirme se os riscos efetivamente são um risco ou não. Clique em “Next” após confirmar os riscos. Clique em “Create” para confirmar o projeto de migração do banco de dados. ",
    "url": "/huaweicloud-knowledge-base/docs/databases/ugo/migrating-mysql-to-gaussdb#db-evaluation",
    
    "relUrl": "/docs/databases/ugo/migrating-mysql-to-gaussdb#db-evaluation"
  },"122": {
    "doc": "Migrando MySQL para GaussDB",
    "title": "Object Migration",
    "content": "Clique em “Migrate” no projeto de migração criado acima para começar a migração dos objetos do banco de dados. Confirme os objetos a serem migrados, bem como os objetos a não serem migrados através dos botões “Select Migration Object Types” e “Convert Specified Objects”. Clique em “Next” para continuar com a conversão dos objetos. Crie uma senha temporária para que os objetos de tipo usuário possam ser migrados. Note que após a migração é necessário manualmente mudar a senha. Clique em “Create Password” após inserir a senha. Ajuste as configurações de parâmetros conforme necessário clicando em “Edit”. Após a realização das configurações, confirme clicando em “Next”. Para iniciar o processo de conversão de sintaxe, clique em “Start” ao lado de “Pending”. Aguarde até que a sintaxe de todos os objetos seja convertida para a sintaxe compatível pelo banco de dados de destino. Após a conclusão da conversão da sintaxe, será mostrado quais objetos foram convertidos dinamicamente sem erros e quais conversões apresentaram erros. Para esta parte, é necessário checar manualmente todas as conversões de sintaxe, com erro ou sem erro, para garantir que nenhuma conversão errada foi realizada. Para analisar os detalhes das conversões de cada tipo de objeto, clique em “Details” ao lado dos objetos. Clique em “View Details” ao lado dos objetos que falharam para ser convertidos para analisar o motivo dos erros e retificar esses erros. Nesta tela, faça as modificações necessárias na janela da direita (Target) para que o objeto migrado seja compatível com o banco de dados de destino. Após fazer as modificações necessárias, clique em “Save”. Faça as alterações necessárias em todos os objetos em que a conversão automática de sintaxe apresentou erros. Após esse processo, clique em “Next” para confirmar a conversão da sintaxe dos objetos. Clique em “Start” para começar a migração dos objetos convertidos e aguarde a conclusão da migração. Faça a verificação dos resultados da migração. Após obter uma taxa de sucesso considerável, clique em “Finish” para finalizar a migração dos objetos do banco. ",
    "url": "/huaweicloud-knowledge-base/docs/databases/ugo/migrating-mysql-to-gaussdb#object-migration",
    
    "relUrl": "/docs/databases/ugo/migrating-mysql-to-gaussdb#object-migration"
  },"123": {
    "doc": "Migrando MySQL para GaussDB",
    "title": "DRS",
    "content": "Vale notar como nas etapas anteriores somente os objetos do banco de dados de origem foram migrados para o banco de dados, como as tabelas, funções e schemas. Para realizar a migração dos dados do banco, faz-se necessário criar uma task de sincronização entre os dois bancos através da ferramenta de migração de banco de dados Data Replication Service (DRS). Navegue até o serviço DRS no console da HWC. ",
    "url": "/huaweicloud-knowledge-base/docs/databases/ugo/migrating-mysql-to-gaussdb#drs",
    
    "relUrl": "/docs/databases/ugo/migrating-mysql-to-gaussdb#drs"
  },"124": {
    "doc": "Migrando MySQL para GaussDB",
    "title": "Syncronization Task",
    "content": "Navegue até a subseção “Data Synchronization Management” e clique em “Create Synchronization Task” para criar uma task do DRS. Preencha os campos da task conforme demonstrado abaixo: . Aguarde até que a instância de sincronização seja criada, processo o qual pode levar alguns minutos. Após a instância ser iniciada, preencha as informações relativas ao banco de origem e o banco de destino, como usuário, senha e IP público, e teste a conexão com ambos os bancos. Após testar as conexões, selecione o botão “Next” para continuar. Selecione as tabelas a serem sincronizadas . Aguarde pelo pre-check da sincronização ser completo. Caso algum dos parâmetros falhar na sincronização, confirme o motivo da falha . ",
    "url": "/huaweicloud-knowledge-base/docs/databases/ugo/migrating-mysql-to-gaussdb#syncronization-task",
    
    "relUrl": "/docs/databases/ugo/migrating-mysql-to-gaussdb#syncronization-task"
  },"125": {
    "doc": "Migrando MySQL para GaussDB",
    "title": "Referências",
    "content": ". | Dataset de teste Sakila: https://dev.mysql.com/doc/sakila/en/sakila-preface.html; . | Documentação do UGO: https://support.huaweicloud.com/intl/pt-br/productdesc-ugo/ugo_01_0014.html; . | . ",
    "url": "/huaweicloud-knowledge-base/docs/databases/ugo/migrating-mysql-to-gaussdb#refer%C3%AAncias",
    
    "relUrl": "/docs/databases/ugo/migrating-mysql-to-gaussdb#referências"
  },"126": {
    "doc": "Migrando MySQL para GaussDB",
    "title": "Migrando MySQL para GaussDB",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/databases/ugo/migrating-mysql-to-gaussdb",
    
    "relUrl": "/docs/databases/ugo/migrating-mysql-to-gaussdb"
  },"127": {
    "doc": "Migrando Servidores com Discos Grandes",
    "title": "Migrando Servidores com Discos Grandes",
    "content": "V1.0 – Maio 2024 . | Versão | Autor | Descrição | . | V1.0 – 2024-05-07 | Diogo Hatz 50037923 | Versão Inicial | . | V1.0 – 2024-05-07 | Wisley da Silva 00830850 | Revisão do Documento | . ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/migrating-servers-with-huge-disks#migrando-servidores-com-discos-grandes",
    
    "relUrl": "/docs/migration/sms/migrating-servers-with-huge-disks#migrando-servidores-com-discos-grandes"
  },"128": {
    "doc": "Migrando Servidores com Discos Grandes",
    "title": "Introdução",
    "content": "O SMS é uma ferramenta de migração de servidores online disponível na Huawei Cloud. Durante a migração, é possível fazer o resizing do disco da máquina de origem a fim de modificar as suas partições para melhor atender o cenário de destino da máquina. O SMS possui uma restrição no que diz respeito ao tamanho dos discos de sistema operacional, não podendo ser maiores do que 1TiB. Este documento tem como objetivo descrever a metodologia que circunda a migração de servidores com o disco de sistema operacional excedendo 1TiB. ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/migrating-servers-with-huge-disks#introdu%C3%A7%C3%A3o",
    
    "relUrl": "/docs/migration/sms/migrating-servers-with-huge-disks#introdução"
  },"129": {
    "doc": "Migrando Servidores com Discos Grandes",
    "title": "API Explorer",
    "content": "A fim de realizar a migração de máquinas com o disco de sistema operacional maiores do que 1TiB através da ferramenta SMS, faz-se necessário criar o servidor de destino manualmente e expandir o tamanho do seu disco de sistema por meio de uma API, API a qual é disponibilizada no ambiente API Explorer da Huawei Cloud. Para expandir o disco de um servidor, é necessário obter o ID do seu disco. Para isso, navegue até a seção ECS no console da Huawei Cloud, clique no servidor em que o disco está montado e clique no disco de sistema desejado: . Após obter o ID do disco que será redimensionado, navegue até a seção API Explorer do console da Huawei Cloud, passando o mouse sobre “More”, “Tools” e “API Explorer”. Selecione a seção “Elastic Volume Service EVS” e, por fim, a API “ResizeVolume”. Alternativamente, clique no seguinte link para ir diretamente até a API: https://console-intl.huaweicloud.com/apiexplorer/#/openapi/EVS/doc?api=ResizeVolume. . Na janela da API, preencha os campos em vermelho com o ID do disco selecionado anteriormente e o seu novo tamanho, em GiB. Após preencher as lacunas, basta clicar em “Debug” que o disco será redimensionado para o novo tamanho: . Após redimensionar o disco do servidor de destino para um tamanho maior do que o servidor de origem, o SMS poderá ser utilizado sem problemas para a migração do servidor para a Huawei Cloud. ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/migrating-servers-with-huge-disks#api-explorer",
    
    "relUrl": "/docs/migration/sms/migrating-servers-with-huge-disks#api-explorer"
  },"130": {
    "doc": "Migrando Servidores com Discos Grandes",
    "title": "Referências",
    "content": ". | API da EVS: https://support.huaweicloud.com/intl/pt-br/api-evs/CinderResizeVolumeV3.html. | . ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/migrating-servers-with-huge-disks#refer%C3%AAncias",
    
    "relUrl": "/docs/migration/sms/migrating-servers-with-huge-disks#referências"
  },"131": {
    "doc": "Migrando Servidores com Discos Grandes",
    "title": "Migrando Servidores com Discos Grandes",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/migrating-servers-with-huge-disks",
    
    "relUrl": "/docs/migration/sms/migrating-servers-with-huge-disks"
  },"132": {
    "doc": "Migrando SOs Não Suportados",
    "title": "Migrando SOs Não Suportados",
    "content": "V1.0 – Maio 2024 . | Versão | Autor | Descrição | . | V1.0 – 2024-05-17 | Diogo Hatz 50037923 | Versão Inicial | . | V1.0 – 2024-05-17 | Wisley da Silva 00830850 | Revisão do Documento | . ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/migrating-unsupported-os#migrando-sos-n%C3%A3o-suportados",
    
    "relUrl": "/docs/migration/sms/migrating-unsupported-os#migrando-sos-não-suportados"
  },"133": {
    "doc": "Migrando SOs Não Suportados",
    "title": "Introdução",
    "content": "O SMS é uma ferramenta de migração de servidores online disponível na Huawei Cloud. Além da migração de servidores de inúmeros sistemas operacionais, também é possível realizar a sincronização entre servidores com a função de sync. No entanto, o SMS possui restrições sobre certos sistemas operacionais específicos, os quais podem ser verificados na documentação presente nas referências. Este documento tem como objetivo descrever a metodologia que circunda a migração de servidores cujos SOs não são suportados pela ferramenta SMS através do SMS. Vale notar que não é garantido que esse processo funcionará, tendo em vista que o SMS não é compatível com certos sistemas operacionais e é possível que configurações adicionais precisem ser feitas. ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/migrating-unsupported-os#introdu%C3%A7%C3%A3o",
    
    "relUrl": "/docs/migration/sms/migrating-unsupported-os#introdução"
  },"134": {
    "doc": "Migrando SOs Não Suportados",
    "title": "SMS-Agent",
    "content": "A fim de realizar a migração de VMs que possuem um sistema operacional não suportado pelo SMS, primeiramente é necessário alterar o arquivo que contém o nome que representa a versão do sistema operacional para fazer com que o SMS não falhe durante o precheck da migração. Para realizar essa modificação, faça login no ambiente de origem e digite o seguinte comando, em que “Amazon_2018_3_64BIT” pode ser substituído por quaisquer versões compatíveis com o SMS. echo \"Amazon_2018_3_64BIT\" &gt; /root/RainbowOsFile . Após a configuração sido feita, navegue até a seção relativa ao serviço do SMS no console da HWC e delete as tarefas de migração com erro. Depois, entre no diretório de instalação do agente do SMS na máquina de origem e reinicie o agente rodando o script “./restart.sh”. Insira as chaves AK/SK assim como o endpoint do SMS para configurar novamente o agente do SMS. ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/migrating-unsupported-os#sms-agent",
    
    "relUrl": "/docs/migration/sms/migrating-unsupported-os#sms-agent"
  },"135": {
    "doc": "Migrando SOs Não Suportados",
    "title": "Erro de Inicialização da ECS Migrada",
    "content": "Caso a máquina migrada apresente problemas durante a inicialização, como ficar presa no processo de boot, é possível que alguns ajustes precisem ser feitos na máquina migrada. Abaixo há uma lista de alguns erros conhecidos. Caso nenhuma das soluções abaixo resolva o problema, é recomendado que um ticket seja aberto para que os especialistas possam averiguar o problema com maior precisão. Para realizar as seguintes configurações, será necessário remover o disco de sistema da máquina migrada como um disco de dados em uma ECS intermediária da seguinte forma. Após a criação de uma nova ECS no console da HWC, monte os discos na máquina intermediária. Primeiramente, remova os discos danificados da ECS original para depois os colocar na ECS intermediária. Após remover os discos da ECS original, monte-os na ECS intermediária . ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/migrating-unsupported-os#erro-de-inicializa%C3%A7%C3%A3o-da-ecs-migrada",
    
    "relUrl": "/docs/migration/sms/migrating-unsupported-os#erro-de-inicialização-da-ecs-migrada"
  },"136": {
    "doc": "Migrando SOs Não Suportados",
    "title": "IPV6",
    "content": "Caso o erro durante a inicialização da ECS se assemelhe à imagem abaixo, é possível que o erro é relativo a uma configuração de IPV6 na máquina. Para resolver esse erro, desmonte o disco de sistema da máquina migrada e o conecte à ECS intermediária. Monte o disco de sistema em um novo diretório (neste exemplo foi montado na pasta /mnt) com o comando “mount” e acesse o seguinte arquivo: “vim /mnt/etc/sysconfig/network-scripts/ifcfg-eth0”. Comente as duas seguintes linhas no arquivo e salve o arquivo com “:wq”. Observação: caso o erro “Failed to Mount Wrong FS Type, Bad Option, Bad Superblock on Linux” apareça durante a montagem do disco, pule para a etapa 3.2 deste documento. Agora desmonte o disco montado com o comando “umount”, remova o disco de sistema da máquina migrada da ECS intermediária e a conecte novamente na ECS migrada. Ligue-a e verifique se a máquina inicializa sem erros. Para garantir que a funcionalidade de Sync funcione sem quebrar a máquina migrada, realize a seguinte configuração no script do agente do SMS na VM de origem: . Após esse ajuste, a funcionalidade de Sync deve funcionar sem demais problemas. ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/migrating-unsupported-os#ipv6",
    
    "relUrl": "/docs/migration/sms/migrating-unsupported-os#ipv6"
  },"137": {
    "doc": "Migrando SOs Não Suportados",
    "title": "Sistema de Arquivos",
    "content": "Caso o filesystem das máquinas migradas esteja corrompido após a migração, será necessário restaura-lo através de uma VM intermediária. Para confirmar que o filesystem do disco de sistema está danificado, primeiro espere até que a seguinte mensagem apareça durante o boot. Esperar o seguinte erro aparecer antes de seguir para as próximas etapas é importante para o processo. Faça login na ECS intermediária e digite o comando “fdisk -l” para listar os discos montados na ECS. Copie o path do device cujo filesystem está danificado, como “/dev/vdc” ou “/dev/vdb1”. Para recuperar o filesystem danificado, digite o comando “fsck /dev/vdb”, em que /dev/vdb será substituído pelo disco ou partição que precisa ser recuperada. Pressione “a” para recuperar todos os inodes corrompidos. Vale notar que o disco não precisa ser montado em um diretório para esse processo. Aguarde até que a recuperação de todos os inodes seja concluída, remova o disco de sistema da máquina migrada da ECS intermediária e a conecte novamente na ECS migrada. Ligue-a e verifique se a máquina inicializa sem erros. ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/migrating-unsupported-os#sistema-de-arquivos",
    
    "relUrl": "/docs/migration/sms/migrating-unsupported-os#sistema-de-arquivos"
  },"138": {
    "doc": "Migrando SOs Não Suportados",
    "title": "Fstab",
    "content": "Caso a ECS apresente problemas durante a sua inicialização, siga os seguintes passos para editar a tabela de discos fstab do sistema. Vale a nota que para este passo também será necessário a utilização de uma ECS intermediária caso o filesystem da ECS original esteja definido como somente para leitura devido a uma má inicialização. Primeiramente, monte o disco de sistema em um diretório. Edite o arquivo “/etc/fstab” do disco de sistema da ECS original. Comente todas as passagens de antigos discos montados no fstab. Após isso, desmonte o disco do diretório em que foi montado e remova os discos da ECS para inserir na ECS original novamente . ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/migrating-unsupported-os#fstab",
    
    "relUrl": "/docs/migration/sms/migrating-unsupported-os#fstab"
  },"139": {
    "doc": "Migrando SOs Não Suportados",
    "title": "Referências",
    "content": ". | Documentação do SMS: https://support.huaweicloud.com/intl/en-us/productdesc-sms/sms3_01_0012.html. | . ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/migrating-unsupported-os#refer%C3%AAncias",
    
    "relUrl": "/docs/migration/sms/migrating-unsupported-os#referências"
  },"140": {
    "doc": "Migrando SOs Não Suportados",
    "title": "Migrando SOs Não Suportados",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/migration/sms/migrating-unsupported-os",
    
    "relUrl": "/docs/migration/sms/migrating-unsupported-os"
  },"141": {
    "doc": "Dados de Monitoramento Através de Chamadas de API",
    "title": "Dados de Monitoramento Através de Chamadas de API",
    "content": "V1.0 – Março 2024 . | Versão | Autor | Descrição | . | V1.0 – 2024-03-08 | Diogo Hatz 50037923 | Versão Inicial | . | V1.0 – 2024-03-08 | Wisley da Silva 00830850 | Revisão do Documento | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/monitoring-data-through-api-calling#dados-de-monitoramento-atrav%C3%A9s-de-chamadas-de-api",
    
    "relUrl": "/docs/management-and-governance/ces/monitoring-data-through-api-calling#dados-de-monitoramento-através-de-chamadas-de-api"
  },"142": {
    "doc": "Dados de Monitoramento Através de Chamadas de API",
    "title": "Introdução",
    "content": "O Cloud Eye (CES) é uma ferramenta gratuita para o monitoramento de recursos da Huawei Cloud. Além do monitoramento de recursos, o Cloud Eye também pode ser utilizado para criar alarmes baseados em eventos ou métricas, identificar o mau funcionamento de recursos e rapidamente reagir à mudança de recursos. Vale ressaltar que, por mais que o Cloud Eye seja um serviço gratuito, as cobranças geradas pelo envio de notificações ao disparar alarmes são cobradas. Este documento tem como objetivo descrever as principais funcionalidades do serviço Cloud Eye e guiar o leitor a utilizar a API do Cloud Eye para o monitoramento de recursos da nuvem, como VPNs, através de requisições. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/monitoring-data-through-api-calling#introdu%C3%A7%C3%A3o",
    
    "relUrl": "/docs/management-and-governance/ces/monitoring-data-through-api-calling#introdução"
  },"143": {
    "doc": "Dados de Monitoramento Através de Chamadas de API",
    "title": "API do CloudEye",
    "content": "Para realizar o monitoramento de recursos provisionados na Huawei Cloud através de APIs, é necessário, primeiramente, obter uma lista das métricas de monitoramento do serviço desejado com os seus respectivos parâmetros. Para isso, identifique a namespace do serviço que se deseja realizar o monitoramento através do seguinte hyperlink: https://support.huaweicloud.com/intl/en-us/api-ces/ces_03_0059.html. O namespace de monitoramento do serviço de VPN, por exemplo, se configura como “SYS.VPN”. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/monitoring-data-through-api-calling#api-do-cloudeye",
    
    "relUrl": "/docs/management-and-governance/ces/monitoring-data-through-api-calling#api-do-cloudeye"
  },"144": {
    "doc": "Dados de Monitoramento Através de Chamadas de API",
    "title": "API relativa à listagem das métricas de monitoramento",
    "content": "Para realizar a listagem das métricas de monitoramento de determinado serviço, basta utilizar a API “ListMetrics” disponibilizada na HWC. Atenção: Para obter as métricas de monitoramento de determinado serviço, é necessário que pelo menos um recurso ou instância desse serviço esteja provisionado na região em que a API está apontando. Para este guia, será utilizado o serviço API Explorer da Huawei Cloud para facilitar a visualização dos parâmetros da API. O serviço API Explorer pode ser acessado através do seguinte link: https://console-intl.huaweicloud.com/apiexplorer/#/openapi/CES/doc?version=v1&amp;api=ListMetrics, ou então através do passo-a-passo abaixo: . Para esta API, basta preencher os parâmetros relativos à região em que o recurso a ser monitorado está provisionado, ao id do projeto do recurso e o namespace do recurso, que foi obtido no item 3.0 deste guia. Para obter o id do projeto do recurso, basta navegar até a seguinte página do console: . Após preencher os parâmetros necessários, clique em “Debug” para obter o json relativo às métricas de monitoramento existentes para a namespace do recurso desejado. A resposta da requisição será a listagem das métricas de monitoramento para o recurso desejado, como é possível ser observado na figura abaixo: . A documentação desta API pode ser visualizada no seguinte link, para maior detalhamento das configurações da API: https://support.huaweicloud.com/intl/en-us/api-ces/ces_03_0023.html . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/monitoring-data-through-api-calling#api-relativa-%C3%A0-listagem-das-m%C3%A9tricas-de-monitoramento",
    
    "relUrl": "/docs/management-and-governance/ces/monitoring-data-through-api-calling#api-relativa-à-listagem-das-métricas-de-monitoramento"
  },"145": {
    "doc": "Dados de Monitoramento Através de Chamadas de API",
    "title": "API relativa à consulta dos dados de monitoramento",
    "content": "A API que realizará a query para os dados do monitoramento de determinado serviço é a API “BatchListMetricData”, que pode ser acessada através do seguinte link: https://console-intl.huaweicloud.com/apiexplorer/#/openapi/CES/debug?version=v1&amp;api=BatchListMetricData ; ou então através do seguinte passo-a-passo: . Para esta API, preencha todos os parâmetros disponíveis na API. Os parâmetros metric_name, name e value foram retornados pela API relativo ao item 3.1 deste guia, ao passo em que o parâmetro namespace foi obtido no item 3.0 deste documento. Para as demais configurações, é possível ver quais parâmetros colocar nos campos abaixo: . | period: Possíveis valores: 1, 300, 1200, 3600, 14400 ou 86400: . | 1: Não é feita agregação, os dados são mostrados em formato bruto; . | 300: A agregação dos dados é feita a cada 5 minutos; . | 1200: A agregação dos dados é feita a cada 20 minutos; . | 3600: A agregação dos dados é feita a cada 60 minutos; . | 14400: A agregação dos dados é feita a cada 4 horas; . | 86400: A agregação dos dados é feita a cada 24 horas. | . | filter: Possíveis valores: max, min, average, sum ou variance. | Max: Retorna os valores máximos dos dados; . | Min: Retorna os valores mínimos dos dados; . | Average: Retorna uma média dos dados; . | Variance: Retorna a variância dos dados. | . | from: O período de início da busca. Este parâmetro de tempo adota a unidade UNIX de tempo em milissegundos. Um conversor de tempo padrão para UNIX pode ser acessado na seguinte página: https://www.unixtimestamp.com/. Após realizar a conversão, adicione três zeros (0) ao número, para esse ser representado em milissegundos. | to: O período de fim da busca. Este parâmetro de tempo adota a unidade UNIX de tempo em milissegundos. Um conversor de tempo padrão para UNIX pode ser acessado na seguinte página: https://www.unixtimestamp.com/. Após realizar a conversão, adicione três zeros (0) ao número, para esse ser representado em milissegundos. | . Exemplo de requisição: . Após o preenchimento de todos os parâmetros, selecione o botão de “Debug” para obter a resposta da requisição da API: . A métrica utilizada como exemplo é relativa à quantidade de conexões presentes no gateway de determinada VPN. A documentação desta API pode ser visualizada no seguinte link, para maior detalhamento: https://support.huaweicloud.com/intl/en-us/api-ces/ces_03_0034.html . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/monitoring-data-through-api-calling#api-relativa-%C3%A0-consulta-dos-dados-de-monitoramento",
    
    "relUrl": "/docs/management-and-governance/ces/monitoring-data-through-api-calling#api-relativa-à-consulta-dos-dados-de-monitoramento"
  },"146": {
    "doc": "Dados de Monitoramento Através de Chamadas de API",
    "title": "Demais configurações das requisições",
    "content": "Para obter um template do header e body da requisição da API, utilize o serviço API Explorer listado acima da Huawei Cloud ou refira à documentação através do seguinte link: https://support.huaweicloud.com/intl/en-us/api-ces/ces_03_0002.html . Seguindo o passo-a-passo da documentação é possível visualizar como estruturar a requisição, o endpoint do request, a autenticação, etc. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/monitoring-data-through-api-calling#demais-configura%C3%A7%C3%B5es-das-requisi%C3%A7%C3%B5es",
    
    "relUrl": "/docs/management-and-governance/ces/monitoring-data-through-api-calling#demais-configurações-das-requisições"
  },"147": {
    "doc": "Dados de Monitoramento Através de Chamadas de API",
    "title": "Anexos",
    "content": " ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/monitoring-data-through-api-calling#anexos",
    
    "relUrl": "/docs/management-and-governance/ces/monitoring-data-through-api-calling#anexos"
  },"148": {
    "doc": "Dados de Monitoramento Através de Chamadas de API",
    "title": "Métricas de monitoramento de VPN Gateway",
    "content": "| Métricas | Suportado | . | Taxa de pacotes de entrada | Sim | . | Taxa de pacotes de saída | Sim | . | Largura de banda de entrada | Sim | . | Largura de banda de saída | Sim | . | Uso de largura de banda de entrada | Sim | . | Número de conexões | Sim | . | Uso de largura de banda de saída | Sim | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/monitoring-data-through-api-calling#m%C3%A9tricas-de-monitoramento-de-vpn-gateway",
    
    "relUrl": "/docs/management-and-governance/ces/monitoring-data-through-api-calling#métricas-de-monitoramento-de-vpn-gateway"
  },"149": {
    "doc": "Dados de Monitoramento Através de Chamadas de API",
    "title": "Métricas de monitoramento da conexão VPN",
    "content": "| Métricas | Suportado | . | Média de RTT do túnel | Sim | . | Máximo de RTT do túnel | Sim | . | Taxa de perda de pacotes do túnel | Sim | . | Média de link RTT | Sim | . | Máximo de link RTT | Sim | . | Taxa de perda de pacotes do link | Sim | . | Status da conexão VPN | Sim | . | Taxa de recebimento de pacotes | Sim | . | Taxa de envio de pacotes | Sim | . | Taxa de recebimento de tráfego | Sim | . | Taxa de envio de tráfego | Sim | . | Taxa de envio de pacote SA | Sim | . | Taxa de recebimento de pacote SA | Sim | . | Taxa de envio de tráfego SA | Sim | . | Taxa de recebimento de tráfego SA | Sim | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/monitoring-data-through-api-calling#m%C3%A9tricas-de-monitoramento-da-conex%C3%A3o-vpn",
    
    "relUrl": "/docs/management-and-governance/ces/monitoring-data-through-api-calling#métricas-de-monitoramento-da-conexão-vpn"
  },"150": {
    "doc": "Dados de Monitoramento Através de Chamadas de API",
    "title": "Referências",
    "content": ". | Documentação do CES: https://support.huaweicloud.com/intl/en-us/function-ces/index.html . | API do CloudEye: https://support.huaweicloud.com/intl/en-us/api-ces/en-us_topic_0171212514.html . | API ListMetrics: https://support.huaweicloud.com/intl/en-us/api-ces/ces_03_0023.html . | API BatchListMetricData: https://support.huaweicloud.com/intl/en-us/api-ces/ces_03_0034.html . | Cloud Eye API: https://support.huaweicloud.com/intl/en-us/api-ces/ces_03_0002.html . | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/monitoring-data-through-api-calling#refer%C3%AAncias",
    
    "relUrl": "/docs/management-and-governance/ces/monitoring-data-through-api-calling#referências"
  },"151": {
    "doc": "Dados de Monitoramento Através de Chamadas de API",
    "title": "Dados de Monitoramento Através de Chamadas de API",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/monitoring-data-through-api-calling",
    
    "relUrl": "/docs/management-and-governance/ces/monitoring-data-through-api-calling"
  },"152": {
    "doc": "Funções Ativadas pelo OBS",
    "title": "Funções Ativadas pelo OBS",
    "content": "V1.0 – Julho 2024 . | Versão | Autor | Descrição | . | V1.0 – 2024-07-04 | Diogo Hatz d50037923 | Versão Inicial | . | V1.0 – 2024-07-04 | Wisley da Silva Paulo 00830850 | Revisão do Documento | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/obs-triggered-functions#fun%C3%A7%C3%B5es-ativadas-pelo-obs",
    
    "relUrl": "/docs/compute/functiongraph/obs-triggered-functions#funções-ativadas-pelo-obs"
  },"153": {
    "doc": "Funções Ativadas pelo OBS",
    "title": "Objetivo",
    "content": "Este documento objetiva apresentar os procedimentos necessários para a criação de uma função no serviço serverless FunctionGraph da Huawei Cloud com ativação por meio de upload de novos objetos em buckets do OBS. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/obs-triggered-functions#objetivo",
    
    "relUrl": "/docs/compute/functiongraph/obs-triggered-functions#objetivo"
  },"154": {
    "doc": "Funções Ativadas pelo OBS",
    "title": "Agency",
    "content": "Para delegar permissões do serviço de object storage (OBS) para o FunctionGraph, faz-se necessário criar uma agency com permissões sobre o OBS. Navegue até o serviço IAM no console da Huawei Cloud e clique na página “Agencies”. Clique para criar uma agency em “Create Agency”. Dê um nome para a agency, selecione o tipo de agency como “Cloud Service” e selecione o serviço FunctionGraph. Clique em “Next” para avançar. Delegue permissões de “OBS ReadOnlyAccess” para a agency e clique em “Next” e, então, em “OK” para concluir. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/obs-triggered-functions#agency",
    
    "relUrl": "/docs/compute/functiongraph/obs-triggered-functions#agency"
  },"155": {
    "doc": "Funções Ativadas pelo OBS",
    "title": "FunctionGraph",
    "content": "Acesse o serviço FunctionGraph no console da Huawei Cloud e navegue até a página Functions &gt; Function List. Clique em “Create Function”. Selecione a opção “Create from scratch”, dê um nome para a função, selecione o runtime em que a função será executada e selecione a agency criada no item 2.0 deste documento. Tendo criada a função, clique em “Create Trigger” para criar um trigger para a função ser ativada. Selecione o Trigger Type como sendo “Object Storage Service (OBS)”, selecione o bucket desejado e o Event como “ObjectCreated”, para que a função seja ativada toda vez que um novo objeto aparecer no bucket em questão. Também é possível configurar um prefixo e um sufixo dos objetos específicos que irão acionar a função, configurando um Prefix ou Suffix. Tendo criado o trigger, agora basta importar o código que será executado pela função em Code Source, como APIs. Também é possível adicionar dependências e bibliotecas third-party navegando até a parte de baixo do painel da função. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/obs-triggered-functions#functiongraph",
    
    "relUrl": "/docs/compute/functiongraph/obs-triggered-functions#functiongraph"
  },"156": {
    "doc": "Funções Ativadas pelo OBS",
    "title": "Exemplo",
    "content": "Neste exemplo, uma função em Python foi escrita para realizar uma requisição em um servidor web rodando em uma ECS toda vez que um novo objeto aparecer no bucket definido no item 3.0 deste documento. Realizando o upload de um objeto no bucket definido: . Resultado no listener do servidor: . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/obs-triggered-functions#exemplo",
    
    "relUrl": "/docs/compute/functiongraph/obs-triggered-functions#exemplo"
  },"157": {
    "doc": "Funções Ativadas pelo OBS",
    "title": "Referências",
    "content": ". | Documentação do FunctionGraph: https://support.huaweicloud.com/intl/en-us/usermanual-functiongraph/functiongraph_01_0205.html | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/obs-triggered-functions#refer%C3%AAncias",
    
    "relUrl": "/docs/compute/functiongraph/obs-triggered-functions#referências"
  },"158": {
    "doc": "Funções Ativadas pelo OBS",
    "title": "Funções Ativadas pelo OBS",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/obs-triggered-functions",
    
    "relUrl": "/docs/compute/functiongraph/obs-triggered-functions"
  },"159": {
    "doc": "Integração com Pipelines",
    "title": "Integração com Pipelines",
    "content": "V1.0 – Julho 2024 . | Versão | Autor | Descrição | . | V1.0 – 2024-07-16 | Diogo Hatz d50037923 | Versão Inicial | . | V1.0 – 2024-07-16 | Wisley da Silva Paulo 00830850 | Revisão do Documento | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/pipeline-integration#integra%C3%A7%C3%A3o-com-pipelines",
    
    "relUrl": "/docs/compute/functiongraph/pipeline-integration#integração-com-pipelines"
  },"160": {
    "doc": "Integração com Pipelines",
    "title": "Objetivo",
    "content": "Este documento objetiva apresentar os procedimentos necessários para a integração de uma função do serviço serverless FunctionGraph da Huawei Cloud rodando uma imagem de container com processos de CI/CD por meio de pipelines. Desta forma, é possível garantir que a imagem do container da função do FunctionGraph esteja sempre atualizada. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/pipeline-integration#objetivo",
    
    "relUrl": "/docs/compute/functiongraph/pipeline-integration#objetivo"
  },"161": {
    "doc": "Integração com Pipelines",
    "title": "Considerações",
    "content": "Importante: Para realizar a integração do FunctionGraph com pipelines, basta realizar o upload da imagem atualizada no serviço de repositório de imagens SWR da Huawei Cloud. No entanto, é mandatório que tanto o nome da imagem quanto a sua tag sejam iguais às da imagem que originou a função do FunctionGraph, para garantir que o URL dessa imagem seja igual à configurada na função no momento de sua criação. Também é possível alterar o URL da imagem associada à função através da seguinte API: https://support.huaweicloud.com/intl/en-us/api-functiongraph/functiongraph_06_0111.html. Existem duas abordagens para essa integração: utilizando pipelines do serviço CodeArts Pipelines da HWC ou utilizando pipelines de serviços third-party. Ambas abordagens serão exploradas abaixo: . | CodeArts Pipeline: Na configuração da task de Build, basta selecionar a opção “Build Image and Push to SWR”. A imagem será buildada e, então, automaticamente publicada no repositório SWR; . | Pipeline third-party: Na etapa final da pipeline, basta adicionar uma ação para realizar o upload da imagem no repositório SWR. | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/pipeline-integration#considera%C3%A7%C3%B5es",
    
    "relUrl": "/docs/compute/functiongraph/pipeline-integration#considerações"
  },"162": {
    "doc": "Integração com Pipelines",
    "title": "Organização do SWR",
    "content": "Navegue até o serviço SWR no console da Huawei Cloud. Clique na aba “Organizations” e clique em “Create Organization”. Dê um nome para a organização e clique em “OK” para confirmar a criação da organização. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/pipeline-integration#organiza%C3%A7%C3%A3o-do-swr",
    
    "relUrl": "/docs/compute/functiongraph/pipeline-integration#organização-do-swr"
  },"163": {
    "doc": "Integração com Pipelines",
    "title": "CodeArts",
    "content": "Para realizar a integração de uma função do FunctionGraph com uma pipeline criada no serviço CodeArts Pipelines da Huawei Cloud, basta criar uma task de build no CodeArts Build de acordo com o passo-a-passo abaixo. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/pipeline-integration#codearts",
    
    "relUrl": "/docs/compute/functiongraph/pipeline-integration#codearts"
  },"164": {
    "doc": "Integração com Pipelines",
    "title": "Service Endpoint",
    "content": "Navegue até o serviço CodeArts Req no console da Huawei Cloud. Caso essa seja a primeira vez entrando no serviço, será requisitada a criação de um projeto do CodeArts. Entre nas configurações do projeto criado do CodeArts clicando em “Settings” &gt; “General” &gt; “Service Endpoints” &gt; “Create Endpoint”. Selecione o serviço em que o código-fonte relativo ao Dockerfile se encontra. Selecione o tipo de autenticação com o repositório e clique em “Authorize and Confirm” para fazer a autenticação com o repositório. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/pipeline-integration#service-endpoint",
    
    "relUrl": "/docs/compute/functiongraph/pipeline-integration#service-endpoint"
  },"165": {
    "doc": "Integração com Pipelines",
    "title": "CodeArts Build",
    "content": "Criado o endpoint do repositório, navegue até o serviço CodeArts Build e clique em “Create Task” para criar uma tarefa de Build. Dê um nome para a tarefa, selecione o tipo de Code Source em que o código-fonte do Dockerfile se encontrará. Configure o Service Endpoint criado no item 4.1 deste documento, selecione o repositório e a branch do repositório e clique em “Next”. Selecione o template de build “Maven and Container” e clique em “OK”. Apague a etapa de build com Maven do processo de build. Clique na etapa de build “Build Image and Push to SWR”, selecione a versão do Docker desejada, o repositório da imagem como sendo SWR e a organização criada no item 3.0 deste documento. Importante: Para o nome e tag da imagem, é necessário que ambos sejam fixos, uma vez que as mudanças relativas à imagem no FunctionGraph somente serão refletidas para determinado par de nome e tag. Recomenda-se usar a tag latest. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/pipeline-integration#codearts-build",
    
    "relUrl": "/docs/compute/functiongraph/pipeline-integration#codearts-build"
  },"166": {
    "doc": "Integração com Pipelines",
    "title": "CodeArts Pipelines",
    "content": "Navegue até a seção do serviço CodeArts Pipelines no console da Huawei Cloud e clique em “Create Pipeline”. Defina um nome para a pipeline, o serviço onde se encontra o código-fonte do Dockerfile e o endpoint criado no item 4.1 deste documento. Configure, também, o repositório em que o código-fonte se encontra e a sua branch. Clique em “Next” para avançar e selecione o template “Blank Template”. Em “Stage_1”, apague o “New Job” existente e crie um job para Build. Na configuração do estágio de Build, associe a task criada no item 4.2 deste documento e o repositório em que o código-fonte do Dockerfile se encontra. . Para adicionar um trigger à pipeline, clique em “Task Orchestration” acima e selecione a opção “Execution Plan”. Selecione o tipo de trigger, como code commit ou merge request. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/pipeline-integration#codearts-pipelines",
    
    "relUrl": "/docs/compute/functiongraph/pipeline-integration#codearts-pipelines"
  },"167": {
    "doc": "Integração com Pipelines",
    "title": "Pipeline third-party",
    "content": "Para realizar a integração de uma função do FunctionGraph com uma pipeline third-party, basta realizar o upload da imagem depois do seu build no repositório SWR da HWC através da adição de uma task do Docker no estágio final da pipeline, de acordo com os comandos executados abaixo. Segue a documentação da task “Docker@2” do Docker na Azure como referência: https://learn.microsoft.com/en-us/azure/devops/pipelines/tasks/reference/docker-v2?view=azure-pipelines&amp;tabs=yaml. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/pipeline-integration#pipeline-third-party",
    
    "relUrl": "/docs/compute/functiongraph/pipeline-integration#pipeline-third-party"
  },"168": {
    "doc": "Integração com Pipelines",
    "title": "Obtendo um login permanente no SWR",
    "content": "Gerando uma AK/SK . Para obter credenciais permanentes de autenticação com o SWR, primeiramente faça login no console da Huawei Cloud e acesse o serviço Identity and Access Management (IAM), clique em “User Groups” e então em “Create User Group”. Dê um nome para o grupo e clique em “OK”. Clique em “Authorize” ao lado do grupo criado, selecione a policy “SWR Admin”, seguido por “OK” e “Finish”. Agora para criar um novo usuário, clique em “Create User”. Dê um nome para o usuário, desabilite a caixa “Management console access” e habilite a caixa “Access key”. Clique em “Next” para avançar, adicione o usuário ao grupo criado acima e então clique em “Create”. Clique em “OK” para baixar a chave AK/SK gerada, que será utilizada para a criação das credencias de autenticação com o Docker posteriormente. Gerando as credenciais do Docker . Faça login em uma máquina qualquer rodando o sistema operacional Linux e digite o seguinte comando, substituindo os campos “AK” e “SK” pela chave AK/SK gerada no item 5.1.1 deste documento. printf \"AK\" | openssl dgst -binary -sha256 -hmac \"SK\" | od -An -vtx1 | sed 's/\\[ \\\\n\\]//g' | sed 'N;s/\\\\n//' . Após a execução do comando, uma chave será gerada. Basta substituir a chave gerada no comando abaixo no campo “Login key” e a AK no campo “AK” para obter o comando de autenticação do Docker com o repositório SWR. docker login -u [Regional project name]@[AK] -p [Login key] [Image repository address] . Para a região de Santiago, por exemplo, o “Regional Project Name” é la-south-2, ao passo em que o “Image repository address” é swr.la-south-2.myhuaweicloud.com. Segue um exemplo do comando de autenticação: . docker login -u la-south-2@RVHVMX\\*\\*\\*\\*\\*\\* -p cab4ceab4a1545\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\* swr.la-south-2.myhuaweicloud.com . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/pipeline-integration#obtendo-um-login-permanente-no-swr",
    
    "relUrl": "/docs/compute/functiongraph/pipeline-integration#obtendo-um-login-permanente-no-swr"
  },"169": {
    "doc": "Integração com Pipelines",
    "title": "Fazendo o upload da imagem no SWR",
    "content": "Feito o login no repositório SWR através do Docker, copie o seguinte comando, alterando os campos [image name 1:tag 1], [Image repositor address], [Organization name] e [Image name 2:tag 2] de acordo com a lista abaixo: . | [Image name 1:tag 1]: {nome:tag} da imagem que será feito o upload; . | [Image repositor address]: Domínio do SWR. Pode ser obtido no comando de login obtido no item 5.1.2 deste documento; . | [Organization name]: Nome da organização criada no item 3.0 deste documento; . | [Image name 2:tag 2]: {nome:tag} da imagem que aparecerá no SWR. Similar a uma renomeação, o mesmo nome e tag podem ser mantidos. | . docker tag {Image name 1:tag 1} {Image repository address} {Organization name} {Image name 2:tag 2} . Exemplo: . docker tag novo:1.0 swr.la-south-2.myhuaweicloud.com/adada/serase . Agora bata realizar o upload da imagem com o seguinte comando: . docker push {Image repository address} {Organization name} {Image name 2:tag 2} . Exemplo: . docker push swr.la-south-2.myhuaweicloud.com/adada/serase . Na página do serviço do SWR no console da HWC é possível ver que a imagem foi publicada com sucesso no repositório: . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/pipeline-integration#fazendo-o-upload-da-imagem-no-swr",
    
    "relUrl": "/docs/compute/functiongraph/pipeline-integration#fazendo-o-upload-da-imagem-no-swr"
  },"170": {
    "doc": "Integração com Pipelines",
    "title": "Criando a task da pipeline",
    "content": "A task final da pipeline em si consistirá em uma série de comandos executados no Docker que seguirão o seguinte workflow: . | Fazer login no Registry em que a imagem buildada se encontra; . | Fazer o pull da imagem do Registry original; . | Fazer logout do Registry; . | Fazer login no repositório SWR da Huawei; . | Associar uma tag à imagem do item 2; . | Fazer o push da imagem no repositório SWR da Huawei; . | Fazer logout do repositório SWR; . | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/pipeline-integration#criando-a-task-da-pipeline",
    
    "relUrl": "/docs/compute/functiongraph/pipeline-integration#criando-a-task-da-pipeline"
  },"171": {
    "doc": "Integração com Pipelines",
    "title": "FunctionGraph",
    "content": "Tendo garantido que o nome e tag da imagem publicada no SWR através da Pipeline for exatamente a mesma que a imagem associada à função no FunctionGraph, as mudanças feitas na imagem serão refletidas na função do FunctionGraph. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/pipeline-integration#functiongraph",
    
    "relUrl": "/docs/compute/functiongraph/pipeline-integration#functiongraph"
  },"172": {
    "doc": "Integração com Pipelines",
    "title": "Exemplo",
    "content": "Neste exemplo, uma pipeline foi criada para que, toda vez que um commit for feito na branch master do repositório Teste especificado, a pipeline será ativada e irá fazer o build da imagem do Docker de acordo com o Dockerfile no repositório, realizar o upload no repositório SWR da Huawei Cloud e, por consequência, atualizar a função do FunctionGraph. Realizando o commit no repositório do GitHub: . Pipeline acionada: . Build completo, pipeline concluída: . É possível ver no repositório do SWR que a imagem foi atualizada: . Como a imagem possui o mesmo URL que a imagem associada à função do FunctionGraph, as mudanças serão refletidas na função desejada. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/pipeline-integration#exemplo",
    
    "relUrl": "/docs/compute/functiongraph/pipeline-integration#exemplo"
  },"173": {
    "doc": "Integração com Pipelines",
    "title": "Referências",
    "content": ". | Documentação do FunctionGraph: https://support.huaweicloud.com/intl/en-us/api-functiongraph/functiongraph_06_0111.html. | Documentação do SWR: https://support.huaweicloud.com/intl/en-us/usermanual-swr/swr_01_1000.html. | Documentação da Azure Pipeline Tasks: https://learn.microsoft.com/en-us/azure/devops/pipelines/tasks/reference/docker-v2?view=azure-pipelines&amp;tabs=yaml. | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/pipeline-integration#refer%C3%AAncias",
    
    "relUrl": "/docs/compute/functiongraph/pipeline-integration#referências"
  },"174": {
    "doc": "Integração com Pipelines",
    "title": "Integração com Pipelines",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/functiongraph/pipeline-integration",
    
    "relUrl": "/docs/compute/functiongraph/pipeline-integration"
  },"175": {
    "doc": "Criando uma Imagem Privada OracleOS 7.9",
    "title": "Criando uma Imagem Privada OracleOS 7.9",
    "content": "V1.0 – Junho 2024 . | Versão | Autor | Descrição | . | V1.0 – 2024-06-06 | Diogo Hatz d50037923 | Versão Inicial | . | V1.0 – 2024-06-06 | Wisley da Silva Paulo 00830850 | Revisão do Documento | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-7-9-image#criando-uma-imagem-privada-oracleos-79",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-7-9-image#criando-uma-imagem-privada-oracleos-79"
  },"176": {
    "doc": "Criando uma Imagem Privada OracleOS 7.9",
    "title": "Objetivo",
    "content": "Este documento objetiva apresentar os procedimentos necessários para criação de imagem do OracleOS 7.9 utilizando o serviço de IMS. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-7-9-image#objetivo",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-7-9-image#objetivo"
  },"177": {
    "doc": "Criando uma Imagem Privada OracleOS 7.9",
    "title": "Criação imagem OracleOS",
    "content": "Faça o download da imagem ISO do OracleOS (exemplo - https://yum.oracle.com/oracle-linux-isos.html) e faça o upload no OBS. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-7-9-image#cria%C3%A7%C3%A3o-imagem-oracleos",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-7-9-image#criação-imagem-oracleos"
  },"178": {
    "doc": "Criando uma Imagem Privada OracleOS 7.9",
    "title": "Importe a imagem ISO do OracleOS no serviço IMS.",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-7-9-image#importe-a-imagem-iso-do-oracleos-no-servi%C3%A7o-ims",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-7-9-image#importe-a-imagem-iso-do-oracleos-no-serviço-ims"
  },"179": {
    "doc": "Criando uma Imagem Privada OracleOS 7.9",
    "title": "Crie uma ECS usando a imagem criada com o importe da imagem ISO.",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-7-9-image#crie-uma-ecs-usando-a-imagem-criada-com-o-importe-da-imagem-iso",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-7-9-image#crie-uma-ecs-usando-a-imagem-criada-com-o-importe-da-imagem-iso"
  },"180": {
    "doc": "Criando uma Imagem Privada OracleOS 7.9",
    "title": "Acesse a instância e abra o terminal shell",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-7-9-image#acesse-a-inst%C3%A2ncia-e-abra-o-terminal-shell",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-7-9-image#acesse-a-instância-e-abra-o-terminal-shell"
  },"181": {
    "doc": "Criando uma Imagem Privada OracleOS 7.9",
    "title": "Vincule um EIP à máquina",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-7-9-image#vincule-um-eip-%C3%A0-m%C3%A1quina",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-7-9-image#vincule-um-eip-à-máquina"
  },"182": {
    "doc": "Criando uma Imagem Privada OracleOS 7.9",
    "title": "Instalar KVM",
    "content": "Adicione o drivers do KVM no arquivo: “/etc/dracut.conf”: . vi /etc/dracut.conf virtio_blk virtio_scsi virtio_net virtio_pci virtio_ring virtio . dracut -f /boot/initramfs-2.6.32-573.8.1.el6.x86\\_64.img . Substituia “initramfs-2.6.32-573.8.1.el6.x86_64.img” pelo initramfs utilizado pelo kernel atual. Para verificar o arquivo initramfs por kernel, verifique no arquivo /boot/grub2/grub.cfg. Para verificar se os drivers foram instalados, digite o seguinte comando . lsinitrd /boot/initramfs-\\`uname -r\\`.img | grep virtio . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-7-9-image#instalar-kvm",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-7-9-image#instalar-kvm"
  },"183": {
    "doc": "Criando uma Imagem Privada OracleOS 7.9",
    "title": "Edite a interface de rede eth0",
    "content": "vi /etc/sysconfig/network-scripts/ifcfg-eth0 . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-7-9-image#edite-a-interface-de-rede-eth0",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-7-9-image#edite-a-interface-de-rede-eth0"
  },"184": {
    "doc": "Criando uma Imagem Privada OracleOS 7.9",
    "title": "Instalar e configurar o cloud-init",
    "content": "yum update -y yum install cloud-init -y . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-7-9-image#instalar-e-configurar-o-cloud-init",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-7-9-image#instalar-e-configurar-o-cloud-init"
  },"185": {
    "doc": "Criando uma Imagem Privada OracleOS 7.9",
    "title": "Instale o plugin de troca de senha da HWC",
    "content": "vi /etc/selinux/config . systemctl reboot wget &lt;https://ap-southeast-2-cloud-reset-pwd.obs.ap-southeast-2.myhuaweicloud.com/linux/64/reset_pwd_agent/CloudResetPwdAgent.zip&gt; unzip CloudResetPwdAgent.zip cd CloudResetPwdAgent/CloudResetPwdAgent.Linux chmod +x setup.sh sudo sh setup.sh chmod 700 /CloudrResetPwdAgent/bin/cloudResetPwdAgent.script chmod 700 /CloudrResetPwdAgent/bin/wrapper chmod 600 /CloudrResetPwdAgent/lib/\\* systemctl start cloudResetPwdAgent systemctl enable cloudResetPwdAgent . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-7-9-image#instale-o-plugin-de-troca-de-senha-da-hwc",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-7-9-image#instale-o-plugin-de-troca-de-senha-da-hwc"
  },"186": {
    "doc": "Criando uma Imagem Privada OracleOS 7.9",
    "title": "(opcional) Troque o kernel default do Grub para o kernel que será utilizado",
    "content": "https://docs.oracle.com/en/learn/oracle-linux-kernels/#change-the-default-kernel . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-7-9-image#opcional-troque-o-kernel-default-do-grub-para-o-kernel-que-ser%C3%A1-utilizado",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-7-9-image#opcional-troque-o-kernel-default-do-grub-para-o-kernel-que-será-utilizado"
  },"187": {
    "doc": "Criando uma Imagem Privada OracleOS 7.9",
    "title": "(opcional) Caso algum dos kernels apresente erros para a inicialização, digite o seguinte comando",
    "content": "dracut --regenerate-all –force . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-7-9-image#opcional-caso-algum-dos-kernels-apresente-erros-para-a-inicializa%C3%A7%C3%A3o-digite-o-seguinte-comando",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-7-9-image#opcional-caso-algum-dos-kernels-apresente-erros-para-a-inicialização-digite-o-seguinte-comando"
  },"188": {
    "doc": "Criando uma Imagem Privada OracleOS 7.9",
    "title": "Para a instância e criar a imagem:",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-7-9-image#para-a-inst%C3%A2ncia-e-criar-a-imagem",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-7-9-image#para-a-instância-e-criar-a-imagem"
  },"189": {
    "doc": "Criando uma Imagem Privada OracleOS 7.9",
    "title": "Criando uma Imagem Privada OracleOS 7.9",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-7-9-image",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-7-9-image"
  },"190": {
    "doc": "Criando uma Imagem Privada OracleOS 9.4",
    "title": "Criando uma Imagem Privada OracleOS 9.4",
    "content": "V1.0 – Junho 2024 . | Versão | Autor | Descrição | . | V1.0 – 2024-06-06 | Diogo Hatz d50037923 | Versão Inicial | . | V1.0 – 2024-06-06 | Wisley da Silva Paulo 00830850 | Revisão do Documento | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-9-4-image#criando-uma-imagem-privada-oracleos-94",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-9-4-image#criando-uma-imagem-privada-oracleos-94"
  },"191": {
    "doc": "Criando uma Imagem Privada OracleOS 9.4",
    "title": "Objetivo",
    "content": "Este documento objetiva apresentar os procedimentos necessários para criação de imagem do OracleOS 9.4 utilizando o serviço de IMS. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-9-4-image#objetivo",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-9-4-image#objetivo"
  },"192": {
    "doc": "Criando uma Imagem Privada OracleOS 9.4",
    "title": "Criação imagem OracleOS",
    "content": "Faça o download da imagem ISO do Ubuntu Server (exemplo - https://yum.oracle.com/oracle-linux-isos.html) e faça o upload no OBS. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-9-4-image#cria%C3%A7%C3%A3o-imagem-oracleos",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-9-4-image#criação-imagem-oracleos"
  },"193": {
    "doc": "Criando uma Imagem Privada OracleOS 9.4",
    "title": "Importe a imagem ISO do OracleOS no serviço IMS.",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-9-4-image#importe-a-imagem-iso-do-oracleos-no-servi%C3%A7o-ims",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-9-4-image#importe-a-imagem-iso-do-oracleos-no-serviço-ims"
  },"194": {
    "doc": "Criando uma Imagem Privada OracleOS 9.4",
    "title": "Crie uma ECS usando a imagem criada com o importe da imagem ISO.",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-9-4-image#crie-uma-ecs-usando-a-imagem-criada-com-o-importe-da-imagem-iso",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-9-4-image#crie-uma-ecs-usando-a-imagem-criada-com-o-importe-da-imagem-iso"
  },"195": {
    "doc": "Criando uma Imagem Privada OracleOS 9.4",
    "title": "Acesse a instância e abra o terminal shell",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-9-4-image#acesse-a-inst%C3%A2ncia-e-abra-o-terminal-shell",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-9-4-image#acesse-a-instância-e-abra-o-terminal-shell"
  },"196": {
    "doc": "Criando uma Imagem Privada OracleOS 9.4",
    "title": "Vincule um EIP à máquina",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-9-4-image#vincule-um-eip-%C3%A0-m%C3%A1quina",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-9-4-image#vincule-um-eip-à-máquina"
  },"197": {
    "doc": "Criando uma Imagem Privada OracleOS 9.4",
    "title": "Instalar e configurar o cloud-init",
    "content": "yum update -y yum install cloud-init -y . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-9-4-image#instalar-e-configurar-o-cloud-init",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-9-4-image#instalar-e-configurar-o-cloud-init"
  },"198": {
    "doc": "Criando uma Imagem Privada OracleOS 9.4",
    "title": "Instale o plugin de troca de senha da HWC",
    "content": "vi /etc/selinux/config . systemctl reboot wget &lt;https://ap-southeast-2-cloud-reset-pwd.obs.ap-southeast-2.myhuaweicloud.com/linux/64/reset_pwd_agent/CloudResetPwdAgent.zip&gt; unzip CloudResetPwdAgent.zip cd CloudResetPwdAgent/CloudResetPwdAgent.Linux chmod +x setup.sh sudo sh setup.sh chmod 700 /CloudrResetPwdAgent/bin/cloudResetPwdAgent.script chmod 700 /CloudrResetPwdAgent/bin/wrapper chmod 600 /CloudrResetPwdAgent/lib/\\* systemctl start cloudResetPwdAgent systemctl enable cloudResetPwdAgent . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-9-4-image#instale-o-plugin-de-troca-de-senha-da-hwc",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-9-4-image#instale-o-plugin-de-troca-de-senha-da-hwc"
  },"199": {
    "doc": "Criando uma Imagem Privada OracleOS 9.4",
    "title": "(opcional) Troque o kernel default do Grub para o kernel que será utilizado",
    "content": "https://docs.oracle.com/en/learn/oracle-linux-kernels/#change-the-default-kernel . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-9-4-image#opcional-troque-o-kernel-default-do-grub-para-o-kernel-que-ser%C3%A1-utilizado",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-9-4-image#opcional-troque-o-kernel-default-do-grub-para-o-kernel-que-será-utilizado"
  },"200": {
    "doc": "Criando uma Imagem Privada OracleOS 9.4",
    "title": "(opcional) Caso algum dos kernels apresente erros para a inicialização, digite o seguinte comando",
    "content": "dracut --regenerate-all –force . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-9-4-image#opcional-caso-algum-dos-kernels-apresente-erros-para-a-inicializa%C3%A7%C3%A3o-digite-o-seguinte-comando",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-9-4-image#opcional-caso-algum-dos-kernels-apresente-erros-para-a-inicialização-digite-o-seguinte-comando"
  },"201": {
    "doc": "Criando uma Imagem Privada OracleOS 9.4",
    "title": "Para a instância e criar a imagem:",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-9-4-image#para-a-inst%C3%A2ncia-e-criar-a-imagem",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-9-4-image#para-a-instância-e-criar-a-imagem"
  },"202": {
    "doc": "Criando uma Imagem Privada OracleOS 9.4",
    "title": "Criando uma Imagem Privada OracleOS 9.4",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-oracle-os-9-4-image",
    
    "relUrl": "/docs/compute/ims/creating-a-private-oracle-os-9-4-image"
  },"203": {
    "doc": "Criando uma Imagem Privada Ubuntu",
    "title": "Criando uma Imagem Privada Ubuntu",
    "content": "V1.0 – Novembro 2023 . | Versão | Autor | Descrição | . | V1.0 – 2023-11-20 | Wisley da Silva Paulo 00830850 | Versão Inicial | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-ubuntu-image#criando-uma-imagem-privada-ubuntu",
    
    "relUrl": "/docs/compute/ims/creating-a-private-ubuntu-image#criando-uma-imagem-privada-ubuntu"
  },"204": {
    "doc": "Criando uma Imagem Privada Ubuntu",
    "title": "Objetivo",
    "content": "Este documento objetiva apresentar os procedimentos necessários para criação de imagem do Ubuntu 20.04 com UEFI utilizando o serviço de IMS. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-ubuntu-image#objetivo",
    
    "relUrl": "/docs/compute/ims/creating-a-private-ubuntu-image#objetivo"
  },"205": {
    "doc": "Criando uma Imagem Privada Ubuntu",
    "title": "Criação imagem Ubuntu",
    "content": " ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-ubuntu-image#cria%C3%A7%C3%A3o-imagem-ubuntu",
    
    "relUrl": "/docs/compute/ims/creating-a-private-ubuntu-image#criação-imagem-ubuntu"
  },"206": {
    "doc": "Criando uma Imagem Privada Ubuntu",
    "title": "Faça o download da imagem ISO do Ubuntu Server (exemplo - https://releases.ubuntu.com/focal/) e faça o upload no OBS.",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-ubuntu-image#fa%C3%A7a-o-download-da-imagem-iso-do-ubuntu-server-exemplo---httpsreleasesubuntucomfocal-e-fa%C3%A7a-o-upload-no-obs",
    
    "relUrl": "/docs/compute/ims/creating-a-private-ubuntu-image#faça-o-download-da-imagem-iso-do-ubuntu-server-exemplo---httpsreleasesubuntucomfocal-e-faça-o-upload-no-obs"
  },"207": {
    "doc": "Criando uma Imagem Privada Ubuntu",
    "title": "Importe a imagem ISO do ubuntu no serviço IMS.",
    "content": ". Obs.: No momento da criação deste documento quando selecionamos UEFI e Ubuntu não aparece as opções para versões 18.04 e 20.04, mas isso foi reportado ao time de produto que informou e a alteração será feita em dezembro de 2023. Nesse momento pode selecionar a opção 16.04 que o sistema irá funcionar normalmente. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-ubuntu-image#importe-a-imagem-iso-do-ubuntu-no-servi%C3%A7o-ims",
    
    "relUrl": "/docs/compute/ims/creating-a-private-ubuntu-image#importe-a-imagem-iso-do-ubuntu-no-serviço-ims"
  },"208": {
    "doc": "Criando uma Imagem Privada Ubuntu",
    "title": "Crie uma ECS usando a imagem criada com o importe da imagem ISO.",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-ubuntu-image#crie-uma-ecs-usando-a-imagem-criada-com-o-importe-da-imagem-iso",
    
    "relUrl": "/docs/compute/ims/creating-a-private-ubuntu-image#crie-uma-ecs-usando-a-imagem-criada-com-o-importe-da-imagem-iso"
  },"209": {
    "doc": "Criando uma Imagem Privada Ubuntu",
    "title": "Acesso a instância e abra o terminal shell",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-ubuntu-image#acesso-a-inst%C3%A2ncia-e-abra-o-terminal-shell",
    
    "relUrl": "/docs/compute/ims/creating-a-private-ubuntu-image#acesso-a-instância-e-abra-o-terminal-shell"
  },"210": {
    "doc": "Criando uma Imagem Privada Ubuntu",
    "title": "Instalar KVM",
    "content": "Adicione o drivers do virtio no arquivo: “/etc/initramfs-tools/modules”: . nano /etc/initramfs-tools/modules virtio_blk virtio_scsi virtio_net virtio_pci virtio_ring virtio . update-initramfs -u . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-ubuntu-image#instalar-kvm",
    
    "relUrl": "/docs/compute/ims/creating-a-private-ubuntu-image#instalar-kvm"
  },"211": {
    "doc": "Criando uma Imagem Privada Ubuntu",
    "title": "Instale e inicie o openssh",
    "content": "apt update apt install openssh-server -y service sshd start . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-ubuntu-image#instale-e-inicie-o-openssh",
    
    "relUrl": "/docs/compute/ims/creating-a-private-ubuntu-image#instale-e-inicie-o-openssh"
  },"212": {
    "doc": "Criando uma Imagem Privada Ubuntu",
    "title": "Configura o sshd.conf",
    "content": "nano /etc/ssh/sshd_config . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-ubuntu-image#configura-o-sshdconf",
    
    "relUrl": "/docs/compute/ims/creating-a-private-ubuntu-image#configura-o-sshdconf"
  },"213": {
    "doc": "Criando uma Imagem Privada Ubuntu",
    "title": "Instalar e configurar o cloud-init",
    "content": "(apt install cloud-init não está funcionando para versão 20.04, instala a versão 23 e ela está com problemas de compatibilidade) . apt remove cloud-init apt purge cloud-init rm -rf /var/lib/cloud/* rm -rf /var/log/cloud-init* rm -rf /var/lib/cloud rm -rf /etc/cloud rm -rf /usr/local/bin/cloud* apt update apt install cloud-guest-utils -y apt install python3-pip -y apt install python3-devel wget https://launchpad.net/cloud-init/trunk/19.1/+download/cloud-init-19.1.tar.gz tar -zxvf cloud-init-19.1.tar.gz cd cloud-init-19.1 pip3 install -r ./requirements.txt python3 setup.py install cloud-init -v cloud-init init --local nano /etc/cloud/cloud.cfg . Altere os parâmetros conforme imagens, adicione as linhas no final do arquivo: . - name: root lock_passwd: False ssh_pwauth: true . . datasource_list: [ OpenStack ] datasource: OpenStack: metadata_urls: ['http://169.254.169.254'] max_wait: 120 timeout: 5 apply_network_config: false network: config: disabled . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-ubuntu-image#instalar-e-configurar-o-cloud-init",
    
    "relUrl": "/docs/compute/ims/creating-a-private-ubuntu-image#instalar-e-configurar-o-cloud-init"
  },"214": {
    "doc": "Criando uma Imagem Privada Ubuntu",
    "title": "Verifique o cloud-init, caso apresente algum erro tente reiniciar a instância e execute o comando novamente:",
    "content": "sudo cloud-init init --local . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-ubuntu-image#verifique-o-cloud-init-caso-apresente-algum-erro-tente-reiniciar-a-inst%C3%A2ncia-e-execute-o-comando-novamente",
    
    "relUrl": "/docs/compute/ims/creating-a-private-ubuntu-image#verifique-o-cloud-init-caso-apresente-algum-erro-tente-reiniciar-a-instância-e-execute-o-comando-novamente"
  },"215": {
    "doc": "Criando uma Imagem Privada Ubuntu",
    "title": "Para a instância e criar a imagem:",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-ubuntu-image#para-a-inst%C3%A2ncia-e-criar-a-imagem",
    
    "relUrl": "/docs/compute/ims/creating-a-private-ubuntu-image#para-a-instância-e-criar-a-imagem"
  },"216": {
    "doc": "Criando uma Imagem Privada Ubuntu",
    "title": "Criando uma Imagem Privada Ubuntu",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-ubuntu-image",
    
    "relUrl": "/docs/compute/ims/creating-a-private-ubuntu-image"
  },"217": {
    "doc": "Criando uma Imagem Privada do Workspace para Windows 10 e Ubuntu",
    "title": "Criando uma Imagem Privada do Workspace para Windows 10 e Ubuntu",
    "content": "V1.0 – Novembro 2023 . | Versão | Autor | Descrição | . | V1.0 – 2023-11-09 | Wisley da Silva Paulo 00830850 | Versão Inicial | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#criando-uma-imagem-privada-do-workspace-para-windows-10-e-ubuntu",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#criando-uma-imagem-privada-do-workspace-para-windows-10-e-ubuntu"
  },"218": {
    "doc": "Criando uma Imagem Privada do Workspace para Windows 10 e Ubuntu",
    "title": "Objetivo",
    "content": "Este documento objetiva colher e formalizar informações necessárias para a implementação criação de imagens privadas no serviço IMS para serem utilizadas no serviço de Workspace da Huawei Cloud. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#objetivo",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#objetivo"
  },"219": {
    "doc": "Criando uma Imagem Privada do Workspace para Windows 10 e Ubuntu",
    "title": "Criação imagem Windows 10",
    "content": ". | Faço o download da imagem ISO do Windows 10 no site da Microsoft. | Faça o download dos pacotes conforme apresentado no link (https://support.huaweicloud.com/intl/en-us/usermanual-workspace/workspace_06_0507.html) e adicione em um bucket para facilitar a transferência para a máquina no momento da instalação. | Depois de baixar a imagem ISO do Windows 10 e todos os pacotes realize o procedimento do link (https://support.huaweicloud.com/intl/en-us/usermanual-workspace/workspace_06_0508.html) para adicionar drivers no arquivo ISO. | Inicie a instalação e configure o driver conforme o demonstrado no link (https://support.huaweicloud.com/intl/en-us/usermanual-ims/en-us_topic_0146474784.html). | Acesse o CD abra a pasta vmtools que foi adicionada na ISO e instale o vmtools. | . Ative o usuário Administrator clicando com botão direto do mouse no botão iniciar, acessando opção “Computer Management”, acesse a opção “Local User…”, depois “User”, clique com botão direito no usuário Administrator, propriedades e depois desmarque a opção de desabilitar o usuário. Repita o procedimento para acessar o usuário e configure uma senha para o usuário. Faço logoff com usuário atual e o login com o usuário Administrator. . Efetue os ajuste indicados no link (https://support.huaweicloud.com/intl/en-us/usermanual-workspace/workspace_06_0510.html) até o item 56. Ignore o item marcado em vermelho nesse item. Pode ignorar os itens entre 40 e 49 . Itens 50 a 56 apenas verificações (raramente é necessário ajuste). Efetue a instalação dos softwares indicados no link (https://support.huaweicloud.com/intl/en-us/usermanual-workspace/workspace_06_0510.html) do item 57 em diante. Verifique no painel de controle se os programas foram instalados . Antes da instalação da última ferramenta (Workspace_HDP_WindowsDesktop_Installer) garanta que todas as atualizações do sistema operacional foram realizadas, caso contrário pode receber o erro: . Esse comando tem um erro a palavra marcada falta uma letra “n” o comando correto é: run_silent.bat –passive –environment_type 2 –nocheck –noshutdown . Quando inicializar o acesso do Administrator estará indisponível, login com usuário criado na instalação e set uma nova senha para o Administrator, faça o login com Administrator para o procedimento ser finalizado. Com todos os ajustes da instância realizados, agora utilizamos a ECS para criação da imagem, basta parar a ECS e na opção more selecionar “Manage Image” e depois Create Image. Com a imagem criada e aparecendo no serviço de IMS já está disponível para ser utilizada no serviço do Workspace. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#cria%C3%A7%C3%A3o-imagem-windows-10",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#criação-imagem-windows-10"
  },"220": {
    "doc": "Criando uma Imagem Privada do Workspace para Windows 10 e Ubuntu",
    "title": "Criação imagem Ubuntu",
    "content": "Faça o download da imagem ISO do Ubuntu Desktop (são suportados no momento do documento as versões 18.04.5-desktop-amd64 ou ubuntu-20.04.5.0-desktop-amd64 - https://mu.releases.ubuntu.com/20.04.5/ - https://old-releases.ubuntu.com/releases/18.04.5/) e faça o upload no OBS. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#cria%C3%A7%C3%A3o-imagem-ubuntu",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#criação-imagem-ubuntu"
  },"221": {
    "doc": "Criando uma Imagem Privada do Workspace para Windows 10 e Ubuntu",
    "title": "Importe a imagem ISO do ubuntu no serviço IMS.",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#importe-a-imagem-iso-do-ubuntu-no-servi%C3%A7o-ims",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#importe-a-imagem-iso-do-ubuntu-no-serviço-ims"
  },"222": {
    "doc": "Criando uma Imagem Privada do Workspace para Windows 10 e Ubuntu",
    "title": "",
    "content": " ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#-1",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#-1"
  },"223": {
    "doc": "Criando uma Imagem Privada do Workspace para Windows 10 e Ubuntu",
    "title": "Crie uma ECS usando a imagem criada com o importe da imagem ISO.",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#crie-uma-ecs-usando-a-imagem-criada-com-o-importe-da-imagem-iso",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#crie-uma-ecs-usando-a-imagem-criada-com-o-importe-da-imagem-iso"
  },"224": {
    "doc": "Criando uma Imagem Privada do Workspace para Windows 10 e Ubuntu",
    "title": "Acesso a instância e abra o terminal shell",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#acesso-a-inst%C3%A2ncia-e-abra-o-terminal-shell",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#acesso-a-instância-e-abra-o-terminal-shell"
  },"225": {
    "doc": "Criando uma Imagem Privada do Workspace para Windows 10 e Ubuntu",
    "title": "Instale os pacotes libxcb-xinerama0, gawk",
    "content": "sudo su apt update apt install libxcb-xinerama0 -y apt install gawk -y . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#instale-os-pacotes-libxcb-xinerama0-gawk",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#instale-os-pacotes-libxcb-xinerama0-gawk"
  },"226": {
    "doc": "Criando uma Imagem Privada do Workspace para Windows 10 e Ubuntu",
    "title": "Install the Linux Kernel (For Ubuntu 20.04 Only)",
    "content": "apt install linux-image-5.15.0-72-generic -y apt install linuxheaders-5.15.0-72-generic -y apt install linux-modules-extra-5.15.0-72-generic -y grep menuentry /boot/grub/grub.cfg . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#install-the-linux-kernel-for-ubuntu-2004-only",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#install-the-linux-kernel-for-ubuntu-2004-only"
  },"227": {
    "doc": "Criando uma Imagem Privada do Workspace para Windows 10 e Ubuntu",
    "title": "Registre a localização da versão 5.15.0-72, como mostrado na figura do kernel:",
    "content": "sudo nano /etc/default/grub . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#registre-a-localiza%C3%A7%C3%A3o-da-vers%C3%A3o-5150-72-como-mostrado-na-figura-do-kernel",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#registre-a-localização-da-versão-5150-72-como-mostrado-na-figura-do-kernel"
  },"228": {
    "doc": "Criando uma Imagem Privada do Workspace para Windows 10 e Ubuntu",
    "title": "Instale e inicie o openssh",
    "content": "apt update apt install openssh-server -y service sshd start . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#instale-e-inicie-o-openssh",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#instale-e-inicie-o-openssh"
  },"229": {
    "doc": "Criando uma Imagem Privada do Workspace para Windows 10 e Ubuntu",
    "title": "Configura o sshd.conf",
    "content": "nano /etc/ssh/sshd_config . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#configura-o-sshdconf",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#configura-o-sshdconf"
  },"230": {
    "doc": "Criando uma Imagem Privada do Workspace para Windows 10 e Ubuntu",
    "title": "Instalar python 3",
    "content": "apt install python3 -y python3 --version . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#instalar-python-3",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#instalar-python-3"
  },"231": {
    "doc": "Criando uma Imagem Privada do Workspace para Windows 10 e Ubuntu",
    "title": "Instalar e configurar o cloud-init",
    "content": "apt install cloud-init -y nano /etc/cloud/cloud.cfg . Altere o parâmetro disable_root para false, adicione as linhas no final . do arquivo, ajuste os módulos config comentando a linha “locale”, na lista de módulos de inicialização coloque o ssh como primeiro item : . datasource_list: [ OpenStack ] datasource: OpenStack: metadata_urls: ['http://169.254.169.254'] max_wait: 120 timeout: 5 network: config: disabled . Verifique o cloud-init, caso apresente algum erro tente reiniciar a instância e execute o comando novamente: . sudo cloud-init init --local . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#instalar-e-configurar-o-cloud-init",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#instalar-e-configurar-o-cloud-init"
  },"232": {
    "doc": "Criando uma Imagem Privada do Workspace para Windows 10 e Ubuntu",
    "title": "Instalar KVM",
    "content": "Adicione o drivers do virtio no arquivo: “/etc/initramfs-tools/modules”: . nano /etc/initramfs-tools/modules virtio_blk virtio_scsi virtio_net virtio_pci virtio_ring virtio . update-initramfs -u . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#instalar-kvm",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#instalar-kvm"
  },"233": {
    "doc": "Criando uma Imagem Privada do Workspace para Windows 10 e Ubuntu",
    "title": "Baixe o pacote do HDA",
    "content": "wget https://workspace-hdp-gray-cn-east-3.obs.cn-east-3.myhuaweicloud.com/WorkspaceHDP/HDPAgent/23.05.5/Workspace_HDP_LinuxDesktop_23.5.5.0922.iso cp Workspace_HDP_LinuxDesktop_23.5.5.0922.iso /tmp . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#baixe-o-pacote-do-hda",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#baixe-o-pacote-do-hda"
  },"234": {
    "doc": "Criando uma Imagem Privada do Workspace para Windows 10 e Ubuntu",
    "title": "Instalar o HAD",
    "content": "mount /tmp/Workspace_HDP_LinuxDesktop_23.5.5.0922.iso /mnt cd /mnt /bin/bash autorun.sh # O sistema vai reiniciar rm -rf /tmp/Workspace_HDP_LinuxDesktop_23.5.5.0922.iso cat /usr/local/hdpserver/version.txt sudo apt-mark hold `uname -r` . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#instalar-o-had",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#instalar-o-had"
  },"235": {
    "doc": "Criando uma Imagem Privada do Workspace para Windows 10 e Ubuntu",
    "title": "Limpe o cache",
    "content": "cd /usr/local/hdpserver/hwsysagent/scripts20 bash cleanCache.sh . touch /usr/share/glib-2.0/schemas/19_mysettings.gschema.override nano /usr/share/glib-2.0/schemas/19_mysettings.gschema.override . sudo glib-compile-schemas /usr/share/glib-2.0/schemas . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#limpe-o-cache",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#limpe-o-cache"
  },"236": {
    "doc": "Criando uma Imagem Privada do Workspace para Windows 10 e Ubuntu",
    "title": "Para a instância e criar a imagem:",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#para-a-inst%C3%A2ncia-e-criar-a-imagem",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image#para-a-instância-e-criar-a-imagem"
  },"237": {
    "doc": "Criando uma Imagem Privada do Workspace para Windows 10 e Ubuntu",
    "title": "Criando uma Imagem Privada do Workspace para Windows 10 e Ubuntu",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-10-and-ubuntu-workspace-image"
  },"238": {
    "doc": "Criando uma Imagem Privada do Windows",
    "title": "Criando uma Imagem Privada do Windows",
    "content": "V1.0 – Janeiro 2024 . | Versão | Autor | Descrição | . | V1.0 – 2024-01-02 | Diogo Hatz 50037923 | Versão Inicial | . | V1.0 – 2024-01-02 | Wisley Paulo 00830850 | Revisão do Documento | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#criando-uma-imagem-privada-do-windows",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#criando-uma-imagem-privada-do-windows"
  },"239": {
    "doc": "Criando uma Imagem Privada do Windows",
    "title": "Introdução",
    "content": "O Image Management Service (IMS) é um serviço disponibilizado na Huawei Cloud que permite a administração de imagens. Imagens são nada mais que servidores em cloud ou templates de disco que contêm um sistema operacional (SO), dados de serviço ou software. Este documento tem como finalidade discorrer o passo-a-passo de como fazer a criação de imagens personalizadas no IMS na Huawei Cloud a partir de arquivos ISO externos à Huawei Cloud. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#introdu%C3%A7%C3%A3o",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#introdução"
  },"240": {
    "doc": "Criando uma Imagem Privada do Windows",
    "title": "Preparação da ISO",
    "content": "A fim de prover as instâncias geradas a partir do arquivo ISO com acesso à internet e às demais funcionalidades de uma VM, faz-se necessária a instalação de drivers do VMTools nessas instâncias. Para isso, o driver do VMTools será integrado ao arquivo ISO desejado por meio do software AnyBurn, que pode ser baixado através do seguinte hyperlink: http://www.anyburn.com/index.htm. Ademais, o pacote de drivers do VMTools pode ser baixado através do seguinte link: https://ecs-instance-driver.obs.cn-north-1.myhuaweicloud.com/vmtools-windows.zip. Após instalar o AnyBurn e extrair os arquivos do pacote de drivers do VMTools do arquivo “vmtools-windows.zip”, abra o software instalado do AnyBurn e clique em “Browse/Extract image file”. Selecione o diretório da pasta “vmtools-windows” e selecione o arquivo “vmtools-windows.iso”. Clique em “Next” duas vezes. Selecione o diretório para onde os arquivos da iso serão extraídos. Como sugestão, selecione a pasta “vmtools-windows” previamente extraída e clique em “Next”. Volte ao menu inicial do software AnyBurn e selecione a opção “Edit image file”. Selecione o diretório da iso da imagem a ser criada e clique em “Next”. Neste caso, o arquivo selecionado será a iso do Windows server 2019. Selecione a opção “More” e clique em “New Folder”. Nomeie a pasta como “vmtools-windows”. Clique na pasta criada e em “Add+”. Selecione os quatro arquivos extraídos da iso “vmtools-windows.iso” e clique em “Next” e posteriormente em “Create now”. Aguarde até que a barra de progresso chegue ao fim. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#prepara%C3%A7%C3%A3o-da-iso",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#preparação-da-iso"
  },"241": {
    "doc": "Criando uma Imagem Privada do Windows",
    "title": "Upload da ISO",
    "content": "Para realizar o upload da ISO da instância a ser criada, o serviço de storage OBS será utilizado. Acesse o console da Huawei Cloud e vá até a seção do OBS. Caso o aplicativo OBS Browser + não esteja instalado em seu computador, leia a seção 3.1. Caso contrário, pule para a seção 3.2. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#upload-da-iso",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#upload-da-iso"
  },"242": {
    "doc": "Criando uma Imagem Privada do Windows",
    "title": "OBS Browser +",
    "content": "Dentro do OBS, clique em “Download” no ícone representando o OBS Browser +. Baixe e instale o software do OBS Browser +. Retorne ao console da Huawei Cloud, coloque o mouse em cima do seu ID da Huawei Cloud e clique em “My Credentials”. Clique em “Access Keys”, “Create Access Keys”, “Ok” e “Download”. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#obs-browser-",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#obs-browser-"
  },"243": {
    "doc": "Criando uma Imagem Privada do Windows",
    "title": "Upload da ISO no bucket",
    "content": "Na seção do OBS dentro do console da Huawei Cloud, clique em “Create Bucket”. Dê um nome para o bucket e selecione “Standard” em “Default Storage Class”. Esta configuração é importe, tendo em vista que se outra opção de classe for selecionada haverá um erro ao criar a imagem a partir da ISO posteriormente. Clique em “Create Now” para criar o bucket. Abra o aplicativo OBS Browser + e insira as informações para acesso conforme pedidas na seção “AK Login”. Nos campos “Access Key ID” e “Secret Access Key”, insira os dados gerados na seção 3.1. Em “Service”, selecione “HUAWEI CLOUD OBS (default)”. Em “Access Path” insira “obs://” seguido do nome do bucket criado. Neste exemplo, o caminho será “obs://ims-iso-tutorial”. Clique em “Log In”. Clique em Upload . Selecione a opção “Standard” em “Storage Class” e em “Add File” para adicionar a iso da instância a ser criada. Neste caso, a iso do Windows Server 2019. Aguarde até que o upload seja concluído para seguir para as próximas etapas. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#upload-da-iso-no-bucket",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#upload-da-iso-no-bucket"
  },"244": {
    "doc": "Criando uma Imagem Privada do Windows",
    "title": "Criação da imagem no IMS",
    "content": "Acesse o console da Huawei Cloud e vá até a seção do IMS. Vá até a seção de “Private Images” e clique em “Create Now”. Configure os parâmetros de acordo com a imagem da instância que será criada. Neste caso, o OS do Windows Server 2019 Standard. Para imagens Windows, selecione a opção “Bring your own license (BYOL)”. Clique em “Next” após configurar todos os campos. Verifique se as informações estão corretas e clique em “Submit”. Aguarde até que a imagem da ISO seja criada e clique em “Create ECS” para criar uma instância da imagem gerada. Configure as informações necessárias para a criação da ECS e clique em “OK” para criar a ECS. As próximas etapas serão importantes para configurar a imagem com os softwares e configurações necessárias para o bom funcionamento das instâncias criadas a partir dessa imagem. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#cria%C3%A7%C3%A3o-da-imagem-no-ims",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#criação-da-imagem-no-ims"
  },"245": {
    "doc": "Criando uma Imagem Privada do Windows",
    "title": "Instalação do SO",
    "content": "Acesse o console da Huawei Cloud e vá até a seção relativa ao serviço ECS. Clique em “Remote Login” para acessar remotamente a instância criada na etapa 4 deste documento. Configure o idioma do sistema e clique em “Next” e “Install now”. Selecione a versão do SO a ser instalado, verifique que a opção contém “Desktop Experience” para que uma interface gráfica seja instalada junto ao sistema, caso desejado, e clique em “Next”. Aceite os termos e clique em “Next”. Selecione a opção “Custom: Install Windows only (advanced)”. Clique em “Load driver” e em “Browse”. Selecione o seguinte caminho: “C:vmtools-windows/upgrade/sua-versão-do-SO/drivers/viostor”. Nota: Para o Windows Server 2019 e 2022, selecione o driver relativo ao Windows Server 2016. Clique em “Next” duas vezes seguidas e aguarde a instalação do Windows. . Configure uma senha para o perfil de Administrador do Windows e clique em “Finish” para finalizar a instalação do Windows. Acesse o desktop do Windows, abra o explorador de arquivos e vá até a unidade ejetável. Abra a pasta “vmtools-windows” e instale o software “setup”, que corresponde aos drivers do VMTools. Reinicie o computador quando pedido. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#instala%C3%A7%C3%A3o-do-so",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#instalação-do-so"
  },"246": {
    "doc": "Criando uma Imagem Privada do Windows",
    "title": "Configuração da ECS",
    "content": " ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#configura%C3%A7%C3%A3o-da-ecs",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#configuração-da-ecs"
  },"247": {
    "doc": "Criando uma Imagem Privada do Windows",
    "title": "EIP",
    "content": "Para disponibilizar o acesso à internet para a ECS, faz-se necessário atrelar um EIP à ECS. Para isso, clique em “More” ao lado da ECS desejada na seção ECS do console da Huawei Cloud, “Manage Network” e “Bind EIP”. Caso nenhum EIP esteja disponível, compre um EIP clicando em “Buy EIP”. Clique em “Buy EIP novamente”. Selecione os parâmetros do EIP que será atrelado à ECS, como a sua largura de banda e clique em “Next” e “Submit”. Selecione o EIP comprado para ser atrelado à ECS. Caso seja desejado que as atualizações do sistema sejam instaladas, siga para a seção 6.2. Caso contrário, pule para a seção 6.3. Aviso: É importante que as atualizações do sistema sejam feitas antes de qualquer outra configuração no sistema caso optado. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#eip",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#eip"
  },"248": {
    "doc": "Criando uma Imagem Privada do Windows",
    "title": "Atualização do sistema",
    "content": "Para atualizar o sistema, clique no Windows Search, digite “update” e clique em “Check for updates”. Clique em “Check for updates” novamente e espere até que todas as atualizações sejam feitas. A ECS poderá ser reiniciada algumas vezes nesse processo. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#atualiza%C3%A7%C3%A3o-do-sistema",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#atualização-do-sistema"
  },"249": {
    "doc": "Criando uma Imagem Privada do Windows",
    "title": "Gpedit.msc",
    "content": "Clique no Windows Search e digite “gpedit.msc” para abrir o editor de políticas do grupo local. Server Manager . Navegue até “Computer Configuration &gt; Administrative Templates &gt; System &gt; Server Manager”. Clique duas vezes em “Do not display Server Manager automatically at logon” e selecione “Enabled” para evitar com que o Server Manager seja aberto automaticamente ao iniciar a instância. Shut down . Navegue até “Computer Configuration &gt; Windows Settings &gt; Security Settings &gt; User Rights Assignment“ e clique duas vezes na opção “Shut down the system”. Clique em “Add User or Group”. Clique em “Object Types”. Habilite a opção “Groups” e clique em “OK”. Em “Enter the object names to select”, escreva “Users” e clique na tecla Enter. Clique “OK”. Firewall . Navegue até “Computer Configuration &gt; Network &gt; Network Connections &gt; Domain Profile”, clique duas vezes em “Windows Firewall: Protect all network connections” e selecione a opção “Disabled”. Navegue até “Computer Configuration &gt; Network &gt; Network Connections &gt; Standard Profile”, clique duas vezes em “Windows Firewall: Protect all network connections” e selecione a opção “Disabled”. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#gpeditmsc",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#gpeditmsc"
  },"250": {
    "doc": "Criando uma Imagem Privada do Windows",
    "title": "Services",
    "content": "Nota: Para o Windows Server 2019, ignore a seção 6.4. Clique no Windows Search e digite “services” para abrir a janela relativa à administração dos serviços do Windows. Navegue até “Windows Firewall” e clique duas vezes. Em “Startup type” selecione “Disabled”. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#services",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#services"
  },"251": {
    "doc": "Criando uma Imagem Privada do Windows",
    "title": "DHCP",
    "content": "Cheque se os NICs da instância estão configuradas como DHCP. Para isso, navegue até o “Control Panel” através do Windows Search, vá até “Network and Internet Connections”, clique em ”Network and Sharing Center”. . Clique no adaptador de rede disponível em sua instância e em “Properties”. Selecione o protocolo de rede utilizado pela instância, neste caso IPv4, e clique em “Properties”. Cheque se para ambas as opções a alternativa habilitada é relativa a obter o endereço IP e DNS automaticamente. Clique em “Ok” para salvar. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#dhcp",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#dhcp"
  },"252": {
    "doc": "Criando uma Imagem Privada do Windows",
    "title": "Remote Desktop",
    "content": "Para habilitar o acesso remoto à instância, abra o Windows Search e digite “Allow remote access to your computer”. Habilite a opção “Allow remote connections to this computer” e clique em “OK” para confirmar a mudança feita. Cheque se o firewall do Windows permite a entrada e saída de tráfego do serviço de acesso remoto navegando até Windows Firewall . Clique em “Allow an app or feature through Windows Defender Firewall”. Habilite o acesso remoto pelo firewall habilitando as opções do serviço “Remote Desktop”. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#remote-desktop",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#remote-desktop"
  },"253": {
    "doc": "Criando uma Imagem Privada do Windows",
    "title": "PV Driver",
    "content": "O PV Driver é responsável por fazer a gestão de instâncias com a virtualização Xen. Por mais que esse tipo de tecnologia de virtualização tenha sido descontinuado na Huawei Cloud, ainda é importante que os drivers sejam instalados. Baixe-os através do seguinte link na instância: https://support.huaweicloud.com/intl/en-us/usermanual-ims/ims_01_0317.html. Extraia o arquivo baixado e abra o instalador “pvdriver-win”. Aceite os termos de serviço e clique em “Install”. Clique em “Finish” após a instalação terminar. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#pv-driver",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#pv-driver"
  },"254": {
    "doc": "Criando uma Imagem Privada do Windows",
    "title": "One-click reset password plugin",
    "content": "Este plugin permite que a senha da instância seja resetada através do console da Huawei Cloud. Para instalá-lo, baixe-o através do seguinte link na instância : https://cn-north-1-cloud-reset-pwd.obs.cn-north-1.myhuaweicloud.com/windows/reset_pwd_agent/CloudResetPwdAgent.zip. Extraia o arquivo “CloudResetPwdAgent.zip” baixado. Antes de instalá-lo, no entanto, a porta 80 precisa ser habilitada no security group da ECS para que a instalação ocorra com sucesso. Navegue até o console da Huawei Cloud e vá para a seção ECS. Em “Network and Security”, clique em “Security Groups”. Selecione o security group a que a instância da ECS está atrelada. Em “Outbound Rules”, adicione a regra para permitir o acesso ao protocolo TCP à porta 80 do seguinte destino: “169.254.0.0/16”. Retorne à ECS e execute o arquivo “Setup” presenta na pasta extraída previamente. Para verificar a instalação com sucesso do plugin, abra o gerenciador de tarefas na seção de serviços e cheque se o serviço “cloudResetPwdAgent” está presente. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#one-click-reset-password-plugin",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#one-click-reset-password-plugin"
  },"255": {
    "doc": "Criando uma Imagem Privada do Windows",
    "title": "Cloudbase-Init",
    "content": "O cloudbase-init é um importante software que realiza a gestão de máquinas virtuais. Para baixa-lo, acesse o seguinte link através do navegador da ECS: https://www.cloudbase.it/downloads/CloudbaseInitSetup_Stable_x64.msi. Após baixá-lo, abra o instalador “CloudbaseInitSetup” e clique em “Next” três vezes consecutivas até a tela de configurações dos usuários aparecer. Configure o “Username” como “Administrator” e selecione “COM1” na opção “Serial port for logging”. Clique em “Next” para avançar e em “Install” para instalar o software. Ao fim, desabilite as duas opções disponíveis e clique em “Finish”. Por último, o cloudbase-init precisa ser configurado. Navegue até o seguinte caminho: “C:\\Program Files\\Cloudbase Solutions\\Cloudbase-Init\\conf” e abra o arquivo “cloudbase-init.conf” através do bloco de notas. Adicione as seguintes configurações ao final do arquivo: . netbios_host_name_compatibility=false metadata_services=cloudbaseinit.metadata.services.httpservice.HttpService plugins=cloudbaseinit.plugins.common.localscripts.LocalScriptsPlugin,cloudbaseinit.plugins.common.mtu.MTUPlugin,cloudbaseinit.plugins.windows.createuser.CreateUserPlugin,cloudbaseinit.plugins.common.setuserpassword.SetUserPasswordPlugin,cloudbaseinit.plugins.common.sshpublickeys.SetUserSSHPublicKeysPlugin,cloudbaseinit.plugins.common.sethostname.SetHostNamePlugin,cloudbaseinit.plugins.windows.extendvolumes.ExtendVolumesPlugin,cloudbaseinit.plugins.common.userdata.UserDataPlugin,cloudbaseinit.plugins.windows.licensing.WindowsLicensingPlugin first_logon_behaviour=no . Opcionalmente, adicione também as seguintes configurações: . plugins=cloudbaseinit.plugins.windows.winrmlistener.ConfigWinRMListenerPlugin,cloudbaseinit.plugins.windows.winrmcertificateauth.ConfigWinRMCertificateAuthPlugin retry_count=40 retry_count_interval=5 real_time_clock_utc=true [openstack] add_metadata_private_ip_route=False . Para melhor compreensão do funcionamento de cada uma das configurações aqui realizadas, consulte a documentação oficial do IMS no seguinte link: https://support.huaweicloud.com/intl/en-us/usermanual-ims/en-us_topic_0030730602.html. Abra o cmd do Windows para limpar o endereço DHCP configurado atualmente. Esta etapa limitará o acesso à internet da instância até que ela seja reiniciada. Abra o Windows Search e digite “cmd”. Digite o seguinte comando: “ipconfig /release”. Ademais, digite a seguinte sequência de comandos: “diskpart” e “san policy=onlineall”. Cheque se a configuração foi aplicada digitando o comando “san”. Digite “exit” duas vezes consecutivas para sair do cmd. Reinicie a instância para que a instância retome o acesso à internet. Note que ao fazer o login na conta de Administrator, a ECS reiniciará automaticamente. Após a segunda reinicialização, você perceberá que a senha outrora configurada não mais funciona no perfil de administrador. Isso se dá pela instalação do cloudbase-init, que irá aleatorizar a senha do perfil após a primeira reinicialização do sistema depois de sua instalação. Para configurar a senha novamente, vá até o console da Huawei Cloud na seção ECS, clique em “More” e “Reset password” ao lado da instância desejada. Defina a senha novamente, habilite a caixa de “Auto Restart” e clique em “OK”. Após a reinicialização automática da instância, é notório como a senha do perfil Administrator foi trocada pela senha definida no console. Agora realize as demais configurações desejadas na ECS para gerar a imagem final da instância. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#cloudbase-init",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#cloudbase-init"
  },"256": {
    "doc": "Criando uma Imagem Privada do Windows",
    "title": "Criação da imagem",
    "content": "Após realizar todos os ajustes acima e os escolhidos por você, navegue até a seção ECS no console da Huawei Cloud, clique em “More” ao lado da instância desejada e clique em “Stop” para desligar a instância. Selecione “Yes”. Navegue até a seção IMS no console da Huawei Cloud . Clique em “Create Now”, em “Image creation”. Selecione “Create Image” em “Type” e “System disk image” em “Image Type”. Selecione a ECS desejada, dê um nome para a imagem e clique em “Next”, após selecionar a caixa para aceitar os termos. Clique em “Submit”. Após finalizada a criação da imagem, agora novas instâncias podem ser criadas a partir do arquivo ISO baixado na etapa 2! . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#cria%C3%A7%C3%A3o-da-imagem",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#criação-da-imagem"
  },"257": {
    "doc": "Criando uma Imagem Privada do Windows",
    "title": "Referências:",
    "content": ". | Documentação do IMS: https://support.huaweicloud.com/intl/en-us/usermanual-ims/ims_01_0220.html. | Documentação do Workspace: https://support.huaweicloud.com/intl/en-us/usermanual-workspace/workspace_06_0510.html. | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image#refer%C3%AAncias",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image#referências"
  },"258": {
    "doc": "Criando uma Imagem Privada do Windows",
    "title": "Criando uma Imagem Privada do Windows",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ims/creating-a-private-windows-image",
    
    "relUrl": "/docs/compute/ims/creating-a-private-windows-image"
  },"259": {
    "doc": "Erro de Remote Login Travado",
    "title": "Erro de Remote Login Travado",
    "content": "V1.0 – Março 2024 . | Versão | Autor | Descrição | . | V1.0 – 2024-03-13 | Yangqiang 1153592 | Versão Inicial em Chinês | . | V1.0 – 2024-03-13 | Gaowei 1074902 | Tradução do Documento para Inglês | . | V1.0 – 2024-03-14 | Diogo Hatz 50037923 | Tradução do Documento para Português | . | V1.0 – 2024-03-14 | Wisley da Silva 00830850 | Revisão do Documento | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/remote-login-bricked-error#erro-de-remote-login-travado",
    
    "relUrl": "/docs/compute/ecs/remote-login-bricked-error#erro-de-remote-login-travado"
  },"260": {
    "doc": "Erro de Remote Login Travado",
    "title": "Introdução",
    "content": "O SMS é um serviço de migração de máquinas virtuais disponibilizado na Huawei Cloud. Com esse serviço, é possível migrar VMs de outras provedoras cloud ou de ambientes on-premises para a nuvem. O SMS migra máquinas virtuais para ECSs, que correspondem ao serviço de máquinas virtuais na Huawei Cloud. Este documento tem como objetivo listar otimizações para VMs migradas da provedora Azure Cloud para a Huawei Cloud, assim como solucionar o erro de tela congelada em ECSs para a funcionalidade Remote Login no console da HWC. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/remote-login-bricked-error#introdu%C3%A7%C3%A3o",
    
    "relUrl": "/docs/compute/ecs/remote-login-bricked-error#introdução"
  },"261": {
    "doc": "Erro de Remote Login Travado",
    "title": "Configurações",
    "content": "O erro em questão para que o Remote Login fique congelado é relativo ao VNC, software de acesso remoto a outros computadores. As VMs Linux criadas na Azure Cloud possuem o kernel modificado, o que pode causar problemas de conflitos com o software do VNC. Para realizar as modificações necessárias, siga o passo-a-passo abaixo: . | Conecte à instância via SSH e modifique os seguintes parâmetros: . 1.1 Comente a linha GRUB_TIMEOUT_STYLE=hidden . 1.2 Modifique o GRUB_TIMEOUT para 10: GRUB_TIMEOUT=10 . | . Delete o arquivo . rm -rf /etc/default/grub.d/50* . Após a deleção dos arquivos, execute o seguinte comando para atualizar as configurações do grub. update-grub2 . Modifique o repositório do Yum para apontar para o repositório da Huawei: . sed -i 's/azure.archive.ubuntu.com/repo.huaweicloud.com/g' /etc/apt/sources.list apt autoclean &amp;&amp; apt update . Instale o kernel público do Ubuntu: . apt install linux-image-generic . Após a instalação ser concluída, reinicie a ECS e selecione o kernel genérico na tela do grub. Obs: É possível modificar o parâmetro GRUB_DEFAULT para apontar para o kernel genérico ao invés de manualmente selecionar o kernel genérico ao bootar a ECS. ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/remote-login-bricked-error#configura%C3%A7%C3%B5es",
    
    "relUrl": "/docs/compute/ecs/remote-login-bricked-error#configurações"
  },"262": {
    "doc": "Erro de Remote Login Travado",
    "title": "Configurações Opcionais",
    "content": "Além das configurações realizadas acima, também é recomendado que o agente da Azure, que é instalado por padrão em VMs da Azure, seja desinstalado, uma vez que o agente reporta logs para o console da VNC constantemente, o que pode afetar a performance do VNC: . Digite o seguinte comando para desinstalar o agente da Azure: . sudo apt -y remove walinuxagent . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/remote-login-bricked-error#configura%C3%A7%C3%B5es-opcionais",
    
    "relUrl": "/docs/compute/ecs/remote-login-bricked-error#configurações-opcionais"
  },"263": {
    "doc": "Erro de Remote Login Travado",
    "title": "Referências",
    "content": ". | https://learn.microsoft.com/en-us/azure/virtual-machines/linux/disable-provisioning. | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/remote-login-bricked-error#refer%C3%AAncias",
    
    "relUrl": "/docs/compute/ecs/remote-login-bricked-error#referências"
  },"264": {
    "doc": "Erro de Remote Login Travado",
    "title": "Erro de Remote Login Travado",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/remote-login-bricked-error",
    
    "relUrl": "/docs/compute/ecs/remote-login-bricked-error"
  },"265": {
    "doc": "Descoberta de Recursos",
    "title": "Descoberta de Recursos",
    "content": "V1.0 – Maio 2024 . | Versão | Autor | Descrição | . | V1.0 – 2024-05-21 | Diogo Hatz 50037923 | Tradução do Documento | . | V1.0 – 2024-05-21 | Wisley da Silva 00830850 | Revisão do Documento | . ",
    "url": "/huaweicloud-knowledge-base/docs/migration/mgc/resources-discovery#descoberta-de-recursos",
    
    "relUrl": "/docs/migration/mgc/resources-discovery#descoberta-de-recursos"
  },"266": {
    "doc": "Descoberta de Recursos",
    "title": "Introdução",
    "content": "O Migration Center (MgC) é uma ferramenta disponibilizada na Huawei Cloud que centraliza em uma única plataforma a migração, modernização e optimização de aplicações utilizando serviços baseados nas metodologias e melhores práticas de migração da Huawei Cloud. Além da migração, o MgC também viabiliza o discovery e assessment de recursos on-premises ou de outras cloud vendors. Este documento tem como objetivo descrever a metodologia que circunda o discovery de recursos em provedoras cloud terceiras na Huawei Cloud utilizando o MgC. ",
    "url": "/huaweicloud-knowledge-base/docs/migration/mgc/resources-discovery#introdu%C3%A7%C3%A3o",
    
    "relUrl": "/docs/migration/mgc/resources-discovery#introdução"
  },"267": {
    "doc": "Descoberta de Recursos",
    "title": "AK/SK",
    "content": "Para realizar o discovery de recursos em outras provedoras cloud, é necessário primeiramente gerar uma chave AK/SK ou ID and Key com as permissões somente de leitura e listagem de todos os recursos na respectiva cloud para os seguintes serviços: EC2, RDS, S3 e EFS. Abaixo se encontra um exemplo das políticas e permissões somente de leitura necessárias para o serviço EC2: . ",
    "url": "/huaweicloud-knowledge-base/docs/migration/mgc/resources-discovery#aksk",
    
    "relUrl": "/docs/migration/mgc/resources-discovery#aksk"
  },"268": {
    "doc": "Descoberta de Recursos",
    "title": "Realizando o Discovery de Recursos pela Internet",
    "content": "Importante: É necessário realizar esta etapa para cada conta cujos recursos serão analisados pelo MgC. Para realizar o discovery dos recursos de determinada conta, primeiramente entre na seção do serviço MgC no console da Huawei Cloud. No canto inferior esquerdo, escolha a opção Settings e então Migration Projects. Clique em Create Project. Escolha um nome para o projeto a ser criado e escolha o tipo de projeto Complex, em que há várias aplicações rodando cujas dependências não são bem delimitadas. Clique, então, em Confirm para criar um projeto. No menu à esquerda, escolha a opção Application Discovery e clique em Discover Over Internet para realizar o discovery de recursos através da internet. Caso uma task de discovery já tenha sido criada previamente, a opção de discovery ficará localizada na opção Discover e então Over Internet. Preencha um nome para a task de discovery e a provedora cloud em que a conta cujos recursos serão analisados se encontram. Depois, em Credential, clique na opção Create. Preencha um nome para a credencial e em Authentication selecione a opção AK/SK ou ID and Key. Depois, coloque a chave obtida no item 2.0 deste material e clique em Verify and Save. Selecione a credencial cadastrada. No campo de regiões, selecione todas em Select All. Para Resource Type selecione Select all e clique em Confirm. Aguarde e task de discovery finalizar e então volte para uma página anterior . Nesta página, é possível visualizar os tipos de recursos analisados e clicar neles para ver em detalhes todos os recursos descobertos. ",
    "url": "/huaweicloud-knowledge-base/docs/migration/mgc/resources-discovery#realizando-o-discovery-de-recursos-pela-internet",
    
    "relUrl": "/docs/migration/mgc/resources-discovery#realizando-o-discovery-de-recursos-pela-internet"
  },"269": {
    "doc": "Descoberta de Recursos",
    "title": "Referências",
    "content": ". | Documentação do MgC: https://support.huaweicloud.com/intl/en-us/productdesc-mgc/mgc_01_0001.html. | . ",
    "url": "/huaweicloud-knowledge-base/docs/migration/mgc/resources-discovery#refer%C3%AAncias",
    
    "relUrl": "/docs/migration/mgc/resources-discovery#referências"
  },"270": {
    "doc": "Descoberta de Recursos",
    "title": "Descoberta de Recursos",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/migration/mgc/resources-discovery",
    
    "relUrl": "/docs/migration/mgc/resources-discovery"
  },"271": {
    "doc": "Monitoramento de Recursos",
    "title": "Monitoramento de Recursos",
    "content": "V1.1 – Dezembro 2023 . | Versão | Autor | Descrição | . | V1.0 – 2023-12-20 | Diogo Hatz 50037923 | Versão Inicial | . | V1.0 – 2023-12-21 | Wisley da Silva 00830850 | Revisão do Documento | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/resources-monitoring#monitoramento-de-recursos",
    
    "relUrl": "/docs/management-and-governance/ces/resources-monitoring#monitoramento-de-recursos"
  },"272": {
    "doc": "Monitoramento de Recursos",
    "title": "Introdução",
    "content": "O Cloud Eye (CES) é uma ferramenta gratuita para o monitoramento de recursos da Huawei Cloud. Além do monitoramento de recursos, o Cloud Eye também pode ser utilizado para criar alarmes baseados em eventos ou métricas, identificar o mau funcionamento de recursos e rapidamente reagir à mudança de recursos. Vale ressaltar que, por mais que o Cloud Eye seja um serviço gratuito, as cobranças geradas pelo envio de notificações ao disparar alarmes são cobradas. Este documento tem como objetivo descrever as principais funcionalidades do serviço Cloud Eye e guiar o leitor a utilizar o CES para o monitoramento de recursos da nuvem, como ECSs, VPNs e CBRs etc. Ademais, também é descrito como criar alarmes baseados em eventos ou métricas e customizar dashboards para o monitoramento de recursos. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/resources-monitoring#introdu%C3%A7%C3%A3o",
    
    "relUrl": "/docs/management-and-governance/ces/resources-monitoring#introdução"
  },"273": {
    "doc": "Monitoramento de Recursos",
    "title": "Cloud Eye no console",
    "content": " ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/resources-monitoring#cloud-eye-no-console",
    
    "relUrl": "/docs/management-and-governance/ces/resources-monitoring#cloud-eye-no-console"
  },"274": {
    "doc": "Monitoramento de Recursos",
    "title": "Overview",
    "content": "Ao abrir o Cloud Eye no console, a página inicial que será carregada é a Overview, na qual é possível ter uma visão geral de todos os recursos utilizados na Huawei Cloud, a utilização geral de rede, CPU, memória e disco e quais recursos dispararam alarmes recentemente e precisam de uma maior atenção. | Visão geral dos recursos: Permite a visualização do número total de recursos monitorados e os alarmes gerados para esses recursos. | Estatística dos alarmes: Mostra os alarmes disparados nos últimos sete dias por severidade do alarme. | Monitoramento de servidores: Permite a visualização da utilização geral de CPU e memória dos servidores monitorados e uma lista do top 5 ECSs ranqueados pela utilização de CPU ou memória. | Monitoramento de rede: Mostra a utilização geral de largura de banda de EIPs e uma lista do top 5 EIPs ranqueados por utilização de largura de banda. | Monitoramento de armazenamento: Permite a visualização da utilização geral de disco (EVS) por IOPS de leitura e escrita e uma lista do top 5 discos ranqueados por IOPS. | . É possível ter uma visão de como a página inicial do Cloud Eye é nas imagens abaixo: . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/resources-monitoring#overview",
    
    "relUrl": "/docs/management-and-governance/ces/resources-monitoring#overview"
  },"275": {
    "doc": "Monitoramento de Recursos",
    "title": "Monitoramento de servidores",
    "content": "O monitoramento de servidores (ECSs e BMSs) pode ser visualizado na seção Server Monitoring. Vale ressaltar que para o monitoramento de servidores, a instalação do agente (Telescope) é recomendada, uma vez que providencia métricas mais específicas e precisas, de acordo com o anexo 4.1. A instalação do agente pode ser feita de três formas distintas: de forma manual, automática ou em lote. Independentemente da forma de instalação escolhida, é necessário configurar as permissões para o agente previamente: na seção de monitoramento de servidores, clique em Configure no aviso de que a permissão do agente não foi configurada para a região atual. Automática: . Para instalar o agente de forma automática, basta clicar na peça de quebra-cabeça na seção de monitoramento de servidores e na coluna de status do agente na ECS/BMS correspondente e aguardar a instalação do agente. Manual: . Para instalar o agente de forma manual, primeiramente vá para a seção relativa à ECS ou BMS, a depender do tipo de servidor em que o agente será instalado. Selecione Remote Login para realizar o login no servidor desejado . Realize o login no servidor digitando o usuário e a senha configurados no momento de criação do servidor e, posteriormente, digite o seguinte comando, caso a região em que o servidor se encontre seja LA-Santiago: . cd /usr/local &amp;&amp; curl -k -O https://uniagent-la-south-2.obs.la-south-2.myhuaweicloud.com/script/agent_install.sh &amp;&amp; bash agent_install.sh . Caso a região em que o servidor se encontre seja diferente de LA-Santiago, é possível encontrar a lista de comandos por região no seguinte link: https://support.huaweicloud.com/intl/en-us/usermanual-ces/ces_01_0029.html . Caso a mensagem em vermelho acima apareça ao final da instalação, o agente foi instalado com sucesso. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/resources-monitoring#monitoramento-de-servidores",
    
    "relUrl": "/docs/management-and-governance/ces/resources-monitoring#monitoramento-de-servidores"
  },"276": {
    "doc": "Monitoramento de Recursos",
    "title": "Dashboard",
    "content": "A seção Dashboard diz respeito à área em que gráficos personalizados podem ser criados para o monitoramento de serviços e recursos selecionados, com as métricas escolhidas. Para criar um dashboard, navegue até a seção My Dashboards em Dashboards e clique em Create Dashboard. Escolha um nome para o dashboard em Name e clique em OK. Para adicionar gráficos para o monitoramento de métricas específicas, gráficos podem ser adicionados à dashboards. Para adicionar um gráfico, clique no dashboard criado e em Add Graph. Escolha o tipo de gráfico a ser criado e clique em OK. Certas configurações podem ser feitas ao adicionar um gráfico a uma dashboard, como se o mesmo gráfico irá possuir múltiplas métricas ou somente uma métrica, o período em que os dados foram coletados, o tipo de dado que será visualizado (dados brutos, máximo, mínimo, média ou soma) e as métricas a serem mostradas. Em Metric Display selecione One graph for a single metric para adicionar uma única métrica ao gráfico ou selecione One graph for multiple metrics para adicionar múltiplas métricas ao gráfico. Clique em Select Resource and Metric para selecionar o recurso que será monitorado e a métrica para esse recurso. Selecione o tipo de serviço que será monitorado à esquerda da página Select Resource and Metric, o recurso específico a ser monitorado na área central da página e as métricas desse recurso à direita. Neste exemplo, o uso da CPU, disco, memória e rede serão monitorados na “ecs-9152”. Ajuste o horário da coleta dos dados no canto superior direito da página Add Graph. Uma amostra do gráfico gerado irá aparecer na página. Clique em Save para confirmar e adicionar o gráfico à dashboard. Na dashboard, é possível criar uma legenda para o gráfico, edita-lo, colocá-lo em tela cheia, recarregar os dados mostrados no gráfico e mover o gráfico de lugar. No Cloud Eye é possível criar inúmeras dashboards com diversos gráficos em cada dashboard, sendo que cada gráfico pode mostrar múltiplas métricas de monitoramento. Além disso, como descrito no tópico 3.1, na seção Overview do CES é possível ter a visualização geral dos recursos monitorados com as principais métricas utilizadas, como uso de CPU, memória e disco em servidores; uso de rede e um total de alarmes disparados no Cloud Eye. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/resources-monitoring#dashboard",
    
    "relUrl": "/docs/management-and-governance/ces/resources-monitoring#dashboard"
  },"277": {
    "doc": "Monitoramento de Recursos",
    "title": "Monitoramento de serviços da nuvem",
    "content": "Na seção Cloud Service Monitoring, dashboards para cada recurso dos serviços de ECS, EIP e largura de banda, NAT e VPN são criados automaticamente durante a criação desses recursos. As principais métricas de monitoramento desses serviços são adicionadas em forma de gráfico nessa seção para o monitoramento rápido e geral desses serviços. Além da visualização dos gráficos relativos às principais métricas monitoradas, também é possível exportar os dados coletados clicando no botão Export Data. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/resources-monitoring#monitoramento-de-servi%C3%A7os-da-nuvem",
    
    "relUrl": "/docs/management-and-governance/ces/resources-monitoring#monitoramento-de-serviços-da-nuvem"
  },"278": {
    "doc": "Monitoramento de Recursos",
    "title": "Anexos",
    "content": " ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/resources-monitoring#anexos",
    
    "relUrl": "/docs/management-and-governance/ces/resources-monitoring#anexos"
  },"279": {
    "doc": "Monitoramento de Recursos",
    "title": "Métricas de monitoramento de servidores",
    "content": "| Métricas | Sem agente | Agente instalado | . | Uso de CPU | Sim | Sim / Dedicado | . | Uso de disco | Sim | Sim | . | Uso de memória | Sim | Sim / Dedicado | . | Largura de banda de escrita em disco | Sim | Sim | . | Largura de banda de leitura em disco | Sim | Sim | . | IOPS de escrita em disco | Sim | Sim | . | IOPS de leitura em disco | Sim | Sim | . | Taxa de entrada em banda | Sim | Sim | . | Taxa de saída em banda | Sim | Sim | . | Taxa de entrada fora de banda | Sim | Sim | . | Taxa de saída fora de banda | Sim | Sim | . | Uso de crédito de CPU | Sim | Sim | . | Balanceamento de crédito de CPU | Sim | Sim | . | Excedente de balanceamento de crédito de CPU | Sim | Sim | . | Excedente de crédito carregado de CPU | Sim | Sim | . | Conexões de rede | Sim | Sim | . | Largura de banda de entrada por servidor | Sim | Sim | . | Largura de banda de saída por servidor | Sim | Sim | . | PPS de entrada | Sim | Sim | . | PPS de saída | Sim | Sim | . | Novas conexões | Sim | Sim | . | Erros incorrigíveis agregados de ECC | Sim | Sim | . | Páginas aposentadas com erros de bit único | Sim | Sim | . | Páginas aposentadas com erros de bit duplos | Sim | Sim | . | Status de saúde da GPU | Sim | Sim | . | Uso de encoder da GPU | Sim | Sim | . | Uso de decoder da GPU | Sim | Sim | . | Erros corrigíveis voláteis de ECC | Sim | Sim | . | Erros incorrigíveis voláteis de ECC | Sim | Sim | . | CPU ociosa | Não | Sim / Dedicado | . | Uso de CPU de espaço de usuário | Não | Sim / Dedicado | . | Uso de CPU de espaço de kernel | Não | Sim / Dedicado | . | Uso de CPU de outros processos | Não | Sim / Dedicado | . | Uso de CPU de processos ótimos | Não | Sim / Dedicado | . | Tempo em que a CPU está esperando por operações de E/S | Não | Sim / Dedicado | . | Tempo de interrupção de CPU | Não | Sim / Dedicado | . | Tempo de interrupção de CPU por software | Não | Sim / Dedicado | . | Memória disponível | Não | Sim / Dedicado | . | Memória ociosa | Não | Sim / Dedicado | . | Buffer | Não | Sim / Dedicado | . | Cache | Não | Sim / Dedicado | . | Largura de banda de entrada por NIC | Não | Sim / Dedicado | . | Largura de banda de saída por NIC | Não | Sim / Dedicado | . | Taxa de pacotes enviados por NIC | Não | Sim / Dedicado | . | Taxa de pacotes recebidos por NIC | Não | Sim / Dedicado | . | Taxa de pacotes com erro recebidos por NIC | Não | Sim / Dedicado | . | Taxa de pacotes com erro transmitidos por NIC | Não | Sim / Dedicado | . | Taxa de pacotes recebidos largados por NIC | Não | Sim / Dedicado | . | Taxa de pacotes transmitidos largados por NIC | Não | Sim / Dedicado | . | Processos em execução | Não | Sim / Dedicado | . | Processos ociosos | Não | Sim / Dedicado | . | Processos zombies | Não | Sim / Dedicado | . | Processos bloqueados | Não | Sim / Dedicado | . | Processos dormindo | Não | Sim / Dedicado | . | Total de processos | Não | Sim / Dedicado | . | Taxa de retransmissão TCP | Não | Sim / Dedicado | . | TCP SYS_SENT | Não | Sim / Dedicado | . | TCP SYS_RECV | Não | Sim / Dedicado | . | TCP FIN_WAIT1 | Não | Sim / Dedicado | . | TCP FIN_WAIT2 | Não | Sim / Dedicado | . | TCP CLOSE | Não | Sim / Dedicado | . | TCP LAST_ACK | Não | Sim / Dedicado | . | TCP LISTEN | Não | Sim / Dedicado | . | TCP CLOSING | Não | Sim / Dedicado | . | Média de carga da CPU no último minuto | Não | Sim / Dedicado | . | Média de carga da CPU nos últimos 15 minutos | Não | Sim / Dedicado | . | Média de carga da CPU nos últimos 5 minutos | Não | Sim / Dedicado | . | TCP ESTABLISHED | Não | Sim / Dedicado | . | TCP TOTAL | Não | Sim / Dedicado | . | UDP TOTAL | Não | Sim / Dedicado | . | NTP Offset | Não | Sim / Dedicado | . | Total de arquivos processados | Não | Sim / Dedicado | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/resources-monitoring#m%C3%A9tricas-de-monitoramento-de-servidores",
    
    "relUrl": "/docs/management-and-governance/ces/resources-monitoring#métricas-de-monitoramento-de-servidores"
  },"280": {
    "doc": "Monitoramento de Recursos",
    "title": "Métricas de monitoramento de VPN Gateway",
    "content": "| Métricas | Suportado | . | Taxa de pacotes de entrada | Sim | . | Taxa de pacotes de saída | Sim | . | Largura de banda de entrada | Sim | . | Largura de banda de saída | Sim | . | Uso de largura de banda de entrada | Sim | . | Número de conexões | Sim | . | Uso de largura de banda de saída | Sim | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/resources-monitoring#m%C3%A9tricas-de-monitoramento-de-vpn-gateway",
    
    "relUrl": "/docs/management-and-governance/ces/resources-monitoring#métricas-de-monitoramento-de-vpn-gateway"
  },"281": {
    "doc": "Monitoramento de Recursos",
    "title": "Métricas de monitoramento da conexão VPN",
    "content": "| Métricas | Suportado | . | Média de RTT do túnel | Sim | . | Máximo de RTT do túnel | Sim | . | Taxa de perda de pacotes do túnel | Sim | . | Média de link RTT | Sim | . | Máximo de link RTT | Sim | . | Taxa de perda de pacotes do link | Sim | . | Status da conexão VPN | Sim | . | Taxa de recebimento de pacotes | Sim | . | Taxa de envio de pacotes | Sim | . | Taxa de recebimento de tráfego | Sim | . | Taxa de envio de tráfego | Sim | . | Taxa de envio de pacote SA | Sim | . | Taxa de recebimento de pacote SA | Sim | . | Taxa de envio de tráfego SA | Sim | . | Taxa de recebimento de tráfego SA | Sim | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/resources-monitoring#m%C3%A9tricas-de-monitoramento-da-conex%C3%A3o-vpn",
    
    "relUrl": "/docs/management-and-governance/ces/resources-monitoring#métricas-de-monitoramento-da-conexão-vpn"
  },"282": {
    "doc": "Monitoramento de Recursos",
    "title": "Métricas de monitoramento de NAT",
    "content": "| Métricas | Suportado | . | Conexões SNAT | Sim | . | Largura de banda de entrada | Sim | . | Largura de banda de saída | Sim | . | PPS de entrada | Sim | . | PPS de saída | Sim | . | Tráfego de entrada | Sim | . | Tráfego de saída | Sim | . | Taxa de uso de conexões SNAT | Sim | . | Taxa de uso de largura de banda de entrada | Sim | . | Taxa de uso de largura de banda de saída | Sim | . | Total de largura de banda de saída (UDP) | Sim | . | Total de largura de banda de saída (TCP) | Sim | . | Total de largura de banda de entrada (UDP) | Sim | . | Total de largura de banda de entrada (TCP) | Sim | . | Pacotes perdidos por conexões SNAT excessivas | Sim | . | Pacotes perdidos por excesso de PPS | Sim | . | Pacotes perdidos por todos os portes EIP alocados | Sim | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/resources-monitoring#m%C3%A9tricas-de-monitoramento-de-nat",
    
    "relUrl": "/docs/management-and-governance/ces/resources-monitoring#métricas-de-monitoramento-de-nat"
  },"283": {
    "doc": "Monitoramento de Recursos",
    "title": "Referências",
    "content": ". | Documentação do CES: https://support.huaweicloud.com/intl/en-us/function-ces/index.html . | Limitações do CES: https://support.huaweicloud.com/intl/en-us/productdesc-ces/ces_07_0007.html . | FAQ: https://support.huaweicloud.com/intl/en-us/ces_faq/ces_faq_0059.html . | Instalação do agente do CES em lote: https://support.huaweicloud.com/intl/en-us/usermanual-ces/ces_01_0033.html . | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/resources-monitoring#refer%C3%AAncias",
    
    "relUrl": "/docs/management-and-governance/ces/resources-monitoring#referências"
  },"284": {
    "doc": "Monitoramento de Recursos",
    "title": "Monitoramento de Recursos",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/ces/resources-monitoring",
    
    "relUrl": "/docs/management-and-governance/ces/resources-monitoring"
  },"285": {
    "doc": "Velocidade de Upload Baixa no AWS CLI S3 em ECSs Windows",
    "title": "Velocidade de Upload Baixa no AWS CLI S3 em ECSs Windows",
    "content": "V1.0 – Agosto 2024 . | Versão | Autor | Descrição | . | V1.0 – 2024-08-09 | Diogo Hatz 50037923 | Tradução do Documento | . | V1.0 – 2024-08-10 | Wisley Paulo 00830850 | Revisão do Documento | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/slow-aws-cli-s3-upload-rate-on-windows#velocidade-de-upload-baixa-no-aws-cli-s3-em-ecss-windows",
    
    "relUrl": "/docs/compute/ecs/slow-aws-cli-s3-upload-rate-on-windows#velocidade-de-upload-baixa-no-aws-cli-s3-em-ecss-windows"
  },"286": {
    "doc": "Velocidade de Upload Baixa no AWS CLI S3 em ECSs Windows",
    "title": "Sintoma",
    "content": "A velocidade de upload do S3 AWS CLI ficará travada em 9 MiB/s, independentemente de quão grande seja a largura de banda, em ECSs do Windows Server: . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/slow-aws-cli-s3-upload-rate-on-windows#sintoma",
    
    "relUrl": "/docs/compute/ecs/slow-aws-cli-s3-upload-rate-on-windows#sintoma"
  },"287": {
    "doc": "Velocidade de Upload Baixa no AWS CLI S3 em ECSs Windows",
    "title": "Solução",
    "content": "Modifique o arquivo: “C:\\Users\\Administrator\\.aws\\config” e adicione o seguinte parâmetro: . Após a modificação, a velocidade de upload aumentará de acordo com a largura de banda comprada: . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/slow-aws-cli-s3-upload-rate-on-windows#solu%C3%A7%C3%A3o",
    
    "relUrl": "/docs/compute/ecs/slow-aws-cli-s3-upload-rate-on-windows#solução"
  },"288": {
    "doc": "Velocidade de Upload Baixa no AWS CLI S3 em ECSs Windows",
    "title": "Referências",
    "content": ". | Documentação do AWS CLI S3, disponível em: https://awscli.amazonaws.com/v2/documentation/api/latest/topic/s3-config.html#preferred-transfer-client. | . ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/slow-aws-cli-s3-upload-rate-on-windows#refer%C3%AAncias",
    
    "relUrl": "/docs/compute/ecs/slow-aws-cli-s3-upload-rate-on-windows#referências"
  },"289": {
    "doc": "Velocidade de Upload Baixa no AWS CLI S3 em ECSs Windows",
    "title": "Velocidade de Upload Baixa no AWS CLI S3 em ECSs Windows",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/compute/ecs/slow-aws-cli-s3-upload-rate-on-windows",
    
    "relUrl": "/docs/compute/ecs/slow-aws-cli-s3-upload-rate-on-windows"
  },"290": {
    "doc": "Iniciando com Terraform",
    "title": "Iniciando com Terraform",
    "content": "V1.0 – Novembro 2024 . | Versão | Autor | Descrição | . | V1.0 – 2024-11-21 | Diogo Hatz d50037923 | Versão Inicial | . | V1.0 – 2024-11-21 | Wisley da Silva Paulo 00830850 | Revisão do Documento | . | V1.0 – 2024-11-21 | Gustavo Scovini 00918380 | Revisão do Documento | . ",
    "url": "/huaweicloud-knowledge-base/docs/huawei-cloud-stack/hcso/terraform-startup#iniciando-com-terraform",
    
    "relUrl": "/docs/huawei-cloud-stack/hcso/terraform-startup#iniciando-com-terraform"
  },"291": {
    "doc": "Iniciando com Terraform",
    "title": "Objetivo",
    "content": "Este documento objetiva apresentar os procedimentos necessários para a efetivação da configuração do provedor Huawei Cloud na ferramenta de infraestrutura como código Terraform para implementações Huawei Cloud Stack Online (HCSO). ",
    "url": "/huaweicloud-knowledge-base/docs/huawei-cloud-stack/hcso/terraform-startup#objetivo",
    
    "relUrl": "/docs/huawei-cloud-stack/hcso/terraform-startup#objetivo"
  },"292": {
    "doc": "Iniciando com Terraform",
    "title": "IAM",
    "content": "Para delegar permissões para a criação de recursos através da ferramenta Terraform, faz-se necessária a criação de uma chave de acesso AK/SK no console da Huawei Cloud, chave a qual será utilizada para autenticação com a conta da Huawei Cloud. Para isso, acesse o console da Huawei Cloud, passe o mouse sobre o nome da conta no canto superior direito e clique em “My Credentials”. Feito isso, clique em “Access Keys” e em “Create Access Key”. Caso uma janela de aviso seja exibida, aceite a criação da credencial e clique em “Create”, seguido por “Download” para realizar o download do par de chaves AK/SK. Nota: As permissões da chave AK/SK criada serão herdadas do usuário que a criou. Caso algum problema oriundo de permissão seja encontrado, tome como referência a seguinte documentação de permissões do IAM para delegar as permissões necessárias: https://support.huaweicloud.com/intl/en-us/productdesc-iam/iam_01_0036.html. ",
    "url": "/huaweicloud-knowledge-base/docs/huawei-cloud-stack/hcso/terraform-startup#iam",
    
    "relUrl": "/docs/huawei-cloud-stack/hcso/terraform-startup#iam"
  },"293": {
    "doc": "Iniciando com Terraform",
    "title": "Terraform",
    "content": "Primeiramente, baixe e instale a ferramenta Terraform, disponível no seguinte hyperlink:https://developer.hashicorp.com/terraform/install?product_intent=terraform. Após a realização da instalação da ferramenta, crie um arquivo .tf no diretório desejado em que o código relativo à infraestrutura será armazenado. Feito isso, edite o arquivo e insira ambos trechos de código abaixo relativos ao provedor do registry Terraform, substituindo os parâmetros em destaque: . terraform { required_providers { huaweicloud = { source = \"huaweicloud/huaweicloud\" version = \"&gt;= 1.36.0\" } } } provider \"huaweicloud\" { region = \"{região}\" access_key = \"{AK}\" secret_key = \"{SK}\" cloud = \"{dominio}\" auth_url=\"https://iam-pub.{região}.{dominio}\" insecure = true } . | região: região do HCSO em que os recursos serão criados; . | AK: access Key criada no item 2.0 deste documento; . | SK: secret Key criada no item 2.0 deste documento; . | domínio: domínio do console HCSO; . | insecure: parâmetro opcional, somente necessário em caso de erros decorrentes de certificados do HCSO. | . Após ter configurado os campos de terraform e provedor, crie algum recurso para realizar a validação do funcionamento da ferramenta. Abaixo segue um trecho de código de exemplo para criar uma VPC: . resource \"huaweicloud_vpc\" \"vpc-hcso\" { name = \"vpc-hcso\" cidr = \"10.0.0.0/8\" } . Nota: Segue o registry oficial do provedor Terraform da Huawei Cloud, compatível tanto com a nuvem pública Huawei Cloud quanto com implementações HCSO: https://registry.terraform.io/providers/huaweicloud/huaweicloud/latest/docs. Alternativamente, também existe o seguinte registry que pode ser utilizado exclusivamente para implementações HCSO: https://registry.terraform.io/providers/huaweicloud/hcso/latest/docs. ",
    "url": "/huaweicloud-knowledge-base/docs/huawei-cloud-stack/hcso/terraform-startup#terraform",
    
    "relUrl": "/docs/huawei-cloud-stack/hcso/terraform-startup#terraform"
  },"294": {
    "doc": "Iniciando com Terraform",
    "title": "Exemplo",
    "content": "A seguir segue um exemplo de validação da configuração realizada na ferramenta Terraform, assim como o resultado no console HCSO: . Utilizando o comando terraform init para inicializar o repositório Terraform: . Utilizando o comando terraform plan para realizar a verificação do código desenvolvido pelo Terraform: . Utilizando o comando terraform apply para aplicar as modificações realizadas, no caso a criação do recurso VPC: . Resultado da criação da VPC no console HCSO: . ",
    "url": "/huaweicloud-knowledge-base/docs/huawei-cloud-stack/hcso/terraform-startup#exemplo",
    
    "relUrl": "/docs/huawei-cloud-stack/hcso/terraform-startup#exemplo"
  },"295": {
    "doc": "Iniciando com Terraform",
    "title": "Referências",
    "content": ". | Registry do Terraform da Huawei Cloud: https://registry.terraform.io/providers/huaweicloud/huaweicloud/latest/docs. | Registry do Terraform da Huawei Cloud HCSO: https://registry.terraform.io/providers/huaweicloud/hcso/latest/docs. | . ",
    "url": "/huaweicloud-knowledge-base/docs/huawei-cloud-stack/hcso/terraform-startup#refer%C3%AAncias",
    
    "relUrl": "/docs/huawei-cloud-stack/hcso/terraform-startup#referências"
  },"296": {
    "doc": "Iniciando com Terraform",
    "title": "Iniciando com Terraform",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/huawei-cloud-stack/hcso/terraform-startup",
    
    "relUrl": "/docs/huawei-cloud-stack/hcso/terraform-startup"
  },"297": {
    "doc": "Federação de Usuários com Keycloak (OpenID)",
    "title": "Federação de Usuários com Keycloak (OpenID)",
    "content": "V1.0 – Outubro 2024 . | Versão | Autor | Descrição | . | V1.0 – 2024-10-15 | Diogo Hatz d50037923 | Versão Inicial | . | V1.0 – 2024-10-15 | Wisley da Silva Paulo 00830850 | Revisão do Documento | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iam/user-federation-with-keycloak-openid#federa%C3%A7%C3%A3o-de-usu%C3%A1rios-com-keycloak-openid",
    
    "relUrl": "/docs/management-and-governance/iam/user-federation-with-keycloak-openid#federação-de-usuários-com-keycloak-openid"
  },"298": {
    "doc": "Federação de Usuários com Keycloak (OpenID)",
    "title": "Objetivo",
    "content": "Este documento objetiva apresentar os procedimentos necessários para a efetivação da configuração de federação de identidade na Huawei Cloud (Service Provider) através de um provedor de identidade (IdP), como o RedHat SSO ou Keycloak. Neste exemplo, o protocolo utilizado para a federação de identidade será o OpenID, mapeando os usuários do provedor de identidade para usuários virtuais na Huawei Cloud. No diagrama abaixo, é possível visualizar o fluxo do processo de autenticação na Huawei Cloud utilizando um IdP. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iam/user-federation-with-keycloak-openid#objetivo",
    
    "relUrl": "/docs/management-and-governance/iam/user-federation-with-keycloak-openid#objetivo"
  },"299": {
    "doc": "Federação de Usuários com Keycloak (OpenID)",
    "title": "Keycloak",
    "content": "Primeiramente, faz-se necessário realizar a configuração do provedor de identidade (IdP). Para isso, acesse a página de configurações do IdP (Keycloak) e navegue até a seção “Clients”. Clique em “Create” para criar um novo cliente. Selecione o “Client Protocol” como sendo “openid-connect” e insira “hws-oidc” no campo relativo ao “Client ID”. Feito isso, clique em “Save” para efetivar a criação do client. Navegue até o cliente da Huawei Cloud criado e clique em “Edit” para editar as configurações do cliente. Habilite a opção “Implicit Flow Enabled”, altere o campo “Access Type” para “confidential” e insira o seguinte hyperlink no campo de “Valid Redirect URIs”: https://auth.huaweicloud.com/authui/oidc/post. Feito isso, clique em “Save” para salvar as modificações feitas. Navegue até a seção de “Mappers”, ainda nas configurações do cliente da Huawei Cloud, e clique em “Create” para criar um mapper para o username. Selecione o “Mapper Type” como de tipo “User Property” e preencha os demais campos conforme a imagem abaixo. Navegue mais uma vez até a seção de “Mappers”, ainda nas configurações do cliente da Huawei Cloud, e clique em “Create” para criar um mapper para o group. Selecione o “Mapper Type” como de tipo “Group Membership”, desabilite a opção “Full group path” e preencha os demais campos conforme a imagem abaixo. Para realizar a federação de usuários da Huawei Cloud, faz-se necessária a existência de usuários primeiramente. Caso não exista nenhum usuário criado no Keycloak, crie um usuário. Navegue até a seção de “Realm Settings” e clique em “OpenID Endpoint Configuration”, na subseção de “Endpoints”. Tome nota dos seguintes parâmetros, que precisarão ser configurados no lado do service provider (Huawei Cloud): “authorization_endpoint” e “jwks_uri”. No web browser, navegue até o hyperlink relativo ao parâmetro “jwks_uri” copiado acima e tome nota da chave. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iam/user-federation-with-keycloak-openid#keycloak",
    
    "relUrl": "/docs/management-and-governance/iam/user-federation-with-keycloak-openid#keycloak"
  },"300": {
    "doc": "Federação de Usuários com Keycloak (OpenID)",
    "title": "IAM",
    "content": "Acesse o serviço IAM no console da Huawei Cloud e navegue até a seção “Identity Providers”. Clique em “Create Identity Provider” para criar uma configuração de federação de identidade. Selecione o protocolo OpenID-Connect e o “SSO Type” como “Virtual User”. Clique no botão “OK” para salvar as configurações da criação da IdP. Feito isso, selecione a opção “Modify” ao lado do provedor de identidade criado e preencha os campos conforme mostrado na figura abaixo. . | Identity Provider URL: Hyperlink relativo ao realm em que o cliente foi configurado no keycloak. Exemplo: ; . | Client ID: Mesmo parâmetro configurado no campo “Client ID” do Keycloak; . | Authorization Endpoint: Parâmetro “authorization_endpoint” presente no arquivo de configurações do endpoint Open-ID no Keycloak; . | Response Mode: “form_post”; . | Signing Key: Conteúdo do parâmetro “jwks_uri”, presente no arquivo de configurações do endpoint Open-ID no Keycloak. | . Importante: O protocolo Open-ID requer, necessariamente, que um certificado SSL seja configurado no provedor de identidade para possibilitar comunicação via protocolo HTTPS. O certificado SSL pode ser um certificado auto assinado. Por fim, na seção de “Identity Conversion Rules”, clique em “Create Rule” para criar uma regra de conversão de usuários e grupos do IdP para os usuários e grupos correspondentes na Huawei Cloud. É possível utilizar o exemplo de regra de conversão abaixo. Importante: A regra de conversão abaixo mapeia todos os usuários do Keycloak para os grupos do IAM na Huawei Cloud que possuam os mesmos nomes dos grupos configurados no Keycloak. Por exemplo: No Keycloak, o usuário “Teste” pertencente ao grupo “admin” será mapeado, na Huawei Cloud, para o usuário virtual “Teste” no grupo “admin”. Não é necessário que o usuário “Teste” seja previamente criado na Huawei Cloud. No entanto, é obrigatório que o grupo “admin” seja criado previamente na Huawei Cloud com as devidas políticas de controle de acesso. [ { \"remote\": [ { \"type\": \"username\" }, { \"type\": \"Group\" } ], \"local\": [ { \"user\": { \"name\": \"{0}\" } }, { \"group\": { \"name\": \"{1}\" } } ] } ] . Feito isso, clique em “OK” para salvar as modificações feitas no IdP. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iam/user-federation-with-keycloak-openid#iam",
    
    "relUrl": "/docs/management-and-governance/iam/user-federation-with-keycloak-openid#iam"
  },"301": {
    "doc": "Federação de Usuários com Keycloak (OpenID)",
    "title": "Exemplo",
    "content": "A seguir segue um exemplo de validação do login no console da Huawei Cloud por meio da federação de identidade. Acessando o console da Huawei Cloud e selecionando a opção de login por meio de usuário federado. Inserindo o nome da conta e selecionando a IdP configurada no dropdown. Realizando o login na provedora de identidade configurada. Autenticação realizada com sucesso, redirecionando para o console da Huawei Cloud. Importante: Também é possível realizar o login no console através da federação de identidade por meio do hyperlink gerado na configuração de Identity Provider no console da Huawei Cloud. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iam/user-federation-with-keycloak-openid#exemplo",
    
    "relUrl": "/docs/management-and-governance/iam/user-federation-with-keycloak-openid#exemplo"
  },"302": {
    "doc": "Federação de Usuários com Keycloak (OpenID)",
    "title": "Referências",
    "content": ". | Documentação do IAM: https://support.huaweicloud.com/intl/en-us/usermanual-iam/iam_08_0002.html . | Blog da Huawei Cloud: https://bbs.huaweicloud.com/blogs/401343 . | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iam/user-federation-with-keycloak-openid#refer%C3%AAncias",
    
    "relUrl": "/docs/management-and-governance/iam/user-federation-with-keycloak-openid#referências"
  },"303": {
    "doc": "Federação de Usuários com Keycloak (OpenID)",
    "title": "Federação de Usuários com Keycloak (OpenID)",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iam/user-federation-with-keycloak-openid",
    
    "relUrl": "/docs/management-and-governance/iam/user-federation-with-keycloak-openid"
  },"304": {
    "doc": "Federação de Usuários com Keycloak (SAML 2.0)",
    "title": "Federação de Usuários com Keycloak (SAML 2.0)",
    "content": "V1.0 – Outubro 2024 . | Versão | Autor | Descrição | . | V1.0 – 2024-10-25 | Diogo Hatz d50037923 | Versão Inicial | . | V1.0 – 2024-10-25 | Wisley da Silva Paulo 00830850 | Revisão do Documento | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#federa%C3%A7%C3%A3o-de-usu%C3%A1rios-com-keycloak-saml-20",
    
    "relUrl": "/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#federação-de-usuários-com-keycloak-saml-20"
  },"305": {
    "doc": "Federação de Usuários com Keycloak (SAML 2.0)",
    "title": "Objetivo",
    "content": "Este documento objetiva apresentar os procedimentos necessários para a efetivação da configuração de federação de identidade na Huawei Cloud (Service Provider) através de um provedor de identidade (IdP), como o RedHat SSO ou Keycloak. Neste exemplo, o protocolo utilizado para a federação de identidade será o SAML 2.0, mapeando os usuários do provedor de identidade para usuários IAM na Huawei Cloud. No diagrama abaixo, é possível visualizar o fluxo do processo de autenticação na Huawei Cloud utilizando um IdP. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#objetivo",
    
    "relUrl": "/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#objetivo"
  },"306": {
    "doc": "Federação de Usuários com Keycloak (SAML 2.0)",
    "title": "Keycloak Endpoint",
    "content": "Para realizar a integração da Huawei Cloud com um Identity Provider, primeiramente se faz necessário obter o arquivo de configurações XML relativo ao protocolo a ser utilizado do Identity Provider. Acesse o portal do Keycloak e navegue até a seção de “Realm Settings”. Clique em “SAML 2.0 Identity Provider Metadata”, na subseção de “Endpoints”, e salve localmente a página web aberta como um arquivo XML. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#keycloak-endpoint",
    
    "relUrl": "/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#keycloak-endpoint"
  },"307": {
    "doc": "Federação de Usuários com Keycloak (SAML 2.0)",
    "title": "IIC",
    "content": " ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#iic",
    
    "relUrl": "/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#iic"
  },"308": {
    "doc": "Federação de Usuários com Keycloak (SAML 2.0)",
    "title": "External Identity Provider",
    "content": "Acesse o serviço IIC no console da Huawei Cloud e navegue até a seção “Settings”. Clique em “Change to external identity provider” para criar uma configuração de federação de identidade. Clique em “Download Metadata File” para baixar o arquivo de configurações XML do protocolo a ser utilizado (SAML 2.0) do Service Provider. Clique em “Select File” na subseção “Identity Provider Details” e selecione o arquivo XML baixado no item 2.0 deste documento. Feito isso, basta clicar em “Next” seguido por “OK” para finalizar a configuração. Nota: As próximas três subseções (3.2, 3.3 e 3.4) são relativas a configurações de usuários, grupos, permission sets e contas do Organizations. Caso essas configurações já estejam feitas, ignore as subseções supracitadas. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#external-identity-provider",
    
    "relUrl": "/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#external-identity-provider"
  },"309": {
    "doc": "Federação de Usuários com Keycloak (SAML 2.0)",
    "title": "Users and Groups",
    "content": "Para realizar a federação de identidade utilizando um Identity Provider, faz-se necessário que usuários e grupos de usuários sejam criados no Service Provider. Para isso, selecione a seção de “Groups” e clique em “Create Group” para criar um grupo de usuários. Dê um nome ao grupo e selecione “OK” para finalizar a criação do grupo de usuários. Para criar os usuários, acesse a seção “Users” e clique em “Create User”. Preencha as informações pertinentes ao usuário, como username e e-mail, e clique em “Next” para avançar. Selecione um grupo de usuários no qual o usuário pertencerá e clique em “Next” seguido por “OK” para finalizar a criação do usuário. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#users-and-groups",
    
    "relUrl": "/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#users-and-groups"
  },"310": {
    "doc": "Federação de Usuários com Keycloak (SAML 2.0)",
    "title": "Permission Sets",
    "content": "Além dos usuários e grupos, também se faz necessário a presença de permission sets para delegar permissões aos usuários criados. Para isso, navegue até a subseção “Permission Sets” na seção “Multi-Account Permissions”, e clique em “Create Permission Set”. Preencha os campos relativos ao tempo de sessão do usuário e o nome do permission set e clique em “Next” para avançar. Selecione as permissões que o permission set irá possuir e selecione “Next” seguido por “OK” para finalizar a criação do permission set. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#permission-sets",
    
    "relUrl": "/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#permission-sets"
  },"311": {
    "doc": "Federação de Usuários com Keycloak (SAML 2.0)",
    "title": "Accounts",
    "content": "Por fim, será necessário configurar uma tripla para o usuário, permission set e conta, afim de delegar permissões a usuários a contas específicas do Organizations. Para isso, navegue até a subseção “Accounts” na seção “Multi-Account Permissions”, e clique em “Assign User/Group” na conta desejada. Selecione os usuários que terão acesso à conta selecionada e clique em “Next” para avançar. Selecione os permission sets que os usuários supracitados terão acesso na conta selecionada e clique em “Next” seguido por “OK” para finalizar a delegação de permissões a usuários. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#accounts",
    
    "relUrl": "/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#accounts"
  },"312": {
    "doc": "Federação de Usuários com Keycloak (SAML 2.0)",
    "title": "Keycloak Client",
    "content": "Para realizar a integração da Huawei Cloud com o Keycloack, faz-se necessário, primeiramente, criar um Client no IdP. Para isso, acesse a página de configurações do IdP (Keycloak) e navegue até a seção “Clients”. Clique em “Create” para criar um novo cliente. Clique em “Select file” para importar o arquivo de configurações XML da Huawei Cloud, salvo no item 3.1 deste documento, e clique em “Save”. Navegue até o cliente da Huawei Cloud criado e clique em “Edit” para editar as configurações do cliente. Desligue a opção “Client Signature Required”, habilite a opção “Force Name ID Format”, selecione o campo “Name ID Format” como sendo “username” e clique em “Save” para salvar as modificações feitas. Navegue até a seção de “Mappers”, ainda nas configurações do cliente da Huawei Cloud, e clique em “Create” para criar um mapper para o username. Selecione o “Mapper Type” como de tipo “User Property” e preencha os campos conforme a imagem abaixo. Navegue mais uma vez até a seção de “Mappers”, ainda nas configurações do cliente da Huawei Cloud, e clique em “Create” para criar um mapper para o group. Selecione o “Mapper Type” como de tipo “Group list” e preencha os campos conforme a imagem abaixo. Nota: Para realizar a federação de usuários da Huawei Cloud, faz-se necessária a existência de usuários primeiramente. Caso não exista nenhum usuário criado no Keycloak, crie um usuário. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#keycloak-client",
    
    "relUrl": "/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#keycloak-client"
  },"313": {
    "doc": "Federação de Usuários com Keycloak (SAML 2.0)",
    "title": "Exemplo",
    "content": "A seguir segue um exemplo de validação do login no console da Huawei Cloud por meio da federação de identidade. Acessando o hyperlink do portal do IAM Identity Center. Redirecionamento para a página de login do Identity Provider. Redirecionamento para a o console da Huawei Cloud após a autenticação ser bem-sucedida. Clique em “Access Console” ao lado do permission set desejado para realizar login na conta desejada. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#exemplo",
    
    "relUrl": "/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#exemplo"
  },"314": {
    "doc": "Federação de Usuários com Keycloak (SAML 2.0)",
    "title": "Referências",
    "content": ". | Documentação do IIC: https://support.huaweicloud.com/intl/pt-br/productdesc-identitycenter/iic_01_0002.html . | Blog da Huawei Cloud: https://bbs.huaweicloud.com/blogs/429838 . | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#refer%C3%AAncias",
    
    "relUrl": "/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2#referências"
  },"315": {
    "doc": "Federação de Usuários com Keycloak (SAML 2.0)",
    "title": "Federação de Usuários com Keycloak (SAML 2.0)",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2",
    
    "relUrl": "/docs/management-and-governance/iic/user-federation-with-keycloak-saml-2"
  },"316": {
    "doc": "Federação de Usuários com Keycloak (SAML 2.0)",
    "title": "Federação de Usuários com Keycloak (SAML 2.0)",
    "content": "V1.2 – Outubro 2024 . | Versão | Autor | Descrição | . | V1.0 – 2024-10-14 | Diogo Hatz d50037923 | Versão Inicial | . | V1.0 – 2024-10-14 | Wisley da Silva Paulo 00830850 | Revisão do Documento | . | V1.1 – 2024-11-11 | Diogo Hatz d50037923 | Atualização do documento | . | V1.2 – 2024-12-19 | Diogo Hatz d50037923 | Atualização do documento | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iam/user-federation-with-keycloak-saml-2#federa%C3%A7%C3%A3o-de-usu%C3%A1rios-com-keycloak-saml-20",
    
    "relUrl": "/docs/management-and-governance/iam/user-federation-with-keycloak-saml-2#federação-de-usuários-com-keycloak-saml-20"
  },"317": {
    "doc": "Federação de Usuários com Keycloak (SAML 2.0)",
    "title": "Objetivo",
    "content": "Este documento objetiva apresentar os procedimentos necessários para a efetivação da configuração de federação de identidade na Huawei Cloud (Service Provider) através de um provedor de identidade (IdP), como o RedHat SSO ou Keycloak. Neste exemplo, o protocolo utilizado para a federação de identidade será o SAML 2.0, mapeando os usuários do provedor de identidade para usuários virtuais na Huawei Cloud. No diagrama abaixo, é possível visualizar o fluxo do processo de autenticação na Huawei Cloud utilizando um IdP. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iam/user-federation-with-keycloak-saml-2#objetivo",
    
    "relUrl": "/docs/management-and-governance/iam/user-federation-with-keycloak-saml-2#objetivo"
  },"318": {
    "doc": "Federação de Usuários com Keycloak (SAML 2.0)",
    "title": "Keycloak",
    "content": "Primeiramente, faz-se necessário obter o arquivo de configuração XML do service provider (SP) da Huawei Cloud para realizar a configuração no Keycloak. Em um navegador web, acesse a seguinte página e salve o seu conteúdo em um arquivo XML: https://auth.huaweicloud.com/authui/saml/metadata.xml. Nota: Para implementações baseadas em nuvem privada, como o HCSO, o endpoint público para obter o XML do SAML 2.0 possuirá a seguinte estrutura: . Feito isso, acesse a página de configurações do IdP (Keycloak) e navegue até a seção “Clients”. Clique em “Create” para criar um novo cliente. Clique em “Select file” para importar o arquivo de configurações XML da Huawei Cloud, salvo na etapa anterior e clique em “Save”. Navegue até o cliente da Huawei Cloud criado e clique em “Edit” para editar as configurações do cliente. Desligue a opção “Encrypt Assertions” e clique em “Save” para salvar a modificação feita. Navegue até a seção de “Mappers”, ainda nas configurações do cliente da Huawei Cloud, e clique em “Create” para criar um mapper para o username. Selecione o “Mapper Type” como de tipo “User Property” e preencha os campos conforme a imagem abaixo. Navegue mais uma vez até a seção de “Mappers”, ainda nas configurações do cliente da Huawei Cloud, e clique em “Create” para criar um mapper para o group. Selecione o “Mapper Type” como de tipo “Group list” e preencha os campos conforme a imagem abaixo. Para realizar a federação de usuários da Huawei Cloud, faz-se necessária a existência de usuários primeiramente. Caso não exista nenhum usuário criado no Keycloak, crie um usuário. Navegue até a seção de “Realm Settings” e clique em “SAML 2.0 Identity Provider Metadata”, na subseção de “Endpoints”. Salve localmente a página web aberta como um arquivo XML. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iam/user-federation-with-keycloak-saml-2#keycloak",
    
    "relUrl": "/docs/management-and-governance/iam/user-federation-with-keycloak-saml-2#keycloak"
  },"319": {
    "doc": "Federação de Usuários com Keycloak (SAML 2.0)",
    "title": "IAM",
    "content": "Acesse o serviço IAM no console da Huawei Cloud e navegue até a seção “Identity Providers”. Clique em “Create Identity Provider” para criar uma configuração de federação de identidade. Selecione o protocolo SAML e o “SSO Type” como “Virtual User”. Clique no botão “OK” para salvar as configurações da criação da IdP. Feito isso, selecione a opção “Modify” ao lado do provedor de identidade criado e clique em “Select File” para realizar o upload do arquivo de configurações XML salvo do provedor de identidade (Keycloak). Após ter selecionado o arquivo, selecione “Upload” para fazer o upload do arquivo XML e carregar as configurações do IdP. Após confirmar o upload do arquivo, clique em “OK” nas configurações extraídas do Keycloak pelo arquivo XML para salvar. Por fim, na seção de “Identity Conversion Rules”, clique em “Create Rule” para criar uma regra de conversão de usuários e grupos do IdP para os usuários e grupos correspondentes na Huawei Cloud. É possível utilizar o exemplo de regra de conversão abaixo. Importante: A regra de conversão abaixo mapeia todos os usuários do Keycloak para os grupos do IAM na Huawei Cloud que possuam os mesmos nomes dos grupos configurados no Keycloak. Por exemplo: No Keycloak, o usuário “Teste” pertencente ao grupo “admin” será mapeado, na Huawei Cloud, para o usuário virtual “Teste” no grupo “admin”. Não é necessário que o usuário “Teste” seja previamente criado na Huawei Cloud. No entanto, é obrigatório que o grupo “admin” seja criado previamente na Huawei Cloud com as devidas políticas de controle de acesso. [ { \"remote\": [ { \"type\": \"UserName\" }, { \"type\": \"Group\" } ], \"local\": [ { \"user\": { \"name\": \"{0}\" } }, { \"group\": { \"name\": \"{1}\" } } ] } ] . Feito isso, clique em “OK” para salvar as modificações feitas no IdP. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iam/user-federation-with-keycloak-saml-2#iam",
    
    "relUrl": "/docs/management-and-governance/iam/user-federation-with-keycloak-saml-2#iam"
  },"320": {
    "doc": "Federação de Usuários com Keycloak (SAML 2.0)",
    "title": "Exemplo",
    "content": "A seguir segue um exemplo de validação do login no console da Huawei Cloud por meio da federação de identidade. Acessando o console da Huawei Cloud e selecionando a opção de login por meio de usuário federado. Inserindo o nome da conta e selecionando a IdP configurada no dropdown. Realizando o login na provedora de identidade configurada. Autenticação realizada com sucesso, redirecionando para o console da Huawei Cloud. Importante: Também é possível realizar o login no console através da federação de identidade por meio do hyperlink gerado na configuração de Identity Provider no console da Huawei Cloud. ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iam/user-federation-with-keycloak-saml-2#exemplo",
    
    "relUrl": "/docs/management-and-governance/iam/user-federation-with-keycloak-saml-2#exemplo"
  },"321": {
    "doc": "Federação de Usuários com Keycloak (SAML 2.0)",
    "title": "Referências",
    "content": ". | Documentação do IAM: https://support.huaweicloud.com/intl/en-us/usermanual-iam/iam_08_0002.html . | Blog da Huawei Cloud: https://bbs.huaweicloud.com/blogs/393396 . | . ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iam/user-federation-with-keycloak-saml-2#refer%C3%AAncias",
    
    "relUrl": "/docs/management-and-governance/iam/user-federation-with-keycloak-saml-2#referências"
  },"322": {
    "doc": "Federação de Usuários com Keycloak (SAML 2.0)",
    "title": "Federação de Usuários com Keycloak (SAML 2.0)",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/management-and-governance/iam/user-federation-with-keycloak-saml-2",
    
    "relUrl": "/docs/management-and-governance/iam/user-federation-with-keycloak-saml-2"
  },"323": {
    "doc": "Configurando uma VPN Client to Site",
    "title": "Configurando uma VPN Client to Site",
    "content": "V1.0 – Setembro 2024 . | Versão | Autor | Descrição | . | V1.0 – 2024-09-10 | Diogo Hatz d50037923 | Versão Inicial | . | V1.0 – 2024-09-10 | Wisley da Silva Paulo 00830850 | Revisão do Documento | . ",
    "url": "/huaweicloud-knowledge-base/docs/networking/vpn/vpn-client-to-site-startup#configurando-uma-vpn-client-to-site",
    
    "relUrl": "/docs/networking/vpn/vpn-client-to-site-startup#configurando-uma-vpn-client-to-site"
  },"324": {
    "doc": "Configurando uma VPN Client to Site",
    "title": "Objetivo",
    "content": "Este documento objetiva apresentar os procedimentos necessários para o provisionamento de uma VPN Client-to-Site utilizando o serviço de VPN P2C da Huawei Cloud e realizando o acesso através do cliente OpenVPN. ",
    "url": "/huaweicloud-knowledge-base/docs/networking/vpn/vpn-client-to-site-startup#objetivo",
    
    "relUrl": "/docs/networking/vpn/vpn-client-to-site-startup#objetivo"
  },"325": {
    "doc": "Configurando uma VPN Client to Site",
    "title": "Considerações",
    "content": ". | No momento de escrita deste documento, a VPN P2C da Huawei Cloud só se encontra disponível na região de São Paulo e no método de billing yearly/monthly; . | Um certificado SSL é necessário para realizar a autenticação da VPN, certificado o qual pode ser gerado gratuitamente através da ferramenta EasyRSA. | . ",
    "url": "/huaweicloud-knowledge-base/docs/networking/vpn/vpn-client-to-site-startup#considera%C3%A7%C3%B5es",
    
    "relUrl": "/docs/networking/vpn/vpn-client-to-site-startup#considerações"
  },"326": {
    "doc": "Configurando uma VPN Client to Site",
    "title": "Certificado",
    "content": "Para realizar a autenticação da VPN P2C, primeiramente se faz necessário gerar um certificado SSL que será hosteado no serviço CCM da Huawei Cloud. Neste exemplo, a ferramenta que será utilizada para a geração do certificado será o Easy-RSA, no entanto, todas as demais ferramentas também são suportadas, como o Let’s Encrypt. Obs: Caso outra ferramenta de emissão de certificado seja utilizada, faz-se necessário incluir o certificate chain no certificado. Baixe a ferramenta Easy-RSA através do seguinte hyperlink: https://github.com/OpenVPN/easy-rsa/releases/download/v3.1.7/EasyRSA-3.1.7-win64.zip. Após extrair o arquivo baixado, abra o CMD e navegue até a pasta extraída do arquivo baixado. Após navegar até a pasta do EasyRSA, execute o arquivo “EasyRSA-Start.bat” através do comando “.\\EasyRSA-Start.bat” . Digite o comando “./easyrsa init-pki” para inicializar o ambiente de PKI . Copie o arquivo “vars.example” do diretório C:\\EasyRSA-3.1.7 para o diretório C:\\EasyRSA-3.1.7\\pki e, então, renomeie o arquivo para “vars”. . Volte para o CMD e use o comando “./easyrsa build-ca nopass” para gerar um certificado CA. | Por padrão, o certificado CA será armazenado no diretório C:\\EasyRSA-3.1.7\\pki. Neste exemplo, o certificado “ca.crt” foi gerado. | Por padrão, a chave privada do certificado CA será armazenado no diretório C:\\EasyRSA-3.1.7\\pki\\private. Neste exemplo, o certificado “ca.key” foi gerado. | . Use o comando “./easyrsa build-server-full p2cserver.com nopass” para gerar um certificado de servidor e a sua chave privada. Note que o argumento “p2cserver.com” será o common name (CN) do certificado gerado. | Por padrão, o certificado do servidor será armazenado no diretório C:\\EasyRSA-3.1.7\\pki\\issued. Neste exemplo, o certificado “p2cserver.com.crt” foi gerado. | Por padrão, a chave privada do certificado do servidor será armazenado no diretório C:\\EasyRSA-3.1.7\\pki\\private. Neste exemplo, o certificado “p2cserver.com.key” foi gerado. | . Obs: Existem duas formas de realizar a autenticação do cliente, uma delas sendo através de usuário e senha definidos no console da HWC e o outro sendo através de um certificado SSL. Para a segunda opção, siga a etapa abaixo. Caso contrário, pule esta etapa. Use o comando ./easyrsa build-client-full p2cclient.com nopass” para gerar um certificado de cliente e a sua chave privada. | Por padrão, o certificado do cliente será armazenado no diretório C:\\EasyRSA-3.1.7\\pki\\issued. Neste exemplo, o certificado “p2cclient.com.crt” foi gerado. | Por padrão, a chave privada do certificado do servidor será armazenado no diretório C:\\EasyRSA-3.1.7\\pki\\private. Neste exemplo, o certificado “p2cclient.com.key” foi gerado. | . ",
    "url": "/huaweicloud-knowledge-base/docs/networking/vpn/vpn-client-to-site-startup#certificado",
    
    "relUrl": "/docs/networking/vpn/vpn-client-to-site-startup#certificado"
  },"327": {
    "doc": "Configurando uma VPN Client to Site",
    "title": "CCM",
    "content": "Após ter realizado a emissão do(s) certificado(s) na seção anterior, faz-se necessário publicar o certificado do servidor no serviço Cloud Certificate Manager (CCM) da Huawei Cloud. Para isso, navegue até o serviço CCM no console da HWC . Clique na seção “Hosted Certificates” e selecione a opção “Upload Certificate”. No campo “Certificate File”, faz-se necessário inserir tanto o certificado do servidor quanto do CA, nessa ordem. Portanto, insira primeiramente o certificado do servidor e posteriormente, na mesma caixa de texto, o certificado do CA. No campo “Private Key”, basta inserir o conteúdo da private key do servidor. Após inserir ambos campos, basta clicar em “Submit” para salvar o certificado. ",
    "url": "/huaweicloud-knowledge-base/docs/networking/vpn/vpn-client-to-site-startup#ccm",
    
    "relUrl": "/docs/networking/vpn/vpn-client-to-site-startup#ccm"
  },"328": {
    "doc": "Configurando uma VPN Client to Site",
    "title": "P2C VPN",
    "content": "Navegue até o serviço VPN no console da Huawei Cloud e clique na seção “Enterprise – VPN Gateways”, seguido por “P2C VPN Gateways” e em “Buy P2C VPN Gateway”. Preencha as informações relativas à VPN Gateway, como o seu nome, VPC e Subnet em que estarão. Ademais, especifique também um EIP para o gateway, assim como a sua largura de banda. Após isso, basta clicar em “Buy Now”. Clique no VPN Gateway comprado e navegue até a seção “Server” para configurar o certificado do servidor e a forma de autenticação do cliente. Preencha as informações relativas ao CIDR local, CIDR do cliente, o certificado do servidor e a forma de autenticação do cliente. Obs: O CIDR local corresponde ao bloco de rede da cloud que a VPN será fechada, ao passo em que o CIDR do cliente corresponde ao bloco virtual de endereçamento utilizado pelo cliente. É importante que não haja overlap entre os blocos de rede local e de cliente. Caso a forma de autenticação do cliente seja feita através de usuário e senha, é necessário configurar também um usuário e senha na seção “User Management”. Crie um usuário e senha e defina um grupo de usuário para o usuário. Para delegar permissões a um grupo de usuários, navegue até a seção “Access Policies” e clique em “Create Policy”. Insira o nome da policy, assim como o CIDR local preenchido anteriormente e o grupo de usuários que poderão acessar os blocos de rede especificados. Feito isso, retorne até a página do serviço de VPN P2C Gateway e clique na opção “More” seguido por “Download Client Configuration”. ",
    "url": "/huaweicloud-knowledge-base/docs/networking/vpn/vpn-client-to-site-startup#p2c-vpn",
    
    "relUrl": "/docs/networking/vpn/vpn-client-to-site-startup#p2c-vpn"
  },"329": {
    "doc": "Configurando uma VPN Client to Site",
    "title": "OpenVPN",
    "content": "Para acessar a VPN P2C criada, faz-se necessário baixar o cliente OpenVPN através do seguinte hyperlink: https://openvpn.net/downloads/openvpn-connect-v3-windows.msi. Após baixar o OpenVPN, execute a sua instalação padrão. Após a instalação do cliente OpenVPN, execute-o e clique em Upload File para realizar a configuração da VPN. Faça o upload do arquivo .OVPN baixado no item 5.0 deste documento. Insira o usuário e senha configurados no item 5.0 deste documento e clique em “Connect”. Caso uma janela de aviso apareça solicitando um certificado externo, basta clicar em “Continue”. Caso todas as etapas tenham sido seguidas corretamente, o cliente do OpenVPN irá se conectar à VPN criada. ",
    "url": "/huaweicloud-knowledge-base/docs/networking/vpn/vpn-client-to-site-startup#openvpn",
    
    "relUrl": "/docs/networking/vpn/vpn-client-to-site-startup#openvpn"
  },"330": {
    "doc": "Configurando uma VPN Client to Site",
    "title": "Referências",
    "content": ". | Documentação da VPN P2C: https://support.huaweicloud.com/intl/en-us/admin-vpn/p2cvpn_admin_00001.html . | Documentação da VPN P2C: https://support.huaweicloud.com/intl/en-us/usermanual-vpn/vpn_ug_p2c_00016.html. | . ",
    "url": "/huaweicloud-knowledge-base/docs/networking/vpn/vpn-client-to-site-startup#refer%C3%AAncias",
    
    "relUrl": "/docs/networking/vpn/vpn-client-to-site-startup#referências"
  },"331": {
    "doc": "Configurando uma VPN Client to Site",
    "title": "Configurando uma VPN Client to Site",
    "content": ". ",
    "url": "/huaweicloud-knowledge-base/docs/networking/vpn/vpn-client-to-site-startup",
    
    "relUrl": "/docs/networking/vpn/vpn-client-to-site-startup"
  }
}
